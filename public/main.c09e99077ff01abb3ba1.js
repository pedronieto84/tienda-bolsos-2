(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var i=n("mrSG"),r=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(i.a)({identifier:s,optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var r=Object(i.g)(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var a=Object(i.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(i.b)(this,void 0,void 0,function(){var t;return Object(i.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(i.f)(Object(i.f)([],Object(i.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(i.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(void 0===r?s:r);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(i.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Object(i.e)(h.value,2),f=d[1];u===this.normalizeInstanceIdentifier(d[0])&&f.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,i=t.options,r=void 0===i?{}:i,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:r}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("quSY");class r extends i.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends r{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("lJxs"),r=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(r.a)(t(n,o)).pipe(Object(i.a)((t,i)=>e(n,t,o,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const i=Object(o.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6Uf2":function(t,e,n){"use strict";(function(t){var e,i=n("zIRd"),r=n("/6Yf"),o=n("qOnz"),s=n("mrSG"),a=n("q/0M"),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.K)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.E)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),c=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),l=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new c},h=l("localStorage"),d=l("sessionStorage"),f=new a.b("@firebase/database"),p=(e=1,function(){return e++}),m=function(t){var e=Object(o.J)(t),n=new o.d;n.update(e);var i=n.digest();return o.h.encodeByteArray(i)},g=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++){var r=t[i];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?n+=g.apply(null,r):n+="object"==typeof r?Object(o.K)(r):r,n+=" "}return n},v=null,b=!0,y=function(t,e){Object(o.f)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(f.logLevel=a.a.VERBOSE,v=f.log.bind(f),e&&d.set("logging_enabled",!0)):"function"==typeof t?v=t:(v=null,d.remove("logging_enabled"))},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===v&&!0===d.get("logging_enabled")&&y(!0)),v){var n=g.apply(null,t);v(n)}},w=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];_.apply(void 0,Object(s.f)([t],Object(s.e)(e)))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+g.apply(void 0,Object(s.f)([],Object(s.e)(t)));f.error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+g.apply(void 0,Object(s.f)([],Object(s.e)(t)));throw f.error(n),new Error(n)},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+g.apply(void 0,Object(s.f)([],Object(s.e)(t)));f.warn(n)},S=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",x="[MAX_NAME]",I=function(t,e){if(t===e)return 0;if(t===T||e===x)return-1;if(e===T||t===x)return 1;var n=L(t),i=L(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1},k=function(t,e){return t===e?0:t<e?-1:1},A=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.K)(e))},D=function(t){if("object"!=typeof t||null===t)return Object(o.K)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var i="{",r=0;r<e.length;r++)0!==r&&(i+=","),i+=Object(o.K)(e[r]),i+=":",i+=D(t[e[r]]);return i+"}"},R=function(t,e){var n=t.length;if(n<=e)return[t];for(var i=[],r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function P(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var N=function(t){var e,n,i,r,s;Object(o.f)(!S(t),"Invalid JSON number"),0===t?(n=0,i=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(s=0;s<64;s+=8){var l=parseInt(u.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},j=new RegExp("^-?(0*)\\d{1,10}$"),L=function(t){if(j.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},F=function(t){try{t()}catch(e){setTimeout(function(){throw E("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},M=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},V=function(){function t(t,e,n){var i=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then(function(t){return i.auth_=t})}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';E(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),U=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),B=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H="websocket",q="long_polling",z=function(){function t(t,e,n,i,r,o,s){void 0===r&&(r=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function K(t,e,n){var i;if(Object(o.f)("string"==typeof e,"typeof type must == string"),Object(o.f)("object"==typeof n,"typeof params must == object"),e===H)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==q)throw new Error("Unknown connection type: "+e);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var r=[];return P(n,function(t,e){r.push(t+"="+e)}),i+r.join("&")}var W=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.m)(this.counters_)},t}(),G={},Y={};function $(t){var e=t.toString();return G[e]||(G[e]=new W),G[e]}var Q=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=function(e){t[e]&&F(function(){n.onMessage_(t[e])})},i=0;i<t.length;++i)e(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==i(););},t}(),X="start",J="close",Z=function(){function t(t,e,n,i,r){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=i,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(t),this.stats_=$(e),this.urlFn=function(t){return K(e,q,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Q(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(o.A)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new tt(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Object(s.e)(t,5),r=i[0],o=i[1],a=i[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,r===X)n.id=o,n.password=a;else{if(r!==J)throw new Error("Unrecognized command received: "+r);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Object(s.e)(t,2),r=i[0],o=i[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&B.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(o.A)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.K)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.i)(e),i=R(n,1840),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.A)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.K)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),tt=function(){function t(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.A)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){_("frame writing exception"),u.stack&&_(u.stack),_(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||_("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var i=function(){n.outstandingRequests.delete(e),n.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,function(){clearTimeout(r),i()})},t.prototype.addTag=function(t,e){var n=this;Object(o.A)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){_("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(r){}},Math.floor(1))},t}(),et="";function nt(t){et=t}var it=null;"undefined"!=typeof MozWebSocket?it=MozWebSocket:"undefined"!=typeof WebSocket&&(it=WebSocket);var rt=function(){function t(e,n,i,r,o){this.connId=e,this.applicationId=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=$(n),this.connURL=t.connectionURL_(n,r,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var i={v:"5"};return!Object(o.A)()&&"undefined"!=typeof location&&location.hostname&&B.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),K(t,H,i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.A)()){var i={headers:{"User-Agent":"Firebase/5/"+et+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},r=process.env,s=0===this.connURL.indexOf("wss://")?r.HTTPS_PROXY||r.https_proxy:r.HTTP_PROXY||r.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new it(this.connURL,[],i)}else this.mySock=new it(this.connURL,[],i={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(u){this.log_("Error instantiating WebSocket.");var a=u.message||u.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==it&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.E)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(o.f)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.K)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=R(e,16384);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),ot=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Z,rt]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,i,r=rt&&rt.isAvailable(),o=r&&!rt.previouslyFailed();if(e.webSocketOnly&&(r||E("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[rt];else{var a=this.transports_=[];try{for(var u=Object(s.g)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),st=function(){function t(t,e,n,i,r,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=i,this.onReady_=r,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new ot(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,i)},Math.floor(0));var r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=M(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(r)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=A("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?C("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&E("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),M(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):M(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),at=function(){function t(){}return t.prototype.put=function(t,e,n,i){},t.prototype.merge=function(t,e,n,i){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ut=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var i=Object(s.f)([],Object(s.e)(this.listeners_[t])),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var i=this.getInitialEvent(t);i&&e.apply(n,i)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var i=this.listeners_[t]||[],r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)},t.prototype.validateEventType_=function(t){Object(o.f)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),ct=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.y)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(s.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ut),lt=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function ht(){return new lt("")}function dt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ft(t){return t.pieces_.length-t.pieceNum_}function pt(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new lt(t.pieces_,e)}function mt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function gt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function vt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new lt(e,0)}function bt(t,e){for(var n=[],i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof lt)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new lt(n,0)}function yt(t){return t.pieceNum_>=t.pieces_.length}function _t(t,e){var n=dt(t),i=dt(e);if(null===n)return e;if(n===i)return _t(pt(t),pt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function wt(t,e){for(var n=gt(t,0),i=gt(e,0),r=0;r<n.length&&r<i.length;r++){var o=I(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1}function Ct(t,e){if(ft(t)!==ft(e))return!1;for(var n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Ot(t,e){var n=t.pieceNum_,i=e.pieceNum_;if(ft(t)>ft(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}var Et=function(){return function(t,e){this.errorPrefix_=e,this.parts_=gt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.I)(this.parts_[n]);St(this)}}();function St(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Tt(t))}function Tt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var xt,It,kt=function(t){function e(){var e,n,i=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==i.visible_&&(i.visible_=t,i.trigger("visible",t))},!1),i}return Object(s.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ut),At=1e3,Dt=function(t){function e(n,i,r,s,a,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=i,l.onDataUpdate_=r,l.onConnectStatus_=s,l.onServerInfoUpdate_=a,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=w("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=At,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(o.A)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),kt.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&ct.getInstance().on("online",l.onOnline_,l),l}return Object(s.c)(e,t),e.prototype.sendRequest=function(t,e,n){var i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_(Object(o.K)(r)),Object(o.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},e.prototype.get=function(t){var e=this,n=new o.a,i={p:t._path.toString(),q:t._queryObject},r={action:"g",request:i,onComplete:function(t){var r=t.d;"ok"===t.s?(e.onDataUpdate_(i.p,r,!1,null),n.resolve(r)):n.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[s];void 0!==t&&r===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,i){var r=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),Object(o.f)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o.f)(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");var a={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(s).set(r,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(i){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})},e.prototype.sendListen_=function(t){var n=this,i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);var s={p:r};t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,i),(n.listens.get(r)&&n.listens.get(r).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(r,o),t.onComplete&&t.onComplete(u,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(o.k)(t,"w")){var n=Object(o.H)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+e._queryParams.getIndex().toString()+'"',r=e._path.toString();E("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+r+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.r)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.D)(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,function(n){var i=n.s,r=n.d||"error";t.authToken_===e&&("ok"===i?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(i,r))})}},e.prototype.unlisten=function(t,e){var n=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),Object(o.f)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);var r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,i){var r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,i){this.putInternal("p",t,e,n,i)},e.prototype.merge=function(t,e,n,i){this.putInternal("m",t,e,n,i)},e.prototype.putInternal=function(t,e,n,i,r){var o={p:e,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,function(i){e.log_(n+" response",i),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),r&&r(i.s,i.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.K)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+Object(o.K)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=At,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=At,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=At),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,r())};this.realtime_={close:h,sendRequest:function(t){Object(o.f)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(d).then(function(t){c?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,l=new st(s,a.repoInfo_,a.applicationId_,n,i,r,function(t){E(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},u))}).then(null,function(e){a.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&E(e),h())})}},e.prototype.interrupt=function(t){_("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){_("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.v)(this.interruptReasons_)&&(this.reconnectDelay_=At,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return D(t)}).join("$"):"default";var i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,i=new lt(t).toString();if(this.listens.has(i)){var r=this.listens.get(i);n=r.get(e),r.delete(e),0===r.size&&this.listens.delete(i)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){_("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,i;this.tryAuth();try{for(var r=Object(s.g)(this.listens.values()),o=r.next();!o.done;o=r.next()){var a=o.value;try{for(var u=(n=void 0,Object(s.g)(a.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(d){n={error:d}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.A)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+et.replace(/\./g,"-")]=1,Object(o.y)()?t["framework.cordova"]=1:Object(o.B)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ct.getInstance().currentlyOnline();return Object(o.v)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(at),Rt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Pt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Rt(T,t),i=new Rt(T,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return Rt.MIN},t}(),Nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return xt},set:function(t){xt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return I(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.g)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Rt.MIN},e.prototype.maxPost=function(){return new Rt(x,xt)},e.prototype.makePost=function(t,e){return Object(o.f)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Rt(t,xt)},e.prototype.toString=function(){return".key"},e}(Pt),jt=new Nt,Lt=function(){function t(t,e,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ft=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:Vt.EMPTY_NODE,this.right=null!=o?o:Vt.EMPTY_NODE}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Vt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,i;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Vt.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Mt=function(){function t(){}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Ft(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Vt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ft.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ft.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,i=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Lt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Lt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Lt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Lt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Mt,t}();function Ut(t,e){return I(t.name,e.name)}function Bt(t,e){return I(t,e)}var Ht,qt,zt,Kt,Wt,Gt=function(t){return"number"==typeof t?"number:"+N(t):"string:"+t},Yt=function(t){if(t.isLeafNode()){var e=t.val();Object(o.f)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(o.k)(e,".sv"),"Priority must be a string or number.")}else Object(o.f)(t===It||t.isEmpty(),"priority of unexpected type.");Object(o.f)(t===It||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},$t=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.f)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Yt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Ht},set:function(t){Ht=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return yt(e)?this:".priority"===dt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var i=dt(e);return null===i?n:n.isEmpty()&&".priority"!==i?this:(Object(o.f)(".priority"!==i||1===ft(e),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(pt(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Gt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?N(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,i=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(i);return Object(o.f)(r>=0,"Unknown leaf type: "+n),Object(o.f)(s>=0,"Unknown leaf type: "+i),r===s?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Qt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?I(t.name,e.name):r},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Rt.MIN},e.prototype.maxPost=function(){return new Rt(x,new $t("[PRIORITY-POST]",zt))},e.prototype.makePost=function(t,e){var n=qt(t);return new Rt(e,new $t("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Pt)),Xt=Math.log(2),Jt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Xt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Zt=function(t,e,n,i){t.sort(e);var r=function(e,i){var o,s,a=i-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Ft(s,o.node,Ft.BLACK,null,null);var u=parseInt(a/2,10)+e,c=r(e,u),l=r(u+1,i);return o=t[u],s=n?n(o):o,new Ft(s,o.node,Ft.BLACK,c,l)},o=function(e){for(var i=null,o=null,s=t.length,a=function(e,i){var o=s-e,a=s;s-=e;var c=r(o+1,a),l=t[o],h=n?n(l):l;u(new Ft(h,l.node,i,null,c))},u=function(t){i?(i.left=t,i=t):(o=t,i=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,Ft.BLACK):(a(h,Ft.BLACK),a(h,Ft.RED))}return o}(new Jt(t.length));return new Vt(i||e,o)},te={},ee=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.f)(te&&Qt,"ChildrenNode.ts has not been loaded"),Kt=Kt||new t({".priority":te},{".priority":Qt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.H)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Vt?e:null},t.prototype.hasIndex=function(t){return Object(o.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.f)(e!==jt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i,r=[],a=!1,u=n.getIterator(Rt.Wrap),c=u.getNext();c;)a=a||e.isDefinedOn(c.node),r.push(c),c=u.getNext();i=a?Zt(r,e.getCompare()):te;var l=e.toString(),h=Object(s.a)({},this.indexSet_);h[l]=e;var d=Object(s.a)({},this.indexes_);return d[l]=i,new t(d,h)},t.prototype.addToIndexes=function(e,n){var i=this;return new t(Object(o.F)(this.indexes_,function(t,r){var s=Object(o.H)(i.indexSet_,r);if(Object(o.f)(s,"Missing index implementation for "+r),t===te){if(s.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(Rt.Wrap),c=u.getNext();c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),Zt(a,s.getCompare())}return te}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Rt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.F)(this.indexes_,function(t){if(t===te)return t;var i=n.get(e.name);return i?t.remove(new Rt(e.name,i)):t}),this.indexSet_)},t}(),ne=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Yt(this.priorityNode_),this.children_.isEmpty()&&Object(o.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Wt||(Wt=new t(new Vt(Bt),null,ee.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Wt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Wt:e},t.prototype.getChild=function(t){var e=dt(t);return null===e?this:this.getImmediateChild(e).getChild(pt(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.f)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var i=new Rt(e,n),r=void 0,s=void 0;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));var a=r.isEmpty()?Wt:this.priorityNode_;return new t(r,a,s)},t.prototype.updateChild=function(t,e){var n=dt(t);if(null===n)return e;Object(o.f)(".priority"!==dt(t)||1===ft(t),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(pt(t),e);return this.updateImmediateChild(n,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},i=0,r=0,o=!0;if(this.forEachChild(Qt,function(s,a){n[s]=a.val(e),i++,o&&t.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):o=!1}),!e&&o&&r<2*i){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Gt(this.getPriority().val())+":"),this.forEachChild(Qt,function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.lazyHash_=""===t?"":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new Rt(t,e));return r?r.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Rt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Rt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var i=this.children_.getIteratorFrom(t.name,Rt.Wrap),r=i.peek();null!=r&&e.compare(r,t)<0;)i.getNext(),r=i.peek();return i},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var i=this.children_.getReverseIteratorFrom(t.name,Rt.Wrap),r=i.peek();null!=r&&e.compare(r,t)>0;)i.getNext(),r=i.peek();return i},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ie?-1:0},t.prototype.withIndex=function(e){if(e===jt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===jt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Qt),i=e.getIterator(Qt),r=n.getNext(),o=i.getNext();r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=n.getNext(),o=i.getNext()}return null===r&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===jt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),ie=new(function(t){function e(){return t.call(this,new Vt(Bt),ne.EMPTY_NODE,ee.Default)||this}return Object(s.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return ne.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ne));function re(t,e){if(void 0===e&&(e=null),null===t)return ne.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.f)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new $t(t,re(e));if(t instanceof Array){var n=ne.EMPTY_NODE;return P(t,function(e,i){if(Object(o.k)(t,e)&&"."!==e.substring(0,1)){var r=re(i);!r.isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r))}}),n.updatePriority(re(e))}var i=[],r=!1;if(P(t,function(t,e){if("."!==t.substring(0,1)){var n=re(e);n.isEmpty()||(r=r||!n.getPriority().isEmpty(),i.push(new Rt(t,n)))}}),0===i.length)return ne.EMPTY_NODE;var s=Zt(i,Ut,function(t){return t.name},Bt);if(r){var a=Zt(i,Qt.getCompare());return new ne(s,re(e),new ee({".priority":a},{".priority":Qt}))}return new ne(s,re(e),ee.Default)}Object.defineProperties(Rt,{MIN:{value:new Rt(T,ne.EMPTY_NODE)},MAX:{value:new Rt(x,ie)}}),Nt.__EMPTY_NODE=ne.EMPTY_NODE,$t.__childrenNodeConstructor=ne,It=ie,zt=ie,qt=re;var oe,se,ae=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.f)(!yt(e)&&".priority"!==dt(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(s.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?I(t.name,e.name):r},e.prototype.makePost=function(t,e){var n=re(t),i=ne.EMPTY_NODE.updateChild(this.indexPath_,n);return new Rt(e,i)},e.prototype.maxPost=function(){var t=ne.EMPTY_NODE.updateChild(this.indexPath_,ie);return new Rt(x,t)},e.prototype.toString=function(){return gt(this.indexPath_,0).join("/")},e}(Pt),ue=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?I(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Rt.MIN},e.prototype.maxPost=function(){return Rt.MAX},e.prototype.makePost=function(t,e){var n=re(t);return new Rt(e,n)},e.prototype.toString=function(){return".value"},e}(Pt)),ce="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",le=(oe=0,se=[],function(t){var e,n=t===oe;oe=t;var i=new Array(8);for(e=7;e>=0;e--)i[e]=ce.charAt(t%64),t=Math.floor(t/64);Object(o.f)(0===t,"Cannot push at time == 0");var r=i.join("");if(n){for(e=11;e>=0&&63===se[e];e--)se[e]=0;se[e]++}else for(e=0;e<12;e++)se[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)r+=ce.charAt(se[e]);return Object(o.f)(20===r.length,"nextPushId: Length should be 20."),r}),he=function(t){if("2147483647"===t)return"-";var e=L(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),i=0;i<n.length;i++)n[i]=t.charAt(i);if(n.length<786)return n.push("-"),n.join("");for(var r=n.length-1;r>=0&&"z"===n[r];)r--;if(-1===r)return x;var o=ce.charAt(ce.indexOf(n[r])+1);return n[r]=o,n.slice(0,r+1).join("")},de=function(t){if("-2147483648"===t)return T;var e=L(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),i=0;i<n.length;i++)n[i]=t.charAt(i);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ce.charAt(ce.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function fe(t){return{type:"value",snapshotNode:t}}function pe(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function me(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ge(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var ve=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,r,s){Object(o.f)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(i).equals(n.getChild(i))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(me(e,a)):Object(o.f)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(pe(e,n)):s.trackChildChange(ge(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Qt,function(t,i){e.hasChild(t)||n.trackChildChange(me(t,i))}),e.isLeafNode()||e.forEachChild(Qt,function(e,i){if(t.hasChild(e)){var r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(ge(e,i,r))}else n.trackChildChange(pe(e,i))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?ne.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),be=function(){function t(e){this.indexedFilter_=new ve(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,i,r,o){return this.matches(new Rt(e,n))||(n=ne.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=ne.EMPTY_NODE);var i=e.withIndex(this.index_);i=i.updatePriority(ne.EMPTY_NODE);var r=this;return e.forEachChild(Qt,function(t,e){r.matches(new Rt(t,e))||(i=i.updateImmediateChild(t,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),ye=function(){function t(t){this.rangedFilter_=new be(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,i,r,o){return this.rangedFilter_.matches(new Rt(e,n))||(n=ne.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,o):this.fullLimitUpdateChild_(t,e,n,r,o)},t.prototype.updateFullNode=function(t,e,n){var i;if(e.isLeafNode()||e.isEmpty())i=ne.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){i=ne.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;r.hasNext()&&o<this.limit_;){var s=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;i=i.updateImmediateChild(s.name,s.node),o++}}else{i=(i=e.withIndex(this.index_)).updatePriority(ne.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(r=void 0,this.reverse_){r=i.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else r=i.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;r.hasNext();)s=r.getNext(),!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:i=i.updateImmediateChild(s.name,ne.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,i,r){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var u=t;Object(o.f)(u.numChildren()===this.limit_,"");var c=new Rt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var d=u.getImmediateChild(e),f=i.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===e||u.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,c);if(h&&!n.isEmpty()&&p>=0)return null!=r&&r.trackChildChange(ge(e,n,d)),u.updateImmediateChild(e,n);null!=r&&r.trackChildChange(me(e,d));var m=u.updateImmediateChild(e,ne.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=r&&r.trackChildChange(pe(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}return n.isEmpty()?t:h&&s(l,c)>=0?(null!=r&&(r.trackChildChange(me(l.name,l.node)),r.trackChildChange(pe(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,ne.EMPTY_NODE)):t},t}(),_e=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:x},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Qt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function we(t,e,n){var i=t.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function Ce(t,e,n){var i=t.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function Oe(t,e){var n=t.copy();return n.index_=e,n}function Ee(t){var e,n={};return t.isDefault()||(t.index_===Qt?e="$priority":t.index_===ue?e="$value":t.index_===jt?e="$key":(Object(o.f)(t.index_ instanceof ae,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(o.K)(e),t.startSet_&&(n.startAt=Object(o.K)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(o.K)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(o.K)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(o.K)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function Se(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Qt&&(e.i=t.index_.toString()),e}var Te=function(t){function e(e,n,i){var r=t.call(this)||this;return r.repoInfo_=e,r.onDataUpdate_=n,r.authTokenProvider_=i,r.log_=w("p:rest:"),r.listens_={},r}return Object(s.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.f)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,i,r){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var u=e.getListenId_(t,i),c={};this.listens_[u]=c;var l=Ee(t._queryParams);this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,i),Object(o.H)(s.listens_,u)===c&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var i=e.getListenId_(t,n);delete this.listens_[i]},e.prototype.get=function(t){var e=this,n=Ee(t._queryParams),i=t._path.toString(),r=new o.a;return this.restRequest_(i+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(i,o,!1,null),r.resolve(o)):r.reject(new Error(o))}),r.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var i=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(r){var s=r&&r.accessToken;s&&(e.auth=s);var a=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+Object(o.G)(e);i.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){i.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=Object(o.E)(u.responseText)}catch(e){E("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&E("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()})},e}(at),xe=function(){function t(){this.rootNode_=ne.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Ie(){return{value:null,children:new Map}}function ke(t,e,n){if(yt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var i=dt(e);t.children.has(i)||t.children.set(i,Ie()),ke(t.children.get(i),e=pt(e),n)}}function Ae(t,e){if(yt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Qt,function(e,n){ke(t,new lt(e),n)}),Ae(t,e)}if(t.children.size>0){var i=dt(e);return e=pt(e),t.children.has(i)&&Ae(t.children.get(i),e)&&t.children.delete(i),0===t.children.size}return!0}function De(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,i){De(i,new lt(e.toString()+"/"+t),n)})}var Re=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(s.a)({},t);return this.last_&&P(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Pe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Re(t);var n=1e4+2e4*Math.random();M(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;P(e,function(e,r){r>0&&Object(o.k)(t.statsToReport_,e)&&(n[e]=r,i=!0)}),i&&this.server_.reportStats(n),M(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ne=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function je(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Le,Fe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Ne.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(yt(this.path)){if(null!=this.affectedTree.value)return Object(o.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new lt(e));return new t(ht(),n,this.revert)}return Object(o.f)(dt(this.path)===e,"operationForChild called for unrelated child."),new t(pt(this.path),this.affectedTree,this.revert)},t}(),Me=function(){function t(t,e){this.source=t,this.path=e,this.type=Ne.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return yt(this.path)?new t(this.source,ht()):new t(this.source,pt(this.path))},t}(),Ve=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Ne.OVERWRITE}return t.prototype.operationForChild=function(e){return yt(this.path)?new t(this.source,ht(),this.snap.getImmediateChild(e)):new t(this.source,pt(this.path),this.snap)},t}(),Ue=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Ne.MERGE}return t.prototype.operationForChild=function(e){if(yt(this.path)){var n=this.children.subtree(new lt(e));return n.isEmpty()?null:n.value?new Ve(this.source,ht(),n.value):new t(this.source,ht(),n)}return Object(o.f)(dt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,pt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Be=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(yt(t))return this.isFullyInitialized()&&!this.filtered_;var e=dt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),He=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function qe(t,e,n,i,r,s){var a=i.filter(function(t){return t.type===n});a.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(o.g)("Should only compare child_ events.");var i=new Rt(e.childName,e.snapshotNode),r=new Rt(n.childName,n.snapshotNode);return t.index_.compare(i,r)}(t,e,n)}),a.forEach(function(n){var i=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);r.forEach(function(r){r.respondsTo(n.type)&&e.push(r.createEvent(i,t.query_))})})}function ze(t,e){return{eventCache:t,serverCache:e}}function Ke(t,e,n,i){return ze(new Be(e,n,i),t.serverCache)}function We(t,e,n,i){return ze(t.eventCache,new Be(e,n,i))}function Ge(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ye(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var $e=function(){function t(t,e){void 0===e&&(Le||(Le=new Vt(k)),e=Le),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return P(e,function(t,e){n=n.set(new lt(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ht(),value:this.value};if(yt(t))return null;var n=dt(t),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(pt(t),e);return null!=r?{path:bt(new lt(n),r.path),value:r.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(yt(e))return this;var n=dt(e),i=this.children.get(n);return null!==i?i.subtree(pt(e)):new t(null)},t.prototype.set=function(e,n){if(yt(e))return new t(n,this.children);var i=dt(e),r=(this.children.get(i)||new t(null)).set(pt(e),n),o=this.children.insert(i,r);return new t(this.value,o)},t.prototype.remove=function(e){if(yt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=dt(e),i=this.children.get(n);if(i){var r=i.remove(pt(e)),o=void 0;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(yt(t))return this.value;var e=dt(t),n=this.children.get(e);return n?n.get(pt(t)):null},t.prototype.setTree=function(e,n){if(yt(e))return n;var i,r=dt(e),o=(this.children.get(r)||new t(null)).setTree(pt(e),n);return i=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,i)},t.prototype.fold=function(t){return this.fold_(ht(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(i,r){n[i]=r.fold_(bt(t,i),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ht(),e)},t.prototype.findOnPath_=function(t,e,n){var i=!!this.value&&n(e,this.value);if(i)return i;if(yt(t))return null;var r=dt(t),o=this.children.get(r);return o?o.findOnPath_(pt(t),bt(e,r),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ht(),e)},t.prototype.foreachOnPath_=function(e,n,i){if(yt(e))return this;this.value&&i(n,this.value);var r=dt(e),o=this.children.get(r);return o?o.foreachOnPath_(pt(e),bt(n,r),i):new t(null)},t.prototype.foreach=function(t){this.foreach_(ht(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,i){i.foreach_(bt(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),Qe=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new $e(null))},t}();function Xe(t,e,n){if(yt(e))return new Qe(new $e(n));var i=t.writeTree_.findRootMostValueAndPath(e);if(null!=i){var r=i.path,o=i.value,s=_t(r,e);return o=o.updateChild(s,n),new Qe(t.writeTree_.set(r,o))}var a=new $e(n),u=t.writeTree_.setTree(e,a);return new Qe(u)}function Je(t,e,n){var i=t;return P(n,function(t,n){i=Xe(i,bt(e,t),n)}),i}function Ze(t,e){if(yt(e))return Qe.empty();var n=t.writeTree_.setTree(e,new $e(null));return new Qe(n)}function tn(t,e){return null!=en(t,e)}function en(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(_t(n.path,e)):null}function nn(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Qt,function(t,n){e.push(new Rt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Rt(t,n.value))}),e}function rn(t,e){if(yt(e))return t;var n=en(t,e);return new Qe(null!=n?new $e(n):t.writeTree_.subtree(e))}function on(t){return t.writeTree_.isEmpty()}function sn(t,e){return an(ht(),t.writeTree_,e)}function an(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var i=null;return e.children.inorderTraversal(function(e,r){".priority"===e?(Object(o.f)(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=an(bt(t,e),r,n)}),n.getChild(t).isEmpty()||null===i||(n=n.updateChild(bt(t,".priority"),i)),n}function un(t,e){return yn(e,t)}function cn(t,e){if(t.snap)return Ot(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Ot(bt(t.path,n),e))return!0;return!1}function ln(t){return t.visible}function hn(t,e,n){for(var i=Qe.empty(),r=0;r<t.length;++r){var s=t[r];if(e(s)){var a=s.path,u=void 0;if(s.snap)Ot(n,a)?i=Xe(i,u=_t(n,a),s.snap):Ot(a,n)&&(u=_t(a,n),i=Xe(i,ht(),s.snap.getChild(u)));else{if(!s.children)throw Object(o.g)("WriteRecord should have .snap or .children");if(Ot(n,a))i=Je(i,u=_t(n,a),s.children);else if(Ot(a,n))if(yt(u=_t(a,n)))i=Je(i,ht(),s.children);else{var c=Object(o.H)(s.children,dt(u));if(c){var l=c.getChild(pt(u));i=Xe(i,ht(),l)}}}}}return i}function dn(t,e,n,i,r){if(i||r){var o=rn(t.visibleWrites,e);return!r&&on(o)?n:r||null!=n||tn(o,ht())?sn(hn(t.allWrites,function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(Ot(t.path,e)||Ot(e,t.path))},e),n||ne.EMPTY_NODE):null}var s=en(t.visibleWrites,e);if(null!=s)return s;var a=rn(t.visibleWrites,e);return on(a)?n:null!=n||tn(a,ht())?sn(a,n||ne.EMPTY_NODE):null}function fn(t,e,n,i){return dn(t.writeTree,t.treePath,e,n,i)}function pn(t,e){return function(t,e,n){var i=ne.EMPTY_NODE,r=en(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Qt,function(t,e){i=i.updateImmediateChild(t,e)}),i;if(n){var o=rn(t.visibleWrites,e);return n.forEachChild(Qt,function(t,e){var n=sn(rn(o,new lt(t)),e);i=i.updateImmediateChild(t,n)}),nn(o).forEach(function(t){i=i.updateImmediateChild(t.name,t.node)}),i}return nn(rn(t.visibleWrites,e)).forEach(function(t){i=i.updateImmediateChild(t.name,t.node)}),i}(t.writeTree,t.treePath,e)}function mn(t,e,n,i){return function(t,e,n,i,r){Object(o.f)(i||r,"Either existingEventSnap or existingServerSnap must exist");var s=bt(e,n);if(tn(t.visibleWrites,s))return null;var a=rn(t.visibleWrites,s);return on(a)?r.getChild(n):sn(a,r.getChild(n))}(t.writeTree,t.treePath,e,n,i)}function gn(t,e){return function(t,e){return en(t.visibleWrites,e)}(t.writeTree,bt(t.treePath,e))}function vn(t,e,n){return function(t,e,n,i){var r=bt(e,n),o=en(t.visibleWrites,r);return null!=o?o:i.isCompleteForChild(n)?sn(rn(t.visibleWrites,r),i.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function bn(t,e){return yn(bt(t.treePath,e),t.writeTree)}function yn(t,e){return{treePath:t,writeTree:e}}var _n=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.f)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(o.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var i=this.changeMap.get(n);if(i){var r=i.type;if("child_added"===e&&"child_removed"===r)this.changeMap.set(n,ge(n,t.snapshotNode,i.snapshotNode));else if("child_removed"===e&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===r)this.changeMap.set(n,me(n,i.oldSnap));else if("child_changed"===e&&"child_added"===r)this.changeMap.set(n,pe(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==r)throw Object(o.g)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,ge(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),wn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Cn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Be(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ye(this.viewCache_),r=function(t,e,n,i,r,o){return function(t,e,n,i,r,o,s){var a,u=rn(t.visibleWrites,e),c=en(u,ht());if(null!=c)a=c;else{if(null==n)return[];a=sn(u,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=d.getNext();f&&l.length<1;)0!==h(f,i)&&l.push(f),f=d.getNext();return l}(t.writeTree,t.treePath,e,n,0,r,o)}(this.writes_,i,e,0,n,t);return 0===r.length?null:r[0]},t}();function On(t,e,n,i,r,s){var a=e.eventCache;if(null!=gn(i,n))return e;var u=void 0,c=void 0;if(yt(n))if(Object(o.f)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=Ye(e),h=pn(i,l instanceof ne?l:ne.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var d=fn(i,Ye(e));u=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{var f=dt(n);if(".priority"===f){Object(o.f)(1===ft(n),"Can't have a priority with additional path components");var p=a.getNode(),m=mn(i,n,p,c=e.serverCache.getNode());u=null!=m?t.filter.updatePriority(p,m):a.getNode()}else{var g=pt(n),v=void 0;if(a.isCompleteForChild(f)){c=e.serverCache.getNode();var b=mn(i,n,a.getNode(),c);v=null!=b?a.getNode().getImmediateChild(f).updateChild(g,b):a.getNode().getImmediateChild(f)}else v=vn(i,f,e.serverCache);u=null!=v?t.filter.updateChild(a.getNode(),f,v,g,r,s):a.getNode()}}return Ke(e,u,a.isFullyInitialized()||yt(n),t.filter.filtersNodes())}function En(t,e,n,i,r,o,s,a){var u,c=e.serverCache,l=s?t.filter:t.filter.getIndexedFilter();if(yt(n))u=l.updateFullNode(c.getNode(),i,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,i);u=l.updateFullNode(c.getNode(),h,null)}else{var d=dt(n);if(!c.isCompleteForPath(n)&&ft(n)>1)return e;var f=pt(n),p=c.getNode().getImmediateChild(d).updateChild(f,i);u=".priority"===d?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),d,p,f,wn,null)}var m=We(e,u,c.isFullyInitialized()||yt(n),l.filtersNodes());return On(t,m,n,r,new Cn(r,m,o),a)}function Sn(t,e,n,i,r,o,s){var a,u,c=e.eventCache,l=new Cn(r,e,o);if(yt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,s),a=Ke(e,u,!0,t.filter.filtersNodes());else{var h=dt(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),i),a=Ke(e,u,c.isFullyInitialized(),c.isFiltered());else{var d=pt(n),f=c.getNode().getImmediateChild(h),p=void 0;if(yt(d))p=i;else{var m=l.getCompleteChild(h);p=null!=m?".priority"===mt(d)&&m.getChild(vt(d)).isEmpty()?m:m.updateChild(d,i):ne.EMPTY_NODE}a=f.equals(p)?e:Ke(e,t.filter.updateChild(c.getNode(),h,p,d,l,s),c.isFullyInitialized(),t.filter.filtersNodes())}}return a}function Tn(t,e){return t.eventCache.isCompleteForChild(e)}function xn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function In(t,e,n,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=yt(n)?i:new $e(null).setTree(n,i);var l=e.serverCache.getNode();return u.children.inorderTraversal(function(n,i){if(l.hasChild(n)){var u=xn(0,e.serverCache.getNode().getImmediateChild(n),i);c=En(t,c,new lt(n),u,r,o,s,a)}}),u.children.inorderTraversal(function(n,i){var u=!e.serverCache.isCompleteForChild(n)&&void 0===i.value;if(!l.hasChild(n)&&!u){var h=xn(0,e.serverCache.getNode().getImmediateChild(n),i);c=En(t,c,new lt(n),h,r,o,s,a)}}),c}var kn,An=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,i=this.query_._queryParams,r=new ve(i.getIndex()),o=(n=i).loadsAllData()?new ve(n.getIndex()):n.hasLimit()?new ye(n):new be(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,u=r.updateFullNode(ne.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(ne.EMPTY_NODE,a.getNode(),null),l=new Be(u,s.isFullyInitialized(),r.filtersNodes()),h=new Be(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=ze(h,l),this.eventGenerator_=new He(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Dn(t,e){var n=Ye(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!yt(e)&&!n.getImmediateChild(dt(e)).isEmpty())?n.getChild(e):null}function Rn(t){return 0===t.eventRegistrations_.length}function Pn(t,e,n){var i=[];if(n){Object(o.f)(null==e,"A cancel should cancel all event registrations.");var r=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,r);e&&i.push(e)})}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var u=t.eventRegistrations_[a];if(u.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(u)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function Nn(t,e,n,i){e.type===Ne.MERGE&&null!==e.source.queryId&&(Object(o.f)(Ye(t.viewCache_),"We should always have a full cache before handling merges"),Object(o.f)(Ge(t.viewCache_),"Missing event cache, even though we have a server cache"));var r,s,a=t.viewCache_,u=function(t,e,n,i,r){var s,a,u=new _n;if(n.type===Ne.OVERWRITE){var c=n;c.source.fromUser?s=Sn(t,e,c.path,c.snap,i,r,u):(Object(o.f)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!yt(c.path),s=En(t,e,c.path,c.snap,i,r,a,u))}else if(n.type===Ne.MERGE){var l=n;l.source.fromUser?s=function(t,e,n,i,r,o,s){var a=e;return i.foreach(function(i,u){var c=bt(n,i);Tn(e,dt(c))&&(a=Sn(t,a,c,u,r,o,s))}),i.foreach(function(i,u){var c=bt(n,i);Tn(e,dt(c))||(a=Sn(t,a,c,u,r,o,s))}),a}(t,e,l.path,l.children,i,r,u):(Object(o.f)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=In(t,e,l.path,l.children,i,r,a,u))}else if(n.type===Ne.ACK_USER_WRITE){var h=n;s=h.revert?function(t,e,n,i,r,s){var a;if(null!=gn(i,n))return e;var u=new Cn(i,e,r),c=e.eventCache.getNode(),l=void 0;if(yt(n)||".priority"===dt(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=fn(i,Ye(e));else{var d=e.serverCache.getNode();Object(o.f)(d instanceof ne,"serverChildren would be complete if leaf node"),h=pn(i,d)}l=t.filter.updateFullNode(c,h=h,s)}else{var f=dt(n),p=vn(i,f,e.serverCache);null==p&&e.serverCache.isCompleteForChild(f)&&(p=c.getImmediateChild(f)),(l=null!=p?t.filter.updateChild(c,f,p,pt(n),u,s):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(c,f,ne.EMPTY_NODE,pt(n),u,s):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=fn(i,Ye(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,a,s))}return a=e.serverCache.isFullyInitialized()||null!=gn(i,ht()),Ke(e,l,a,t.filter.filtersNodes())}(t,e,h.path,i,r,u):function(t,e,n,i,r,o,s){if(null!=gn(r,n))return e;var a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=i.value){if(yt(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return En(t,e,n,u.getNode().getChild(n),r,o,a,s);if(yt(n)){var c=new $e(null);return u.getNode().forEachChild(jt,function(t,e){c=c.set(new lt(t),e)}),In(t,e,n,c,r,o,a,s)}return e}var l=new $e(null);return i.foreach(function(t,e){var i=bt(n,t);u.isCompleteForPath(i)&&(l=l.set(t,u.getNode().getChild(i)))}),In(t,e,n,l,r,o,a,s)}(t,e,h.path,h.affectedTree,i,r,u)}else{if(n.type!==Ne.LISTEN_COMPLETE)throw Object(o.g)("Unknown operation type: "+n.type);s=function(t,e,n,i,r){var o=e.serverCache;return On(t,We(e,o.getNode(),o.isFullyInitialized()||yt(n),o.isFiltered()),n,i,wn,r)}(t,e,n.path,i,u)}var d=u.getChanges();return function(t,e,n){var i=e.eventCache;if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Ge(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(fe(Ge(e)))}}(e,s,d),{viewCache:s,changes:d}}(t.processor_,a,e,n,i);return r=t.processor_,s=u.viewCache,Object(o.f)(s.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),Object(o.f)(s.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed"),Object(o.f)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,jn(t,u.changes,u.viewCache.eventCache.getNode(),null)}function jn(t,e,n,i){return function(t,e,n,i){var r=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),qe(t,r,"child_removed",e,i,n),qe(t,r,"child_added",e,i,n),qe(t,r,"child_moved",o,i,n),qe(t,r,"child_changed",e,i,n),qe(t,r,"value",e,i,n),r}(t.eventGenerator_,e,n,i?[i]:t.eventRegistrations_)}var Ln,Fn=function(){return function(){this.views=new Map}}();function Mn(t,e,n,i){var r,a,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return Object(o.f)(null!=c,"SyncTree gave us an op for an invalid query."),Nn(c,e,n,i)}var l=[];try{for(var h=Object(s.g)(t.views.values()),d=h.next();!d.done;d=h.next())l=l.concat(Nn(c=d.value,e,n,i))}catch(f){r={error:f}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}return l}function Vn(t,e,n,i,r){var o=t.views.get(e._queryIdentifier);if(!o){var s=fn(n,r?i:null),a=!1;s?a=!0:i instanceof ne?(s=pn(n,i),a=!1):(s=ne.EMPTY_NODE,a=!1);var u=ze(new Be(s,a,!1),new Be(i,r,!1));return new An(e,u)}return o}function Un(t){var e,n,i=[];try{for(var r=Object(s.g)(t.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;a.query._queryParams.loadsAllData()||i.push(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}function Bn(t,e){var n,i,r=null;try{for(var o=Object(s.g)(t.views.values()),a=o.next();!a.done;a=o.next())r=r||Dn(a.value,e)}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r}function Hn(t,e){return e._queryParams.loadsAllData()?Kn(t):t.views.get(e._queryIdentifier)}function qn(t,e){return null!=Hn(t,e)}function zn(t){return null!=Kn(t)}function Kn(t){var e,n;try{for(var i=Object(s.g)(t.views.values()),r=i.next();!r.done;r=i.next()){var o=r.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return null}var Wn=1,Gn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new $e(null),this.pendingWriteTree_={visibleWrites:Qe.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function Yn(t,e,n,i,r){return function(t,e,n,i,r){Object(o.f)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Xe(t.visibleWrites,e,n)),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i,r),r?ti(t,new Ve({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function $n(t,e,n){void 0===n&&(n=!1);var i=function(t,e){for(var n=0;n<t.allWrites.length;n++){var i=t.allWrites[n];if(i.writeId===e)return i}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});Object(o.f)(n>=0,"removeWrite called with nonexistent writeId.");var i=t.allWrites[n];t.allWrites.splice(n,1);for(var r=i.visible,s=!1,a=t.allWrites.length-1;r&&a>=0;){var u=t.allWrites[a];u.visible&&(a>=n&&cn(u,i.path)?r=!1:Ot(i.path,u.path)&&(s=!0)),a--}return!!r&&(s?(function(t){t.visibleWrites=hn(t.allWrites,ln,ht()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=Ze(t.visibleWrites,i.path):P(i.children,function(e){t.visibleWrites=Ze(t.visibleWrites,bt(i.path,e))}),!0))}(t.pendingWriteTree_,e)){var r=new $e(null);return null!=i.snap?r=r.set(ht(),!0):P(i.children,function(t){r=r.set(new lt(t),!0)}),ti(t,new Fe(i.path,r,n))}return[]}function Qn(t,e,n){return ti(t,new Ve({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Xn(t,e,n,i){var r=e._path,a=t.syncPointTree_.get(r),u=[];if(a&&("default"===e._queryIdentifier||qn(a,e))){var c=function(t,e,n,i){var r,a,u=e._queryIdentifier,c=[],l=[],h=zn(t);if("default"===u)try{for(var d=Object(s.g)(t.views.entries()),f=d.next();!f.done;f=d.next()){var p,m=Object(s.e)(f.value,2),g=m[0];l=l.concat(Pn(p=m[1],n,i)),Rn(p)&&(t.views.delete(g),p.query._queryParams.loadsAllData()||c.push(p.query))}}catch(v){r={error:v}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(r)throw r.error}}else(p=t.views.get(u))&&(l=l.concat(Pn(p,n,i)),Rn(p)&&(t.views.delete(u),p.query._queryParams.loadsAllData()||c.push(p.query)));return h&&!zn(t)&&c.push(new(Object(o.f)(kn,"Reference.ts has not been loaded"),kn)(e._repo,e._path)),{removed:c,events:l}}(a,e,n,i);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(r));var l=c.removed;u=c.events;var h=-1!==l.findIndex(function(t){return t._queryParams.loadsAllData()}),d=t.syncPointTree_.findOnPath(r,function(t,e){return zn(e)});if(h&&!d){var f=t.syncPointTree_.subtree(r);if(!f.isEmpty())for(var p=function(t){return t.fold(function(t,e,n){if(e&&zn(e))return[Kn(e)];var i=[];return e&&(i=Un(e)),P(n,function(t,e){i=i.concat(e)}),i})}(f),m=0;m<p.length;++m){var g=p[m],v=g.query,b=ii(t,g);t.listenProvider_.startListening(ci(v),ri(t,v),b.hashFn,b.onComplete)}}!d&&l.length>0&&!i&&(h?t.listenProvider_.stopListening(ci(e),null):l.forEach(function(e){var n=t.queryToTagMap.get(oi(e));t.listenProvider_.stopListening(ci(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var i=e[n];if(!i._queryParams.loadsAllData()){var r=oi(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}(t,l)}return u}function Jn(t,e,n){var i=e._path,r=null,s=!1;t.syncPointTree_.foreachOnPath(i,function(t,e){var n=_t(t,i);r=r||Bn(e,n),s=s||zn(e)});var a,u=t.syncPointTree_.get(i);u?(s=s||zn(u),r=r||Bn(u,ht())):(u=new Fn,t.syncPointTree_=t.syncPointTree_.set(i,u)),null!=r?a=!0:(a=!1,r=ne.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild(function(t,e){var n=Bn(e,ht());n&&(r=r.updateImmediateChild(t,n))}));var c=qn(u,e);if(!c&&!e._queryParams.loadsAllData()){var l=oi(e);Object(o.f)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Wn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var d=function(t,e,n,i,r,o){var s=Vn(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Qt,function(t,e){i.push(pe(t,e))}),n.isFullyInitialized()&&i.push(fe(n.getNode())),jn(t,i,n.getNode(),e)}(s,n)}(u,e,n,un(t.pendingWriteTree_,i),r,a);if(!c&&!s){var f=Hn(u,e);d=d.concat(function(t,e,n){var i=e._path,r=ri(t,e),s=ii(t,n),a=t.listenProvider_.startListening(ci(e),r,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(i);if(r)Object(o.f)(!zn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!yt(t)&&e&&zn(e))return[Kn(e).query];var i=[];return e&&(i=i.concat(Un(e).map(function(t){return t.query}))),P(n,function(t,e){i=i.concat(e)}),i}),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(ci(h),ri(t,h))}return a}(t,e,f))}return d}function Zn(t,e,n){var i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,function(t,n){var i=Bn(n,_t(t,e));if(i)return i});return dn(i,e,r,n,!0)}function ti(t,e){return ei(e,t.syncPointTree_,null,un(t.pendingWriteTree_,ht()))}function ei(t,e,n,i){if(yt(t.path))return ni(t,e,n,i);var r=e.get(ht());null==n&&null!=r&&(n=Bn(r,ht()));var o=[],s=dt(t.path),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=bn(i,s);o=o.concat(ei(a,u,c,l))}return r&&(o=o.concat(Mn(r,t,i,n))),o}function ni(t,e,n,i){var r=e.get(ht());null==n&&null!=r&&(n=Bn(r,ht()));var o=[];return e.children.inorderTraversal(function(e,r){var s=n?n.getImmediateChild(e):null,a=bn(i,e),u=t.operationForChild(e);u&&(o=o.concat(ni(u,r,s,a)))}),r&&(o=o.concat(Mn(r,t,i,n))),o}function ii(t,e){var n=e.query,i=ri(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||ne.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return i?function(t,e,n){var i=si(t,n);if(i){var r=ai(i),o=r.path,s=r.queryId,a=_t(o,e);return ui(t,o,new Me(je(s),a))}return[]}(t,n._path,i):function(t,e){return ti(t,new Me({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var r=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}(e,n);return Xn(t,n,null,r)}}}function ri(t,e){var n=oi(e);return t.queryToTagMap.get(n)}function oi(t){return t._path.toString()+"$"+t._queryIdentifier}function si(t,e){return t.tagToQueryMap.get(e)}function ai(t){var e=t.indexOf("$");return Object(o.f)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new lt(t.substr(0,e))}}function ui(t,e,n){var i=t.syncPointTree_.get(e);return Object(o.f)(i,"Missing sync point for query tag that we're tracking"),Mn(i,n,un(t.pendingWriteTree_,e),null)}function ci(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(o.f)(Ln,"Reference.ts has not been loaded"),Ln)(t._repo,t._path):t}var li=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),hi=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=bt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Zn(this.syncTree_,this.path_)},t}(),di=function(t,e,n){return t&&"object"==typeof t?(Object(o.f)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?fi(t[".sv"],e,n):"object"==typeof t[".sv"]?pi(t[".sv"],e):void Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},fi=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.f)(!1,"Unexpected server value: "+t)}},pi=function(t,e,n){t.hasOwnProperty("increment")||Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var i=t.increment;"number"!=typeof i&&Object(o.f)(!1,"Unexpected increment value: "+i);var r=e.node();if(Object(o.f)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;var s=r.getValue();return"number"!=typeof s?i:s+i},mi=function(t,e,n,i){return vi(e,new hi(n,t),i)},gi=function(t,e,n){return vi(t,new li(e),n)};function vi(t,e,n){var i,r=t.getPriority().val(),o=di(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=di(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new $t(a,re(o)):t}var u=t;return i=u,o!==u.getPriority().val()&&(i=i.updatePriority(new $t(o))),u.forEachChild(Qt,function(t,r){var o=vi(r,e.getImmediateChild(t),n);o!==r&&(i=i.updateImmediateChild(t,o))}),i}var bi=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function yi(t,e){for(var n=e instanceof lt?e:new lt(e),i=t,r=dt(n);null!==r;){var s=Object(o.H)(i.node.children,r)||{children:{},childCount:0};i=new bi(r,i,s),r=dt(n=pt(n))}return i}function _i(t){return t.node.value}function wi(t,e){t.node.value=e,Ti(t)}function Ci(t){return t.node.childCount>0}function Oi(t,e){P(t.node.children,function(n,i){e(new bi(n,t,i))})}function Ei(t,e,n,i){n&&!i&&e(t),Oi(t,function(t){Ei(t,e,!0,i)}),n&&i&&e(t)}function Si(t){return new lt(null===t.parent?t.name:Si(t.parent)+"/"+t.name)}function Ti(t){null!==t.parent&&function(t,e,n){var i=function(t){return void 0===_i(t)&&!Ci(t)}(n),r=Object(o.k)(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Ti(t)):i||r||(t.node.children[e]=n.node,t.node.childCount++,Ti(t))}(t.parent,t.name,t)}var xi=/[\[\].#$\/\u0000-\u001F\u007F]/,Ii=/[\[\].#$\u0000-\u001F\u007F]/,ki=10485760,Ai=function(t){return"string"==typeof t&&0!==t.length&&!xi.test(t)},Di=function(t){return"string"==typeof t&&0!==t.length&&!Ii.test(t)},Ri=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!S(t)||t&&"object"==typeof t&&Object(o.k)(t,".sv")},Pi=function(t,e,n,i){i&&void 0===e||Ni(Object(o.o)(t,"value"),e,n)},Ni=function(t,e,n){var i=n instanceof lt?new Et(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Tt(i));if("function"==typeof e)throw new Error(t+"contains a function "+Tt(i)+" with contents = "+e.toString());if(S(e))throw new Error(t+"contains "+e.toString()+" "+Tt(i));if("string"==typeof e&&e.length>ki/3&&Object(o.I)(e)>ki)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Tt(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var r=!1,s=!1;if(P(e,function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!Ai(e)))throw new Error(t+" contains an invalid key ("+e+") "+Tt(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,u;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(o.I)(e),St(t)}(i,e),Ni(t,n,i),u=(a=i).parts_.pop(),a.byteLength_-=Object(o.I)(u),a.parts_.length>0&&(a.byteLength_-=1)}),r&&s)throw new Error(t+' contains ".value" child '+Tt(i)+" in addition to actual children.")}},ji=function(t,e,n,i){if(!i||void 0!==e){var r=Object(o.o)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");var s=[];P(e,function(t,e){var i=new lt(t);if(Ni(r,e,bt(n,i)),".priority"===mt(i)&&!Ri(e))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(i)}),function(t,e){var n,i;for(n=0;n<e.length;n++)for(var r=gt(i=e[n]),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!Ai(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(wt);var s=null;for(n=0;n<e.length;n++){if(i=e[n],null!==s&&Ot(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}}(r,s)}},Li=function(t,e,n){if(!n||void 0!==e){if(S(e))throw new Error(Object(o.o)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ri(e))throw new Error(Object(o.o)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Fi=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.o)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Mi=function(t,e,n,i){if(!(i&&void 0===n||Ai(n)))throw new Error(Object(o.o)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Vi=function(t,e,n,i){if(!(i&&void 0===n||Di(n)))throw new Error(Object(o.o)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ui=function(t,e){if(".info"===dt(e))throw new Error(t+" failed = Can't modify data under /.info/")},Bi=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ai(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Di(t)}(n))throw new Error(Object(o.o)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Hi=function(t,e,n,i){if((!i||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.o)(t,e)+"must be a boolean.")},qi=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function zi(t,e){for(var n=null,i=0;i<e.length;i++){var r=e[i],o=r.getPath();null===n||Ct(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function Ki(t,e,n){zi(t,n),Gi(t,function(t){return Ct(t,e)})}function Wi(t,e,n){zi(t,n),Gi(t,function(t){return Ot(t,e)||Ot(e,t)})}function Gi(t,e){t.recursionDepth_++;for(var n=!0,i=0;i<t.eventLists_.length;i++){var r=t.eventLists_[i];r&&(e(r.path)?(Yi(t.eventLists_[i]),t.eventLists_[i]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Yi(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var i=n.getEventRunner();v&&_("event: "+n.toString()),F(i)}}}var $i="repo_interrupt",Qi=function(){function t(t,e,n){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qi,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ie(),this.transactionQueueTree_=new bi,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Xi(t){var e=t.infoData_.getNode(new lt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Ji(t){return(e=(e={timestamp:Xi(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Zi(t,e,n,i,r){t.dataUpdateCount++;var s=new lt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(r)if(i){var u=Object(o.F)(n,function(t){return re(t)});a=function(t,e,n,i){var r=si(t,i);if(r){var o=ai(r),s=o.path,a=o.queryId,u=_t(s,e),c=$e.fromObject(n);return ui(t,s,new Ue(je(a),u,c))}return[]}(t.serverSyncTree_,s,u,r)}else{var c=re(n);a=function(t,e,n,i){var r=si(t,i);if(null!=r){var o=ai(r),s=o.path,a=o.queryId,u=_t(s,e);return ui(t,s,new Ve(je(a),u,n))}return[]}(t.serverSyncTree_,s,c,r)}else if(i){var l=Object(o.F)(n,function(t){return re(t)});a=function(t,e,n){var i=$e.fromObject(n);return ti(t,new Ue({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,s,l)}else{var h=re(n);a=Qn(t.serverSyncTree_,s,h)}var d=s;a.length>0&&(d=dr(t,s)),Wi(t.eventQueue_,d,a)}function tr(t,e){er(t,"connected",e),!1===e&&function(t){ur(t,"onDisconnectEvents");var e=Ji(t),n=Ie();De(t.onDisconnect_,ht(),function(i,r){var o=mi(i,r,t.serverSyncTree_,e);ke(n,i,o)});var i=[];De(n,ht(),function(e,n){i=i.concat(Qn(t.serverSyncTree_,e,n));var r=vr(t,e);dr(t,r)}),t.onDisconnect_=Ie(),Wi(t.eventQueue_,ht(),i)}(t)}function er(t,e,n){var i=new lt("/.info/"+e),r=re(n);t.infoData_.updateSnapshot(i,r);var o=Qn(t.infoSyncTree_,i,r);Wi(t.eventQueue_,i,o)}function nr(t){return t.nextWriteId_++}function ir(t,e,n,i,r){ur(t,"set",{path:e.toString(),value:n,priority:i});var o=Ji(t),s=re(n,i),a=Zn(t.serverSyncTree_,e),u=gi(s,a,o),c=nr(t),l=Yn(t.serverSyncTree_,e,u,c,!0);zi(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),function(n,i){var o="ok"===n;o||E("set at "+e+" failed: "+n);var s=$n(t.serverSyncTree_,c,!o);Wi(t.eventQueue_,e,s),cr(0,r,n,i)});var h=vr(t,e);dr(t,h),Wi(t.eventQueue_,h,[])}function rr(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(i,r){"ok"===i&&Ae(t.onDisconnect_,e),cr(0,n,i,r)})}function or(t,e,n,i){var r=re(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),function(n,o){"ok"===n&&ke(t.onDisconnect_,e,r),cr(0,i,n,o)})}function sr(t,e,n){var i;i=".info"===dt(e._path)?Xn(t.infoSyncTree_,e,n):Xn(t.serverSyncTree_,e,n),Ki(t.eventQueue_,e._path,i)}function ar(t){t.persistentConnection_&&t.persistentConnection_.interrupt($i)}function ur(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i="";t.persistentConnection_&&(i=t.persistentConnection_.id+":"),_.apply(void 0,Object(s.f)([i],Object(s.e)(e)))}function cr(t,e,n,i){e&&F(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),r=t;i&&(r+=": "+i);var o=new Error(r);o.code=t,e(o)}})}function lr(t,e,n){return Zn(t.serverSyncTree_,e,n)||ne.EMPTY_NODE}function hr(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||gr(t,e),_i(e)){var n=pr(t,e);Object(o.f)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var i=n.map(function(t){return t.currentWriteId}),r=lr(t,e,i),s=r,a=r.hash(),u=0;u<n.length;u++){var c=n[u];Object(o.f)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=_t(e,c.path);s=s.updateChild(l,c.currentOutputSnapshotRaw)}var h=s.val(!0),d=e;t.server_.put(d.toString(),h,function(i){ur(t,"transaction put response",{path:d.toString(),status:i});var r=[];if("ok"===i){for(var o=[],s=function(e){n[e].status=2,r=r.concat($n(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},a=0;a<n.length;a++)s(a);for(gr(t,yi(t.transactionQueueTree_,e)),hr(t,t.transactionQueueTree_),Wi(t.eventQueue_,e,r),a=0;a<o.length;a++)F(o[a])}else{if("datastale"===i)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(E("transaction at "+d.toString()+" failed: "+i),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=i;dr(t,e)}},a)}(t,Si(e),n)}else Ci(e)&&Oi(e,function(e){hr(t,e)})}function dr(t,e){var n=fr(t,e),i=Si(n);return function(t,e,n){if(0!==e.length){for(var i=[],r=[],s=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),a=function(a){var u,c=e[a],l=_t(n,c.path),h=!1;if(Object(o.f)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,r=r.concat($n(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",r=r.concat($n(t.serverSyncTree_,c.currentWriteId,!0));else{var d=lr(t,c.path,s);c.currentInputSnapshot=d;var f=e[a].update(d.val());if(void 0!==f){Ni("transaction failed: Data returned ",f,c.path);var p=re(f);"object"==typeof f&&null!=f&&Object(o.k)(f,".priority")||(p=p.updatePriority(d.getPriority()));var m=c.currentWriteId,g=Ji(t),v=gi(p,d,g);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=v,c.currentWriteId=nr(t),s.splice(s.indexOf(m),1),r=(r=r.concat(Yn(t.serverSyncTree_,c.path,v,c.currentWriteId,c.applyLocally))).concat($n(t.serverSyncTree_,m,!0))}else h=!0,u="nodata",r=r.concat($n(t.serverSyncTree_,c.currentWriteId,!0))}Wi(t.eventQueue_,n,r),r=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===u?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(u),!1,null)}))},u=0;u<e.length;u++)a(u);for(gr(t,t.transactionQueueTree_),u=0;u<i.length;u++)F(i[u]);hr(t,t.transactionQueueTree_)}}(t,pr(t,n),i),i}function fr(t,e){var n,i=t.transactionQueueTree_;for(n=dt(e);null!==n&&void 0===_i(i);)i=yi(i,n),n=dt(e=pt(e));return i}function pr(t,e){var n=[];return mr(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function mr(t,e,n){var i=_i(e);if(i)for(var r=0;r<i.length;r++)n.push(i[r]);Oi(e,function(e){mr(t,e,n)})}function gr(t,e){var n=_i(e);if(n){for(var i=0,r=0;r<n.length;r++)2!==n[r].status&&(n[i]=n[r],i++);n.length=i,wi(e,n.length>0?n:void 0)}Oi(e,function(e){gr(t,e)})}function vr(t,e){var n=Si(fr(t,e)),i=yi(t.transactionQueueTree_,e);return function(t,e,n){for(var i=t.parent;null!==i;){if(e(i))return!0;i=i.parent}}(i,function(e){br(t,e)}),br(t,i),Ei(i,function(e){br(t,e)}),n}function br(t,e){var n=_i(e);if(n){for(var i=[],r=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(o.f)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(o.f)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),r=r.concat($n(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?wi(e,void 0):n.length=s+1,Wi(t.eventQueue_,Si(e),r),a=0;a<i.length;a++)F(i[a])}}var yr=function(t,e){var n=_r(t),i=n.namespace;return"firebase.com"===n.domain&&O(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||O("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new z(n.host,n.secure,i,e,"ws"===n.scheme||"wss"===n.scheme,"",i!==n.subdomain),path:new lt(n.pathString)}},_r=function(t){var e="",n="",i="",r="",o="",a=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(r=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}e+="/"+r}return e}(t.substring(h,d)));var f=function(t){var e,n,i={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var r=Object(s.g)(t.split("&")),o=r.next();!o.done;o=r.next()){var a=o.value;if(0!==a.length){var u=a.split("=");2===u.length?i[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):E("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}(t.substring(Math.min(t.length,d)));(l=e.indexOf(":"))>=0?(a="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var m=e.indexOf(".");i=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=i}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:i,secure:a,scheme:u,pathString:r,namespace:o}},wr=function(){function t(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.K)(this.snapshot.exportVal())},t}(),Cr=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Or=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(o.f)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),Er=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.a;return rr(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){Ui("OnDisconnect.remove",this._path);var t=new o.a;return or(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){Ui("OnDisconnect.set",this._path),Pi("OnDisconnect.set",t,this._path,!1);var e=new o.a;return or(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){Ui("OnDisconnect.setWithPriority",this._path),Pi("OnDisconnect.setWithPriority",t,this._path,!1),Li("OnDisconnect.setWithPriority",e,!1);var n=new o.a;return function(t,e,n,i,r){var o=re(n,i);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,i){"ok"===n&&ke(t.onDisconnect_,e,o),cr(0,r,n,i)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){Ui("OnDisconnect.update",this._path),ji("OnDisconnect.update",t,this._path,!1);var e=new o.a;return function(t,e,n,i){if(Object(o.v)(n))return _("onDisconnect().update() called with empty data.  Don't do anything."),void cr(0,i,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(r,o){"ok"===r&&P(n,function(n,i){var r=re(i);ke(t.onDisconnect_,bt(e,n),r)}),cr(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),Sr=function(){function t(t,e,n,i){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=i}return Object.defineProperty(t.prototype,"key",{get:function(){return yt(this._path)?null:mt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new kr(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Se(this._queryParams),e=D(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Se(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(o.p)(e))instanceof t))return!1;var n=this._repo===e._repo,i=Ct(this._path,e._path);return n&&i&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function Tr(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function xr(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===jt){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==T)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==x)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(t.getIndex()===Qt){if(null!=e&&!Ri(e)||null!=n&&!Ri(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.f)(t.getIndex()instanceof ae||t.getIndex()===ue,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ir(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var kr=function(t){function e(e,n){return t.call(this,e,n,new _e,!1)||this}return Object(s.c)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=vt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(Sr),Ar=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new lt(e),i=Pr(this.ref,e);return new t(this._node.getChild(n),i,Qt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(i,r){return e(new t(r,Pr(n.ref,i),Qt))})},t.prototype.hasChild=function(t){var e=new lt(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Dr(t,e){return(t=Object(o.p)(t))._checkNotDeleted("ref"),void 0!==e?Pr(t._root,e):t._root}function Rr(t,e){(t=Object(o.p)(t))._checkNotDeleted("refFromURL");var n=yr(e,t._repo.repoInfo_.nodeAdmin);Bi("refFromURL",n);var i=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||i.host===t._repo.repoInfo_.host||O("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),Dr(t,n.path.toString())}function Pr(t,e){var n;return null===dt((t=Object(o.p)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vi("child","path",n,!1)):Vi("child","path",e,!1),new kr(t._repo,bt(t._path,e))}function Nr(t,e){t=Object(o.p)(t),Ui("push",t._path),Pi("push",e,t._path,!0);var n,i=Xi(t._repo),r=le(i),s=Pr(t,r),a=Pr(t,r);return n=null!=e?Lr(a,e).then(function(){return a}):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function jr(t){return Ui("remove",t._path),Lr(t,null)}function Lr(t,e){t=Object(o.p)(t),Ui("set",t._path),Pi("set",e,t._path,!1);var n=new o.a;return ir(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Fr(t,e){t=Object(o.p)(t),Ui("setPriority",t._path),Li("setPriority",e,!1);var n=new o.a;return ir(t._repo,bt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function Mr(t,e,n){if(Ui("setWithPriority",t._path),Pi("setWithPriority",e,t._path,!1),Li("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var i=new o.a;return ir(t._repo,t._path,e,n,i.wrapCallback(function(){})),i.promise}function Vr(t,e){ji("update",e,t._path,!1);var n=new o.a;return function(t,e,n,i){ur(t,"update",{path:e.toString(),value:n});var r=!0,s=Ji(t),a={};if(P(n,function(n,i){r=!1,a[n]=mi(bt(e,n),re(i),t.serverSyncTree_,s)}),r)_("update() called with empty data.  Don't do anything."),cr(0,i,"ok",void 0);else{var u=nr(t),c=function(t,e,n,i){!function(t,e,n,i){Object(o.f)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Je(t.visibleWrites,e,n),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i);var r=$e.fromObject(n);return ti(t,new Ue({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,e,a,u);zi(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(n,r){var o="ok"===n;o||E("update at "+e+" failed: "+n);var s=$n(t.serverSyncTree_,u,!o),a=s.length>0?dr(t,e):e;Wi(t.eventQueue_,a,s),cr(0,i,n,r)}),P(n,function(n){var i=vr(t,bt(e,n));dr(t,i)}),Wi(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var Ur=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new wr("value",this,new Ar(t.snapshotNode,new kr(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Cr(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Br=function(){function t(t){this.callbacks=t}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.k)(this.callbacks,e)},t.prototype.createCancelEvent=function(t,e){return this.callbacks.cancel.hasCancelCallback?new Cr(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.f)(null!=t.childName,"Child events should have a childName.");var n=Pr(new kr(e._repo,e._path),t.childName),i=e._queryParams.getIndex();return new wr(t.type,this,new Ar(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){if("cancel"===t.getEventType()){var e=this.callbacks.cancel;return function(){return e.onCancel(t.error)}}var n=this.callbacks[t.eventType];return function(){return n.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks||!e.callbacks)return!0;var i=Object.keys(e.callbacks),r=Object.keys(this.callbacks),o=i.length;if(o===r.length){if(1===o){var s=i[0],a=r[0];return a===s&&(!e.callbacks[s]||!this.callbacks[a]||e.callbacks[s].matches(this.callbacks[a]))}return r.every(function(t){return e.callbacks[t].matches(n.callbacks[t])})}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks},t}();function Hr(t,e,n,i,r){var o,s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){var a=n,u=function(e,n){a(e,n),sr(t._repo,t,l)};u.userCallback=n.userCallback,u.context=n.context,n=u}var c=new Or(n,s||void 0),l="value"===e?new Ur(c):new Br(((o={})[e]=c,o));return function(t,e,n){var i;i=".info"===dt(e._path)?Jn(t.infoSyncTree_,e,n):Jn(t.serverSyncTree_,e,n),Ki(t.eventQueue_,e._path,i)}(t._repo,t,l),function(){return sr(t._repo,t,l)}}function qr(t,e,n,i){return Hr(t,"value",e,n,i)}function zr(t,e,n,i){return Hr(t,"child_added",e,n,i)}function Kr(t,e,n,i){return Hr(t,"child_changed",e,n,i)}function Wr(t,e,n,i){return Hr(t,"child_moved",e,n,i)}function Gr(t,e,n,i){return Hr(t,"child_removed",e,n,i)}function Yr(t,e,n){var i=null,r=null,o=n?new Or(n):null;"value"===e?i=new Ur(o):e&&(n&&((r={})[e]=o),i=new Br(r)),sr(t._repo,t,i)}var $r=function(){return function(){}}(),Qr=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return Object(s.c)(e,t),e.prototype._apply=function(t){Pi("endAt",this._value,t._path,!0);var e=Ce(t._queryParams,this._value,this._key);if(Ir(e),xr(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Sr(t._repo,t._path,e,t._orderByCalled)},e}($r);function Xr(t,e){return Mi("endAt","key",e,!0),new Qr(t,e)}var Jr=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return Object(s.c)(e,t),e.prototype._apply=function(t){Pi("endBefore",this._value,t._path,!1);var e,n,i,r,o=(n=this._value,i=this._key,(e=t._queryParams).index_===jt?("string"==typeof n&&(n=de(n)),r=Ce(e,n,i)):r=Ce(e,n,null==i?T:de(i)),r.endBeforeSet_=!0,r);if(Ir(o),xr(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Sr(t._repo,t._path,o,t._orderByCalled)},e}($r);function Zr(t,e){return Mi("endBefore","key",e,!0),new Jr(t,e)}var to=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return Object(s.c)(e,t),e.prototype._apply=function(t){Pi("startAt",this._value,t._path,!0);var e=we(t._queryParams,this._value,this._key);if(Ir(e),xr(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Sr(t._repo,t._path,e,t._orderByCalled)},e}($r);function eo(t,e){return void 0===t&&(t=null),Mi("startAt","key",e,!0),new to(t,e)}var no=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return Object(s.c)(e,t),e.prototype._apply=function(t){Pi("startAfter",this._value,t._path,!1);var e,n,i,r,o=(n=this._value,i=this._key,(e=t._queryParams).index_===jt?("string"==typeof n&&(n=he(n)),r=we(e,n,i)):r=we(e,n,null==i?x:he(i)),r.startAfterSet_=!0,r);if(Ir(o),xr(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Sr(t._repo,t._path,o,t._orderByCalled)},e}($r);function io(t,e){return Mi("startAfter","key",e,!0),new no(t,e)}var ro=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(s.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Sr(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}($r);function oo(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ro(t)}var so=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(s.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Sr(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}($r);function ao(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new so(t)}var uo=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(s.c)(e,t),e.prototype._apply=function(t){Tr(t,"orderByChild");var e=new lt(this._path);if(yt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ae(e),i=Oe(t._queryParams,n);return xr(i),new Sr(t._repo,t._path,i,!0)},e}($r);function co(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vi("orderByChild","path",t,!1),new uo(t)}var lo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype._apply=function(t){Tr(t,"orderByKey");var e=Oe(t._queryParams,jt);return xr(e),new Sr(t._repo,t._path,e,!0)},e}($r);function ho(){return new lo}var fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype._apply=function(t){Tr(t,"orderByPriority");var e=Oe(t._queryParams,Qt);return xr(e),new Sr(t._repo,t._path,e,!0)},e}($r);function po(){return new fo}var mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype._apply=function(t){Tr(t,"orderByValue");var e=Oe(t._queryParams,ue);return xr(e),new Sr(t._repo,t._path,e,!0)},e}($r);function go(){return new mo}var vo=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return Object(s.c)(e,t),e.prototype._apply=function(t){if(Pi("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Qr(this._value,this._key)._apply(new to(this._value,this._key)._apply(t))},e}($r);function bo(t,e){return Mi("equalTo","key",e,!0),new vo(t,e)}function yo(t){for(var e,n,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var a=Object(o.p)(t);try{for(var u=Object(s.g)(i),c=u.next();!c.done;c=u.next()){var l=c.value;a=l._apply(a)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a}!function(t){Object(o.f)(!kn,"__referenceConstructor has already been defined"),kn=t}(kr),function(t){Object(o.f)(!Ln,"__referenceConstructor has already been defined"),Ln=t}(kr);var _o={},wo=!1;function Co(t,e,n,i){var r=n||t.options.databaseURL;void 0===r&&(t.options.projectId||O("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",t.options.projectId),r=t.options.projectId+"-default-rtdb.firebaseio.com");var o,s=yr(r,i),a=s.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,a=(s=yr(r="http://"+u+"?ns="+a.namespace,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new U:new V(t.name,t.options,e);Bi("Invalid Firebase Database URL",s),yt(s.path)||O("Database URL must point to the root of a Firebase Database (not including a child path).");var l=function(t,e,n){var i=_o[e.name];i||(_o[e.name]=i={});var r=i[t.toURLString()];return r&&O("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Qi(t,wo,n),i[t.toURLString()]=r,r}(a,t,c);return new Oo(l,t)}var Oo=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=$(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Te(t.repoInfo_,function(e,n,i,r){Zi(t,e,n,i,r)},t.authTokenProvider_),setTimeout(function(){return tr(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.K)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Dt(t.repoInfo_,e,function(e,n,i,r){Zi(t,e,n,i,r)},function(e){tr(t,e)},function(e){!function(t,e){P(e,function(e,n){er(t,e,n)})}(t,e)},t.authTokenProvider_,n),t.server_=t.persistentConnection_}var i,r;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.statsReporter_=(i=function(){return new Pe(t.stats_,t.server_)},r=t.repoInfo_.toString(),Y[r]||(Y[r]=i()),Y[r]),t.infoData_=new xe,t.infoSyncTree_=new Gn({startListening:function(e,n,i,r){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Qn(t.infoSyncTree_,e._path,s),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),er(t,"connected",!1),t.serverSyncTree_=new Gn({startListening:function(e,n,i,r){return t.server_.listen(e,i,n,function(n,i){var o=r(n,i);Wi(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new kr(this._repo,ht())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,(n=_o[e=this.app.name])&&n[t.key]===t||O("Database "+e+"("+t.repoInfo_+") has already been deleted."),ar(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&O("Cannot call "+t+" on a deleted database.")},t}();function Eo(t){(t=Object(o.p)(t))._checkNotDeleted("goOffline"),ar(t._repo)}function So(t){var e;(t=Object(o.p)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume($i)}function To(t,e){y(t,e)}var xo={".sv":"timestamp"},Io=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function ko(t,e,n){var i;if(t=Object(o.p)(t),Ui("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var r=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i,s=new o.a,a=qr(t,function(){});return function(e,n,i,r,a,u){ur(e,"transaction on "+n);var c={path:n,update:i,onComplete:function(e,n,i){var r=null;e?s.reject(e):(r=new Ar(i,new kr(t._repo,t._path),Qt),s.resolve(new Io(n,r)))},status:null,order:p(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=lr(e,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Ni("transaction failed: Data returned ",h,c.path),c.status=0;var d=yi(e.transactionQueueTree_,n),f=_i(d)||[];f.push(c),wi(d,f);var m=void 0;"object"==typeof h&&null!==h&&Object(o.k)(h,".priority")?(m=Object(o.H)(h,".priority"),Object(o.f)(Ri(m),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):m=(Zn(e.serverSyncTree_,n)||ne.EMPTY_NODE).getPriority().val();var g=Ji(e),v=re(h,m),b=gi(v,l,g);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=b,c.currentWriteId=nr(e);var y=Yn(e.serverSyncTree_,n,b,c.currentWriteId,c.applyLocally);Wi(e.eventQueue_,n,y),hr(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,a,r),s.promise}var Ao=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(o.L)("OnDisconnect.cancel",0,1,arguments.length),Object(o.M)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){Object(o.L)("OnDisconnect.remove",0,1,arguments.length),Object(o.M)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){Object(o.L)("OnDisconnect.set",1,2,arguments.length),Object(o.M)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){Object(o.L)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(o.M)("OnDisconnect.setWithPriority","onComplete",n,!0);var i=this._delegate.setWithPriority(t,e);return n&&i.then(function(){return n(null)},function(t){return n(t)}),i},t.prototype.update=function(t,e){if(Object(o.L)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,E("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(o.M)("OnDisconnect.update","onComplete",e,!0);var r=this._delegate.update(t);return e&&r.then(function(){return e(null)},function(t){return e(t)}),r},t}(),Do=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.L)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ro=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(o.L)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(o.L)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(o.L)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(o.L)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(o.L)("DataSnapshot.child",0,1,arguments.length),e=String(e),Vi("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(o.L)("DataSnapshot.hasChild",1,1,arguments.length),Vi("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(o.L)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(o.L)("DataSnapshot.forEach",1,1,arguments.length),Object(o.M)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(i){return e(new t(n._database,i))})},t.prototype.hasChildren=function(){return Object(o.L)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.L)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(o.L)("DataSnapshot.ref",0,0,arguments.length),new No(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Po=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,i,r){var s,a=this;Object(o.L)("Query.on",2,4,arguments.length),Object(o.M)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",i,r),c=function(t,e){n.call(u.context,new Ro(a.database,t),e)};c.userCallback=n,c.context=u.context;var l=null===(s=u.cancel)||void 0===s?void 0:s.bind(u.context);switch(e){case"value":return qr(this._delegate,c,l),n;case"child_added":return zr(this._delegate,c,l),n;case"child_removed":return Gr(this._delegate,c,l),n;case"child_changed":return Kr(this._delegate,c,l),n;case"child_moved":return Wr(this._delegate,c,l),n;default:throw new Error(Object(o.o)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(o.L)("Query.off",0,3,arguments.length),Fi("Query.off",t,!0),Object(o.M)("Query.off","callback",e,!0),Object(o.N)("Query.off","context",n,!0),e){var i=function(){};i.userCallback=e,i.context=n,Yr(this._delegate,t,i)}else Yr(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,i=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var r=_t(t,n);i=i||Bn(e,r)});var r=t.syncPointTree_.get(n);r?i=i||Bn(r,ht()):(r=new Fn,t.syncPointTree_=t.syncPointTree_.set(n,r));var o=null!=i,s=o?new Be(i,!0,!1):null;return Ge(Vn(r,e,un(t.pendingWriteTree_,e._path),o?s.getNode():ne.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var i=re(n),r=Qn(t.serverSyncTree_,e._path,i);return Ki(t.eventQueue_,e._path,r),Promise.resolve(i)},function(n){return ur(t,"get for query "+Object(o.K)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=Object(o.p)(t))._repo,t).then(function(e){return new Ar(e,new kr(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new Ro(t.database,e)})},t.prototype.once=function(e,n,i,r){var s=this;Object(o.L)("Query.once",1,4,arguments.length),Object(o.M)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.on",i,r),u=new o.a,c=function(t,e){var i=new Ro(s.database,t);n&&n.call(a.context,i,e),u.resolve(i)};c.userCallback=n,c.context=a.context;var l=function(t){a.cancel&&a.cancel.call(a.context,t),u.reject(t)};switch(e){case"value":qr(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":zr(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Gr(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Kr(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":Wr(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error(Object(o.o)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return Object(o.L)("Query.limitToFirst",1,1,arguments.length),new t(this.database,yo(this._delegate,oo(e)))},t.prototype.limitToLast=function(e){return Object(o.L)("Query.limitToLast",1,1,arguments.length),new t(this.database,yo(this._delegate,ao(e)))},t.prototype.orderByChild=function(e){return Object(o.L)("Query.orderByChild",1,1,arguments.length),new t(this.database,yo(this._delegate,co(e)))},t.prototype.orderByKey=function(){return Object(o.L)("Query.orderByKey",0,0,arguments.length),new t(this.database,yo(this._delegate,ho()))},t.prototype.orderByPriority=function(){return Object(o.L)("Query.orderByPriority",0,0,arguments.length),new t(this.database,yo(this._delegate,po()))},t.prototype.orderByValue=function(){return Object(o.L)("Query.orderByValue",0,0,arguments.length),new t(this.database,yo(this._delegate,go()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(o.L)("Query.startAt",0,2,arguments.length),new t(this.database,yo(this._delegate,eo(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(o.L)("Query.startAfter",0,2,arguments.length),new t(this.database,yo(this._delegate,io(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(o.L)("Query.endAt",0,2,arguments.length),new t(this.database,yo(this._delegate,Xr(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(o.L)("Query.endBefore",0,2,arguments.length),new t(this.database,yo(this._delegate,Zr(e,n)))},t.prototype.equalTo=function(e,n){return Object(o.L)("Query.equalTo",1,2,arguments.length),new t(this.database,yo(this._delegate,bo(e,n)))},t.prototype.toString=function(){return Object(o.L)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(o.L)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(o.L)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var i={cancel:void 0,context:void 0};if(e&&n)i.cancel=e,Object(o.M)(t,"cancel",i.cancel,!0),i.context=n,Object(o.N)(t,"context",i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error(Object(o.o)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new No(this.database,new kr(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),No=function(t){function e(e,n){var i=t.call(this,e,new Sr(n._repo,n._path,new _e,!1))||this;return i.database=e,i._delegate=n,i}return Object(s.c)(e,t),e.prototype.getKey=function(){return Object(o.L)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(o.L)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Pr(this._delegate,t))},e.prototype.getParent=function(){Object(o.L)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(o.L)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(o.L)("Reference.set",1,2,arguments.length),Object(o.M)("Reference.set","onComplete",e,!0);var n=Lr(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if(Object(o.L)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,E("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ui("Reference.update",this._delegate._path),Object(o.M)("Reference.update","onComplete",e,!0);var r=Vr(this._delegate,t);return e&&r.then(function(){return e(null)},function(t){return e(t)}),r},e.prototype.setWithPriority=function(t,e,n){Object(o.L)("Reference.setWithPriority",2,3,arguments.length),Object(o.M)("Reference.setWithPriority","onComplete",n,!0);var i=Mr(this._delegate,t,e);return n&&i.then(function(){return n(null)},function(t){return n(t)}),i},e.prototype.remove=function(t){Object(o.L)("Reference.remove",0,1,arguments.length),Object(o.M)("Reference.remove","onComplete",t,!0);var e=jr(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var i=this;Object(o.L)("Reference.transaction",1,3,arguments.length),Object(o.M)("Reference.transaction","transactionUpdate",t,!1),Object(o.M)("Reference.transaction","onComplete",e,!0),Hi("Reference.transaction","applyLocally",n,!0);var r=ko(this._delegate,t,{applyLocally:n}).then(function(t){return new Do(t.committed,new Ro(i.database,t.snapshot))});return e&&r.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),r},e.prototype.setPriority=function(t,e){Object(o.L)("Reference.setPriority",1,2,arguments.length),Object(o.M)("Reference.setPriority","onComplete",e,!0);var n=Fr(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var i=this;Object(o.L)("Reference.push",0,2,arguments.length),Object(o.M)("Reference.push","onComplete",n,!0);var r=Nr(this._delegate,t),s=r.then(function(t){return new e(i.database,t)});n&&s.then(function(){return n(null)},function(t){return n(t)});var a=new e(this.database,r);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return Ui("Reference.onDisconnect",this._delegate._path),new Ao(new Er(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Po),jo=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e){!function(t,e,n){(t=Object(o.p)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&O("Cannot call useEmulator() after instance has already been initialized."),function(t,e,n){t.repoInfo_=new z(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new U)}(t._repo,e,n)}(this._delegate,t,e)},t.prototype.ref=function(t){if(Object(o.L)("database.ref",0,1,arguments.length),t instanceof No){var e=Rr(this._delegate,t.toString());return new No(this,e)}return e=Dr(this._delegate,t),new No(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(o.L)(e,1,1,arguments.length);var n=Rr(this._delegate,t);return new No(this,n)},t.prototype.goOffline=function(){return Object(o.L)("database.goOffline",0,0,arguments.length),Eo(this._delegate)},t.prototype.goOnline=function(){return Object(o.L)("database.goOnline",0,0,arguments.length),So(this._delegate)},t.ServerValue={TIMESTAMP:xo,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Lo=Object.freeze({__proto__:null,forceLongPolling:function(){rt.forceDisallow(),Z.forceAllow()},forceWebSockets:function(){Z.forceDisallow()},isWebSocketsAvailable:function(){return rt.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Re(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var i=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);P(n,function(t,e){for(var n=t,r=t.length;r<i+2;r++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,i=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;nt(t.version);var u=new r.c("auth-internal",new r.b("database-standalone"));return u.setComponent(new r.a("auth-internal",function(){return i},"PRIVATE")),{instance:new jo(Co(e,u,n,a),e),namespace:o}}}),Fo=Dt;Dt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Dt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Mo=Object.freeze({__proto__:null,DataConnection:Fo,RealTimeConnection:st,hijackHash:function(t){var e=Dt.prototype.put;return Dt.prototype.put=function(n,i,r,o){void 0!==o&&(o=t()),e.call(this,n,i,r,o)},function(){Dt.prototype.put=e}},ConnectionTarget:z,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){wo=t}(t)}}),Vo=jo.ServerValue;!function(e){nt(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new r.a("database",function(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new jo(Co(i,r,n),i)},"PUBLIC").setServiceProps({Reference:No,Query:Po,Database:jo,DataSnapshot:Ro,enableLogging:To,INTERNAL:Lo,ServerValue:Vo,TEST_ACCESS:Mo}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.9.10"),Object(o.A)()&&(t.exports=n)}(i.a)}).call(this,n("3UD+")(t))},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let i=1;const r=(()=>Promise.resolve())(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=i++;return o[e]=!0,r.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(c),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("n6bG"),r=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.a;break;case 1:if(!t){this.destination=r.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const i=new c(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(i.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==r.a&&(a=Object.create(e),Object(i.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(u.a)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},"A/ap":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,e),window.removeEventListener("testPassiveEventSupport",n,e),i.hasSupport=t}}};i.update(),e.default=i},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("HDdC"),r=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new i.a(n=>{const i=new o.a;return i.add(e.schedule(()=>{const r=t[s.a]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(Object(c.a)(t))return function(t,e){return new i.a(n=>{const i=new o.a;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(n=>{const i=new o.a;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[u.a](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.a?t:new i.a(Object(r.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var i=n("3N8a");const r=new(n("IjjT").a)(i.a),o=r},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var i=n("XNiG"),r=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends r.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends i.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i=n("HDdC");const r=new i.a(t=>t.complete());function o(t){return t?function(t){return new i.a(e=>t.schedule(()=>e.complete()))}(t):r}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("7o/Q"),r=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[r.a])return t[r.a]()}return t||e||n?new i.a(t,e,n):new i.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof i.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class r extends i{constructor(t,e=i.now){super(t,()=>r.delegate&&r.delegate!==this?r.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var i=n("zIRd");n.d(e,"a",function(){return i.a}),i.a.registerVersion("firebase","8.4.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("z+Ro"),r=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(i.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(r.a)(t)}},Lhse:function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return r});const r=i()},NJ4a:function(t,e,n){"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return i})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("ngJS"),r=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(i.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",function(){return i})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(r.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("EY2u"),r=n("LRne"),o=n("z6cu");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var i=n("HDdC"),r=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends r.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new i.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return i})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("DH7j");function r(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("quSY");class r extends i.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("5+tZ"),r=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(i.a)(r.a,t)}},c2HN:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return i})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return an}),n.d(e,"b",function(){return ic}),n.d(e,"c",function(){return Ju}),n.d(e,"d",function(){return Qu}),n.d(e,"e",function(){return Xu}),n.d(e,"f",function(){return Qc}),n.d(e,"g",function(){return Uc}),n.d(e,"h",function(){return za}),n.d(e,"i",function(){return pc}),n.d(e,"j",function(){return pa}),n.d(e,"k",function(){return sc}),n.d(e,"l",function(){return ba}),n.d(e,"m",function(){return Si}),n.d(e,"n",function(){return Au}),n.d(e,"o",function(){return mo}),n.d(e,"p",function(){return In}),n.d(e,"q",function(){return k}),n.d(e,"r",function(){return sn}),n.d(e,"s",function(){return Do}),n.d(e,"t",function(){return Fa}),n.d(e,"u",function(){return Va}),n.d(e,"v",function(){return oc}),n.d(e,"w",function(){return eu}),n.d(e,"x",function(){return Hc}),n.d(e,"y",function(){return tu}),n.d(e,"z",function(){return jc}),n.d(e,"A",function(){return vc}),n.d(e,"B",function(){return kn}),n.d(e,"C",function(){return nc}),n.d(e,"D",function(){return ec}),n.d(e,"E",function(){return Ru}),n.d(e,"F",function(){return wa}),n.d(e,"G",function(){return _a}),n.d(e,"H",function(){return Ai}),n.d(e,"I",function(){return Oa}),n.d(e,"J",function(){return bi}),n.d(e,"K",function(){return An}),n.d(e,"L",function(){return Kc}),n.d(e,"M",function(){return Qa}),n.d(e,"N",function(){return Ec}),n.d(e,"O",function(){return un}),n.d(e,"P",function(){return Sa}),n.d(e,"Q",function(){return Ea}),n.d(e,"R",function(){return iu}),n.d(e,"S",function(){return j}),n.d(e,"T",function(){return Lc}),n.d(e,"U",function(){return Pc}),n.d(e,"V",function(){return f}),n.d(e,"W",function(){return Sn}),n.d(e,"X",function(){return Rc}),n.d(e,"Y",function(){return Yc}),n.d(e,"Z",function(){return xc}),n.d(e,"ab",function(){return rc}),n.d(e,"bb",function(){return vo}),n.d(e,"cb",function(){return ta}),n.d(e,"db",function(){return gi}),n.d(e,"eb",function(){return Zn}),n.d(e,"fb",function(){return Hn}),n.d(e,"gb",function(){return zn}),n.d(e,"hb",function(){return Yn}),n.d(e,"ib",function(){return Wn}),n.d(e,"jb",function(){return Kn}),n.d(e,"kb",function(){return Gn}),n.d(e,"lb",function(){return Qs}),n.d(e,"mb",function(){return Gc}),n.d(e,"nb",function(){return Xs}),n.d(e,"ob",function(){return Js}),n.d(e,"pb",function(){return qn}),n.d(e,"qb",function(){return U}),n.d(e,"rb",function(){return Bo}),n.d(e,"sb",function(){return us}),n.d(e,"tb",function(){return ss}),n.d(e,"ub",function(){return as}),n.d(e,"vb",function(){return $s}),n.d(e,"wb",function(){return St}),n.d(e,"xb",function(){return l}),n.d(e,"yb",function(){return Bn}),n.d(e,"zb",function(){return Po}),n.d(e,"Ab",function(){return yt}),n.d(e,"Bb",function(){return ha}),n.d(e,"Cb",function(){return vr}),n.d(e,"Db",function(){return Wo}),n.d(e,"Eb",function(){return xs}),n.d(e,"Fb",function(){return qs}),n.d(e,"Gb",function(){return Ts}),n.d(e,"Hb",function(){return zu}),n.d(e,"Ib",function(){return J}),n.d(e,"Jb",function(){return ot}),n.d(e,"Kb",function(){return _}),n.d(e,"Lb",function(){return w}),n.d(e,"Mb",function(){return nt}),n.d(e,"Nb",function(){return st}),n.d(e,"Ob",function(){return Qo}),n.d(e,"Pb",function(){return es}),n.d(e,"Qb",function(){return rs}),n.d(e,"Rb",function(){return is}),n.d(e,"Sb",function(){return ns}),n.d(e,"Tb",function(){return ts}),n.d(e,"Ub",function(){return Zo}),n.d(e,"Vb",function(){return os}),n.d(e,"Wb",function(){return tn}),n.d(e,"Xb",function(){return zs}),n.d(e,"Yb",function(){return En}),n.d(e,"Zb",function(){return nn}),n.d(e,"ac",function(){return $u}),n.d(e,"bc",function(){return cs}),n.d(e,"cc",function(){return Ku}),n.d(e,"dc",function(){return ps}),n.d(e,"ec",function(){return Ou}),n.d(e,"fc",function(){return Eu}),n.d(e,"gc",function(){return Su}),n.d(e,"hc",function(){return Tu}),n.d(e,"ic",function(){return vs}),n.d(e,"jc",function(){return gs}),n.d(e,"kc",function(){return Xo}),n.d(e,"lc",function(){return bs}),n.d(e,"mc",function(){return bu}),n.d(e,"nc",function(){return yu}),n.d(e,"oc",function(){return Hu}),n.d(e,"pc",function(){return $o}),n.d(e,"qc",function(){return Ii}),n.d(e,"rc",function(){return Kt}),n.d(e,"sc",function(){return yi}),n.d(e,"tc",function(){return _i}),n.d(e,"uc",function(){return it}),n.d(e,"vc",function(){return Ss}),n.d(e,"wc",function(){return ls}),n.d(e,"xc",function(){return Ks}),n.d(e,"yc",function(){return Yo}),n.d(e,"zc",function(){return Vs}),n.d(e,"Ac",function(){return Us}),n.d(e,"Bc",function(){return Bs}),n.d(e,"Cc",function(){return Hs}),n.d(e,"Dc",function(){return qu});var i=n("XNiG"),r=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=u({__forward_ref__:u});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function v(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():v(t)}function y(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${b(t)} found${n}`)}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{providers:t.providers||[],imports:t.imports||[]}}function C(t){return O(t,S)||O(t,x)}function O(t,e){return t.hasOwnProperty(e)?t[e]:null}function E(t){return t&&(t.hasOwnProperty(T)||t.hasOwnProperty(I))?t[T]:null}const S=u({"\u0275prov":u}),T=u({"\u0275inj":u}),x=u({ngInjectableDef:u}),I=u({ngInjectorDef:u});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let A;function D(t){const e=A;return A=t,e}function R(t,e,n){const i=C(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&k.Optional?null:void 0!==e?e:void y(l(t),"Injector")}function P(t){return{toString:t}.toString()}var N=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),j=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,M="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,U=L||V||F||M,B={},H=[],q=[],z=u({"\u0275cmp":u}),K=u({"\u0275dir":u}),W=u({"\u0275pipe":u}),G=u({"\u0275mod":u}),Y=u({"\u0275loc":u}),$=u({"\u0275fac":u}),Q=u({__NG_ELEMENT_ID__:u});let X=0;function J(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||q,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||j.Emulated,id:"c",styles:t.styles||q,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,o=t.pipes;return n.id+=X++,n.inputs=rt(t.inputs,e),n.outputs=rt(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(Z):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(tt):null,n})}function Z(t){return at(t)||function(t){return t[K]||null}(t)}function tt(t){return function(t){return t[W]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||q,declarations:t.declarations||q,imports:t.imports||q,exports:t.exports||q,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{et[t.id]=t.type}),e}function it(t,e){return P(()=>{const n=ut(t,!0);n.declarations=e.declarations||q,n.imports=e.imports||q,n.exports=e.exports||q})}function rt(t,e){if(null==t)return B;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}const ot=J;function st(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[z]||null}function ut(t,e){const n=t[G]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ct=20,lt=10;function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty($)?t[$]:null}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function yt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ct),wt}function wt(){const t=Ot(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ct(t,e,n,i){const r=Ot(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],u=s[a];o[a]=new bt(u&&u.currentValue,e,s===B),t[i]=e}function Ot(t){return t.__ngSimpleChanges__||null}let Et;function St(t){Et=t}function Tt(){return void 0!==Et?Et:"undefined"!=typeof document?document:void 0}function xt(t){return!!t.listen}yt.ngInherit=!0;const It={createRenderer:(t,e)=>Tt()};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return kt(e[t])}function Dt(t,e){return kt(e[t.index])}function Rt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function Nt(t,e){const n=e[t];return ht(n)?n:n[0]}function jt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Lt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Mt(t,e){return null==e?null:t[e]}function Vt(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const Bt={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return Bt.bindingsEnabled}function qt(){return Bt.lFrame.lView}function zt(){return Bt.lFrame.tView}function Kt(t){Bt.lFrame.contextLView=t}function Wt(){let t=Gt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gt(){return Bt.lFrame.currentTNode}function Yt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function $t(){return Bt.lFrame.isParent}function Qt(){Bt.lFrame.isParent=!1}function Xt(){return Bt.isInCheckNoChangesMode}function Jt(t){Bt.isInCheckNoChangesMode=t}function Zt(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function te(){return Bt.lFrame.bindingIndex}function ee(){return Bt.lFrame.bindingIndex++}function ne(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ie(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,re(e)}function re(t){Bt.lFrame.currentDirectiveIndex=t}function oe(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function se(){return Bt.lFrame.currentQueryIndex}function ae(t){Bt.lFrame.currentQueryIndex=t}function ue(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ce(t,e,n){if(n&k.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&k.Host||(i=ue(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=Bt.lFrame=he();return i.currentTNode=e,i.lView=t,!0}function le(t){const e=he(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function he(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fe(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pe=fe;function me(){const t=fe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return Bt.lFrame.selectedIndex}function ve(t){Bt.lFrame.selectedIndex=t}function be(){const t=Bt.lFrame;return Rt(t.tView,t.selectedIndex)}function ye(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function _e(t,e,n){Oe(t,e,3,n)}function we(t,e,n,i){(3&t[2])===n&&Oe(t,e,n,i)}function Ce(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Oe(t,e,n,i){const r=null!=i?i:-1,o=e.length-1;let s=0;for(let a=void 0!==i?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=i&&s>=i)break}else e[a]<0&&(t[18]+=65536),(s<r||-1==r)&&(Ee(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ee(t,e,n,i){const r=n[i]<0,o=n[i+1],s=t[r?-n[i]:n[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const Se=-1;class Te{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function xe(t,e,n){const i=xt(t);let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],a=n[r++],u=n[r++];i?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++r];ke(s)?i&&t.setProperty(e,s,a):i?t.setAttribute(e,s,a):e.setAttribute(s,a),r++}}return r}function Ie(t){return 3===t||4===t||6===t}function ke(t){return 64===t.charCodeAt(0)}function Ae(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||De(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function De(t,e,n,i,r){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function Re(t){return t!==Se}function Pe(t){return 32767&t}function Ne(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let je=!0;function Le(t){const e=je;return je=t,e}let Fe=0;function Me(t,e){const n=Ue(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Ve(i.data,t),Ve(e,null),Ve(i.blueprint,null));const r=Be(t,e),o=t.injectorIndex;if(Re(r)){const t=Pe(r),n=Ne(r,e),i=n[1].data;for(let r=0;r<8;r++)e[o+r]=n[t+r]|i[t+r]}return e[o+8]=r,o}function Ve(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ue(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Be(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return Se;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Se}function He(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(i=n[Q]),null==i&&(i=n[Q]=Fe++);const r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function qe(t,e,n){if(n&k.Optional)return t;y(e,"NodeInjector")}function ze(t,e,n,i){if(n&k.Optional&&void 0===i&&(i=null),0==(n&(k.Self|k.Host))){const r=t[9],o=D(void 0);try{return r?r.get(e,i,n&k.Optional):R(e,i,n&k.Optional)}finally{D(o)}}return qe(i,e,n)}function Ke(t,e,n,i=k.Default,r){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:Ge:e}(n);if("function"==typeof o){if(!ce(e,t,i))return i&k.Host?qe(r,n,i):ze(e,n,i,r);try{const t=o();if(null!=t||i&k.Optional)return t;y(n)}finally{pe()}}else if("number"==typeof o){let r=null,s=Ue(t,e),a=Se,u=i&k.Host?e[16][6]:null;for((-1===s||i&k.SkipSelf)&&(a=-1===s?Be(t,e):e[s+8],a!==Se&&Je(i,!1)?(r=e[1],s=Pe(a),e=Ne(a,e)):s=-1);-1!==s;){const t=e[1];if(Xe(o,s,t.data)){const t=Ye(s,e,n,r,i,u);if(t!==We)return t}a=e[s+8],a!==Se&&Je(i,e[1].data[s+8]===u)&&Xe(o,s,e)?(r=t,s=Pe(a),e=Ne(a,e)):s=-1}}}return ze(e,n,i,r)}const We={};function Ge(){return new Ze(Wt(),qt())}function Ye(t,e,n,i,r,o){const s=e[1],a=s.data[t+8],u=$e(a,s,n,null==i?pt(a)&&je:i!=s&&0!=(3&a.type),r&k.Host&&o===a);return null!==u?Qe(e,s,u,a):We}function $e(t,e,n,i,r){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=r?a+c:t.directiveEnd;for(let h=i?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(r){const t=s[u];if(t&&gt(t)&&t.type===n)return u}return null}function Qe(t,e,n,i){let r=t[n];const o=e.data;if(r instanceof Te){const s=r;s.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(b(o[n]));const a=Le(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?D(s.injectImpl):null;ce(t,i,k.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const i=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&D(u),Le(a),s.resolving=!1,pe()}}return r}function Xe(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Je(t,e){return!(t&k.Self||t&k.Host&&e)}class Ze{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ke(this._tNode,this._lView,t,void 0,e)}}function tn(t){return P(()=>{const e=t.prototype.constructor,n=e[$]||en(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[$]||en(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function en(t){return m(t)?()=>{const e=en(p(t));return e&&e()}:vt(t)}function nn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(Ie(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Wt(),t)}const rn="__parameters__";function on(t,e,n){return P(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(rn)?t[rn]:Object.defineProperty(t,rn,{value:[]})[rn];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class sn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const an=new sn("AnalyzeForEntryComponents"),un=Function;function cn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),cn(i,e)):e!==t&&e.push(i)}return e}function ln(t,e){t.forEach(t=>Array.isArray(t)?ln(t,e):e(t))}function hn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fn(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function pn(t,e,n){let i=gn(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function mn(t,e){const n=gn(t,e);if(n>=0)return t[1|n]}function gn(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),o=t[n<<1];if(e===o)return n<<1;o>e?r=n:i=n+1}return~(r<<1)}(t,e)}const vn={},bn=/\n/gm,yn="__source",_n=u({provide:String,useValue:u});let wn;function Cn(t){const e=wn;return wn=t,e}function On(t,e=k.Default){if(void 0===wn)throw new Error("inject() must be called from an injection context");return null===wn?R(t,void 0,e):wn.get(t,e&k.Optional?null:void 0,e)}function En(t,e=k.Default){return(A||On)(p(t),e)}const Sn=En;function Tn(t){const e=[];for(let n=0;n<t.length;n++){const i=p(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t,n=k.Default;for(let e=0;e<i.length;e++){const r=i[e],o=r.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=r.token:n|=o:t=r}e.push(En(t,n))}else e.push(En(i))}return e}function xn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const In=xn(on("Inject",t=>({token:t})),-1),kn=xn(on("Optional"),8),An=xn(on("SkipSelf"),4);let Dn,Rn;function Pn(t){var e;return(null===(e=function(){if(void 0===Dn&&(Dn=null,U.trustedTypes))try{Dn=U.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Dn}())||void 0===e?void 0:e.createHTML(t))||t}function Nn(t){var e;return(null===(e=function(){if(void 0===Rn&&(Rn=null,U.trustedTypes))try{Rn=U.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Rn}())||void 0===e?void 0:e.createHTML(t))||t}class jn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ln extends jn{getTypeName(){return"HTML"}}class Fn extends jn{getTypeName(){return"Style"}}class Mn extends jn{getTypeName(){return"Script"}}class Vn extends jn{getTypeName(){return"URL"}}class Un extends jn{getTypeName(){return"ResourceURL"}}function Bn(t){return t instanceof jn?t.changingThisBreaksApplicationSecurity:t}function Hn(t,e){const n=qn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function qn(t){return t instanceof jn&&t.getTypeName()||null}function zn(t){return new Ln(t)}function Kn(t){return new Fn(t)}function Wn(t){return new Mn(t)}function Gn(t){return new Vn(t)}function Yn(t){return new Un(t)}class $n{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Qn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Pn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Xn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zn(t){return(t=String(t)).match(Xn)||t.match(Jn)?t:"unsafe:"+t}function ti(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ei(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ni=ti("area,br,col,hr,img,wbr"),ii=ti("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ri=ti("rp,rt"),oi=ei(ri,ii),si=ei(ni,ei(ii,ti("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ei(ri,ti("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oi),ai=ti("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ui=ti("srcset"),ci=ei(ai,ui,ti("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ti("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),li=ti("script,style,template");class hi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!si.hasOwnProperty(e))return this.sanitizedSomething=!0,!li.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,o=e.toLowerCase();if(!ci.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ai[o]&&(s=Zn(s)),ui[o]&&(i=s,s=(i=String(i)).split(",").map(t=>Zn(t.trim())).join(", ")),this.buf.push(" ",e,'="',pi(s),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();si.hasOwnProperty(e)&&!ni.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const di=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fi=/([^\#-~ |!])/g;function pi(t){return t.replace(/&/g,"&amp;").replace(di,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(fi,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mi;function gi(t,e){let n=null;try{mi=mi||function(t){const e=new Qn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(t){return!1}}()?new $n(e):e}(t);let i=e?String(e):"";n=mi.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=mi.getInertBodyElement(i)}while(i!==o);return Pn((new hi).sanitizeChildren(vi(n)||n))}finally{if(n){const t=vi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function vi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var bi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function yi(t){const e=wi();return e?Nn(e.sanitize(bi.HTML,t)||""):Hn(t,"HTML")?Nn(Bn(t)):gi(Tt(),v(t))}function _i(t){const e=wi();return e?e.sanitize(bi.URL,t)||"":Hn(t,"URL")?Bn(t):Zn(v(t))}function wi(){const t=qt();return t&&t[12]}function Ci(t){return t.ngDebugContext}function Oi(t){return t.ngOriginalError}function Ei(t,...e){t.error(...e)}class Si{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Ei}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Ci(t)?Ci(t):this._findContext(Oi(t)):null}_findOriginalError(t){let e=Oi(t);for(;e&&Oi(e);)e=Oi(e);return e}}function Ti(t,e){t.__ngContext__=e}const xi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(U))();function Ii(t){return{name:"window",target:t.ownerDocument.defaultView}}function ki(t){return t instanceof Function?t():t}var Ai=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Di(t,e){return(void 0)(t,e)}function Ri(t){const e=t[3];return dt(e)?e[3]:e}function Pi(t){return ji(t[13])}function Ni(t){return ji(t[4])}function ji(t){for(;null!==t&&!dt(t);)t=t[4];return t}function Li(t,e,n,i,r){if(null!=i){let o,s=!1;dt(i)?o=i:ht(i)&&(s=!0,i=i[0]);const a=kt(i);0===t&&null!==n?null==r?zi(e,n,a):qi(e,n,a,r||null,!0):1===t&&null!==n?qi(e,n,a,r||null,!0):2===t?function(t,e,n){const i=Wi(t,e);i&&function(t,e,n,i){xt(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,i,r){const o=n[7];o!==kt(n)&&Li(e,t,i,o,r);for(let s=lt;s<n.length;s++){const r=n[s];tr(r[1],r,t,e,i,o)}}(e,t,o,n,r)}}function Fi(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Mi(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Ut(r,-1)),n.splice(i,1)}function Vi(t,e){if(t.length<=lt)return;const n=lt+e,i=t[n];if(i){const o=i[17];null!==o&&o!==t&&Mi(o,i),e>0&&(t[n-1][4]=i[4]);const s=dn(t,lt+e);tr(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function Ui(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&tr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Bi(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&Bi(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&Bi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Bi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof Te)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):kt(e[t]),a=i[r=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?i[r=u]():i[r=-u].unsubscribe(),o+=2}else{const t=i[r=n[o+1]];n[o].call(t)}if(null!==i){for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&Mi(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Hi(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===j.None||e===j.Emulated)return null}return Dt(i,n)}(t,e.parent,n)}function qi(t,e,n,i,r){xt(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function zi(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function Ki(t,e,n,i,r){null!==i?qi(t,e,n,i,r):zi(t,e,n)}function Wi(t,e){return xt(t)?t.parentNode(e):e.parentNode}function Gi(t,e,n){return Yi(t,e,n)}let Yi=function(t,e,n){return 40&t.type?Dt(t,n):null};function $i(t,e,n,i){const r=Hi(t,i,e),o=e[11],s=Gi(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)Ki(o,r,n[a],s,!1);else Ki(o,r,n,s,!1)}function Qi(t,e){if(null!==e){const n=e.type;if(3&n)return Dt(e,t);if(4&n)return Ji(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Qi(t,n);{const n=t[e.index];return dt(n)?Ji(-1,n):kt(n)}}if(32&n)return Di(e,t)()||kt(t[e.index]);{const n=Xi(t,e);return null!==n?Array.isArray(n)?n[0]:Qi(Ri(t[16]),n):Qi(t,e.next)}}return null}function Xi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Ji(t,e){const n=lt+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return Qi(t,i)}return e[7]}function Zi(t,e,n,i,r,o,s){for(;null!=n;){const a=i[n.index],u=n.type;if(s&&0===e&&(a&&Ti(kt(a),i),n.flags|=4),64!=(64&n.flags))if(8&u)Zi(t,e,n.child,i,r,o,!1),Li(e,t,r,a,o);else if(32&u){const s=Di(n,i);let u;for(;u=s();)Li(e,t,r,u,o);Li(e,t,r,a,o)}else 16&u?er(t,e,i,n,r,o):Li(e,t,r,a,o);n=s?n.projectionNext:n.next}}function tr(t,e,n,i,r,o){Zi(n,i,t.firstChild,e,r,o,!1)}function er(t,e,n,i,r,o){const s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Li(e,t,r,a[u],o);else Zi(t,e,a,s[3],r,o,!0)}function nr(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ir(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function rr(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}const or="ng-template";function sr(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==rr(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function ar(t){return 4===t.type&&t.value!==or}function ur(t,e,n){return e===(4!==t.type||n?t.value:or)}function cr(t,e,n){let i=4;const r=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ie(t[e]))return e;return t.length}(r);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&i){if(i=2|1&i,""!==u&&!ur(t,u,n)||""===u&&1===e.length){if(lr(i))return!1;s=!0}}else{const c=8&i?u:e[++a];if(8&i&&null!==t.attrs){if(!sr(t.attrs,c,n)){if(lr(i))return!1;s=!0}continue}const l=hr(8&i?"class":u,r,ar(t),n);if(-1===l){if(lr(i))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":r[l+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==rr(e,c,0)||2&i&&c!==t){if(lr(i))return!1;s=!0}}}}else{if(!s&&!lr(i)&&!lr(u))return!1;if(s&&lr(u))continue;s=!1,i=u|1&i}}return lr(i)||s}function lr(t){return 0==(1&t)}function hr(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function dr(t,e,n=!1){for(let i=0;i<e.length;i++)if(cr(t,e[i],n))return!0;return!1}function fr(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function pr(t,e){return t?":not("+e.trim()+")":e}function mr(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&i){const e=t[++n];r+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||lr(s)||(e+=pr(o,r),r=""),i=s,o=o||!lr(i);n++}return""!==r&&(e+=pr(o,r)),e}const gr={};function vr(t){br(zt(),qt(),ge()+t,Xt())}function br(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&_e(e,i,n)}else{const i=t.preOrderHooks;null!==i&&we(e,i,0,n)}ve(n)}function yr(t,e){return t<<17|e<<2}function _r(t){return t>>17&32767}function wr(t){return 2|t}function Cr(t){return(131068&t)>>2}function Or(t,e){return-131069&t|e<<2}function Er(t){return 1|t}function Sr(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],o=n[i+1];if(-1!==o){const n=t.data[o];ae(r),n.contentQueries(2,e[o],o)}}}function Tr(t,e,n,i,r,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=r,l[2]=140|i,Vt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function xr(t,e,n,i,r){let o=t.data[e];if(null===o)o=function(t,e,n,i,r){const o=Gt(),s=$t(),a=t.data[e]=function(t,e,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,i,r),Bt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Yt(o,!0),o}function Ir(t,e,n,i){if(0===n)return-1;const r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function kr(t,e,n){le(e);try{const i=t.viewQuery;null!==i&&oo(1,i,n);const r=t.template;null!==r&&Rr(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Sr(t,e),t.staticViewQueries&&oo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)to(t,e[n])}(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,me()}}function Ar(t,e,n,i){const r=e[2];if(256==(256&r))return;le(e);const o=Xt();try{Vt(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Rr(t,e,n,2,i);const s=3==(3&r);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&_e(e,n,null)}else{const n=t.preOrderHooks;null!==n&&we(e,n,0,null),Ce(e,0)}if(function(t){for(let e=Pi(t);null!==e;e=Ni(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&Ut(i,1),n[2]|=1024}}}(e),function(t){for(let e=Pi(t);null!==e;e=Ni(e))for(let t=lt;t<e.length;t++){const n=e[t],i=n[1];Ft(n)&&Ar(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&Sr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&_e(e,n)}else{const n=t.contentHooks;null!==n&&we(e,n,1),Ce(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)ve(~i);else{const r=i,o=n[++t],s=n[++t];ie(o,r),s(2,e[r])}}}finally{ve(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Jr(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&oo(2,u,i),!o)if(s){const n=t.viewCheckHooks;null!==n&&_e(e,n)}else{const n=t.viewHooks;null!==n&&we(e,n,2),Ce(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{me()}}function Dr(t,e,n,i){const r=e[10],o=!Xt(),s=Lt(e);try{o&&!s&&r.begin&&r.begin(),s&&kr(t,e,i),Ar(t,e,n,i)}finally{o&&!s&&r.end&&r.end()}}function Rr(t,e,n,i,r){const o=ge(),s=2&i;try{ve(-1),s&&e.length>ct&&br(t,e,ct,Xt()),n(i,r)}finally{ve(o)}}function Pr(t,e,n){if(ft(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function Nr(t,e,n){Ht()&&(function(t,e,n,i){const r=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Me(n,e),Ti(i,e);const s=n.initialInputs;for(let a=r;a<o;a++){const i=t.data[a],o=gt(i);o&&Yr(e,n,i);const u=Qe(e,t,a,n);Ti(u,e),null!==s&&$r(0,a-r,u,i,0,s),o&&(Nt(n.index,e)[8]=u)}}(t,e,n,Dt(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,s=Bt.lFrame.currentDirectiveIndex;try{ve(o);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];re(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||qr(i,r)}}finally{ve(-1),re(s)}}(t,e,n))}function jr(t,e,n=Dt){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(e,t):t[s];t[r++]=a}}}function Lr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Fr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Fr(t,e,n,i,r,o,s,a,u,c){const l=ct+i,h=l+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:gr);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Mr(t,e,n,i){const r=ao(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&uo(t).push(i,r.length-1))}function Vr(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Ur(t,e,n,i,r,o,s,a){const u=Dt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[i])?(ho(t,n,c,i,r),pt(e)&&function(t,e){const n=Nt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=s?s(r,e.value||"",i):r,xt(o)?o.setProperty(u,i,r):ke(i)||(u.setProperty?u.setProperty(i,r):u[i]=r))}function Br(t,e,n,i){let r=!1;if(Ht()){const o=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];dr(n,s.selectors,!1)&&(r||(r=[]),He(Me(n,e),t,s.type),gt(s)?(zr(t,n),r.unshift(s)):r.push(s))}return r}(t,e,n),s=null===i?null:{"":-1};if(null!==o){r=!0,Wr(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,u=Ir(t,e,o.length,null);for(let r=0;r<o.length;r++){const c=o[r];n.mergedAttrs=Ae(n.mergedAttrs,c.hostAttrs),Gr(t,n,e,u,c),Kr(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!i&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=i[u],n=t.inputs,c=null===r||ar(e)?null:Qr(n,r);o.push(c),s=Vr(n,u,s),a=Vr(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new g("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,s)}return n.mergedAttrs=Ae(n.mergedAttrs,n.attrs),r}function Hr(t,e,n,i,r,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(i,r,s)}}function qr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function zr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Kr(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;gt(e)&&(n[""]=t)}}function Wr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Gr(t,e,n,i,r){t.data[i]=r;const o=r.factory||(r.factory=vt(r.type)),s=new Te(o,gt(r),null);t.blueprint[i]=s,n[i]=s,Hr(t,e,0,i,Ir(t,n,r.hostVars,gr),r)}function Yr(t,e,n){const i=Dt(e,t),r=Lr(n),o=t[10],s=eo(t,Tr(t,r,null,n.onPush?64:16,i,e,o,o.createRenderer(i,n),null,null));t[e.index]=s}function $r(t,e,n,i,r,o){const s=o[e];if(null!==s){const t=i.setInput;for(let e=0;e<s.length;){const r=s[e++],o=s[e++],a=s[e++];null!==t?i.setInput(n,a,r,o):n[o]=a}}}function Qr(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Xr(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function Jr(t,e){const n=Nt(e,t);if(Ft(n)){const t=n[1];80&n[2]?Ar(t,n,t.template,n[8]):n[5]>0&&Zr(n)}}function Zr(t){for(let n=Pi(t);null!==n;n=Ni(n))for(let t=lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ar(t,e,t.template,e[8])}else e[5]>0&&Zr(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=Nt(e[n],t);Ft(i)&&i[5]>0&&Zr(i)}}function to(t,e){const n=Nt(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),kr(i,n,n[8])}function eo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function no(t){for(;t;){t[2]|=64;const e=Ri(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function io(t,e,n){const i=e[10];i.begin&&i.begin();try{Ar(t,e,t.template,n)}catch(r){throw lo(e,r),r}finally{i.end&&i.end()}}function ro(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=jt(n),r=i[1];Dr(r,i,r.template,n)}}(t[8])}function oo(t,e,n){ae(0),e(t,n)}const so=(()=>Promise.resolve(null))();function ao(t){return t[7]||(t[7]=[])}function uo(t){return t.cleanup||(t.cleanup=[])}function co(t,e,n){return(null===t||gt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function lo(t,e){const n=t[9],i=n?n.get(Si,null):null;i&&i.handleError(e)}function ho(t,e,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,r,i,a):u[a]=r}}function fo(t,e,n){const i=At(e,t);!function(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}function po(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?r=h(r,t):2==o&&(i=h(i,t+": "+e[++s]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const mo=new sn("INJECTOR",-1);class go{get(t,e=vn){if(e===vn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const vo=new sn("Set Injector scope."),bo={},yo={},_o=[];let wo;function Co(){return void 0===wo&&(wo=new go),wo}function Oo(t,e=null,n=null,i){return new Eo(t,n,e||Co(),i)}class Eo{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&ln(e,n=>this.processProvider(n,t,e)),ln([t],t=>this.processInjectorType(t,[],r)),this.records.set(mo,xo(void 0,this));const o=this.records.get(vo);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=vn,n=k.Default){this.assertNotDestroyed();const i=Cn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof sn)&&C(t);e=n&&this.injectableDefInScope(n)?xo(So(t),bo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?Co():this.parent).get(t,e=n&k.Optional&&e===vn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),i)throw o;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e[yn]&&r.unshift(e[yn]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=l(e);if(Array.isArray(e))r=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):l(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(bn,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Cn(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let i=E(t);const r=null==i&&t.ngModule||void 0,o=void 0===r?t:r,s=-1!==n.indexOf(o);if(void 0!==r&&(i=E(r)),null==i)return!1;if(null!=i.imports&&!s){let t;n.push(o);try{ln(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];ln(i,t=>this.processProvider(t,n,i||_o))}}this.injectorDefTypes.add(o);const a=vt(o)||(()=>new o);this.records.set(o,xo(a,bo));const u=i.providers;if(null!=u&&!s){const e=t;ln(u,t=>this.processProvider(t,e,u))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=ko(t=p(t))?t:p(t&&t.provide);const r=function(t,e,n){return Io(t)?xo(void 0,t.useValue):xo(To(t),bo)}(t);if(ko(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=xo(void 0,bo,!0),e.factory=()=>Tn(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===bo&&(e.value=yo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function So(t){const e=C(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof sn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=fn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function To(t,e,n){let i;if(ko(t)){const e=p(t);return vt(e)||So(e)}if(Io(t))i=()=>p(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...Tn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>En(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||So(e);i=()=>new e(...Tn(t.deps))}var r;return i}function xo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Io(t){return null!==t&&"object"==typeof t&&_n in t}function ko(t){return"function"==typeof t}const Ao=function(t,e,n){return function(t,e=null,n=null,i){const r=Oo(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let Do=(()=>{class t{static create(t,e){return Array.isArray(t)?Ao(t,e,""):Ao(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=vn,t.NULL=new go,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>En(mo)}),t.__NG_ELEMENT_ID__=-1,t})();function Ro(t,e){ye(jt(t)[1],Wt())}function Po(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r;if(gt(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=No(t.inputs),e.declaredInputs=No(t.declaredInputs),e.outputs=No(t.outputs);const n=r.hostBindings;n&&Fo(t,n);const o=r.viewQuery,s=r.contentQueries;if(o&&jo(t,o),s&&Lo(t,s),c(t.inputs,r.inputs),c(t.declaredInputs,r.declaredInputs),c(t.outputs,r.outputs),gt(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===Po&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ae(r.hostAttrs,n=Ae(n,r.hostAttrs))}}(i)}function No(t){return t===B?{}:t===q?[]:t}function jo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function Lo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Fo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}let Mo=null;function Vo(){if(!Mo){const t=U.Symbol;if(t&&t.iterator)Mo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Mo=n)}}}return Mo}class Uo{constructor(t){this.wrapped=t}static wrap(t){return new Uo(t)}static unwrap(t){return Uo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Uo}}function Bo(t){return!!Ho(t)&&(Array.isArray(t)||!(t instanceof Map)&&Vo()in t)}function Ho(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function qo(t,e,n){return t[e]=n}function zo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ko(t,e,n,i){const r=zo(t,e,n);return zo(t,e+1,i)||r}function Wo(t,e,n,i){const r=qt();return zo(r,ee(),e)&&(zt(),function(t,e,n,i,r,o){const s=Dt(t,e);!function(t,e,n,i,r,o,s){if(null==o)xt(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==s?v(o):s(o,i||"",r);xt(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}(e[11],s,o,t.value,n,i,r)}(be(),r,t,e,n,i)),Wo}function Go(t,e,n,i){return zo(t,ee(),n)?e+v(n)+i:gr}function Yo(t,e,n,i,r,o,s,a){const u=qt(),c=zt(),l=t+ct,h=c.firstCreatePass?function(t,e,n,i,r,o,s,a,u){const c=e.consts,l=xr(e,t,4,s||null,Mt(c,a));Br(e,n,l,Mt(c,u)),ye(e,l);const h=l.tViews=Fr(2,l,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,i,r,o,s):c.data[l];Yt(h,!1);const d=u[11].createComment("");$i(c,u,d,h),Ti(d,u),eo(u,u[l]=Xr(d,u,d,h)),mt(h)&&Nr(c,u,h),null!=s&&jr(u,h,a)}function $o(t){return Pt(Bt.lFrame.contextLView,ct+t)}function Qo(t,e=k.Default){const n=qt();return null===n?En(t,e):Ke(Wt(),n,p(t),e)}function Xo(t,e,n){const i=qt();return zo(i,ee(),e)&&Ur(zt(),be(),i,t,e,i[11],n,!1),Xo}function Jo(t,e,n,i,r){const o=r?"class":"style";ho(t,n,e.inputs[o],o,i)}function Zo(t,e,n,i){const r=qt(),o=zt(),s=ct+t,a=r[11],u=r[s]=Fi(a,e,Bt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,i,r,o,s){const a=e.consts,u=xr(e,t,2,r,Mt(a,o));return Br(e,n,u,Mt(a,s)),null!==u.attrs&&po(u,u.attrs,!1),null!==u.mergedAttrs&&po(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,r,0,e,n,i):o.data[s];Yt(c,!0);const l=c.mergedAttrs;null!==l&&xe(a,u,l);const h=c.classes;null!==h&&ir(a,u,h);const d=c.styles;null!==d&&nr(a,u,d),64!=(64&c.flags)&&$i(o,r,u,c),0===Bt.lFrame.elementDepthCount&&Ti(u,r),Bt.lFrame.elementDepthCount++,mt(c)&&(Nr(o,r,c),Pr(o,c,r)),null!==i&&jr(r,c)}function ts(){let t=Wt();$t()?Qt():(t=t.parent,Yt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=zt();n.firstCreatePass&&(ye(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Jo(n,e,qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Jo(n,e,qt(),e.stylesWithoutHost,!1)}function es(t,e,n,i){Zo(t,e,n,i),ts()}function ns(t,e,n){const i=qt(),r=zt(),o=t+ct,s=r.firstCreatePass?function(t,e,n,i,r){const o=e.consts,s=Mt(o,i),a=xr(e,t,8,"ng-container",s);return null!==s&&po(a,s,!0),Br(e,n,a,Mt(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,n):r.data[o];Yt(s,!0);const a=i[o]=i[11].createComment("");$i(r,i,a,s),Ti(a,i),mt(s)&&(Nr(r,i,s),Pr(r,s,i)),null!=n&&jr(i,s)}function is(){let t=Wt();const e=zt();$t()?Qt():(t=t.parent,Yt(t,!1)),e.firstCreatePass&&(ye(e,t),ft(t)&&e.queries.elementEnd(t))}function rs(t,e,n){ns(t,e,n),is()}function os(){return qt()}function ss(t){return!!t&&"function"==typeof t.then}function as(t){return!!t&&"function"==typeof t.subscribe}const us=as;function cs(t,e,n=!1,i){const r=qt(),o=zt(),s=Wt();return hs(o,r,r[11],s,t,e,n,i),cs}function ls(t,e,n=!1,i){const r=Wt(),o=qt(),s=zt();return hs(s,o,co(oe(s.data),r,o),r,t,e,n,i),ls}function hs(t,e,n,i,r,o,s=!1,a){const u=mt(i),c=t.firstCreatePass&&uo(t),l=ao(e);let h=!0;if(3&i.type){const d=Dt(i,e),f=a?a(d):B,p=f.target||d,m=l.length,g=a?t=>a(kt(t[i.index])).target:i.index;if(xt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const t=r[o];if(t===n&&r[o+1]===i){const t=e[7],n=r[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,r,i.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=fs(i,e,0,o,!1);const t=n.listen(f.name||p,r,o);l.push(o,t),c&&c.push(r,g,m,m+1)}}else o=fs(i,e,0,o,!0),p.addEventListener(r,o,s),l.push(o),c&&c.push(r,g,m,s)}else o=fs(i,e,0,o,!1);const d=i.outputs;let f;if(h&&null!==d&&(f=d[r])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(r,i.index,s,-(s+1))}}}function ds(t,e,n,i){try{return!1!==n(i)}catch(r){return lo(t,r),!1}}function fs(t,e,n,i,r){return function n(o){if(o===Function)return i;const s=2&t.flags?Nt(t.index,e):e;0==(32&e[2])&&no(s);let a=ds(e,0,i,o),u=n.__ngNextListenerFn__;for(;u;)a=ds(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function ps(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function ms(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?dr(t,o,!0):fr(i,o))return r}else n=r}return n}function gs(t){const e=qt()[16][6];if(!e.projection){const n=e.projection=fn(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?ms(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function vs(t,e=0,n){const i=qt(),r=zt(),o=xr(r,ct+t,16,null,n||null);null===o.projection&&(o.projection=e),Qt(),64!=(64&o.flags)&&function(t,e,n){er(e[11],0,e,n,Hi(t,n,e),Gi(n.parent||e[6],n,e))}(r,i,o)}function bs(t,e,n,i,r){const o=qt(),s=Go(o,e,n,i);return s!==gr&&Ur(zt(),be(),o,t,s,o[11],r,!1),bs}function ys(t,e,n,i,r){const o=t[n+1],s=null===e;let a=i?_r(o):Cr(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];_s(t[a],e)&&(u=!0,t[a+1]=i?Er(n):wr(n)),a=i?_r(n):Cr(n)}u&&(t[n+1]=i?wr(o):Er(o))}function _s(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&gn(t,e)>=0}const ws={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Cs(t){return t.substring(ws.key,ws.keyEnd)}function Os(t,e){const n=ws.textEnd;return n===e?-1:(e=ws.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ws.key=e,n),Es(t,e,n))}function Es(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ss(t,e,n){return ks(t,e,n,!1),Ss}function Ts(t,e){return ks(t,e,null,!0),Ts}function xs(t){As(pn,Is,t,!0)}function Is(t,e){for(let n=function(t){return function(t){ws.key=0,ws.keyEnd=0,ws.value=0,ws.valueEnd=0,ws.textEnd=t.length}(t),Os(t,Es(t,0,ws.textEnd))}(e);n>=0;n=Os(e,n))pn(t,Cs(e),!0)}function ks(t,e,n,i){const r=qt(),o=zt(),s=ne(2);o.firstUpdatePass&&Rs(o,t,s,i),e!==gr&&zo(r,s,e)&&js(o,o.data[ge()],r,r[11],t,r[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Bn(t)))),t}(e,n),i,s)}function As(t,e,n,i){const r=zt(),o=ne(2);r.firstUpdatePass&&Rs(r,null,o,i);const s=qt();if(n!==gr&&zo(s,o,n)){const a=r.data[ge()];if(Ms(a,i)&&!Ds(r,o)){let t=i?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),Jo(r,a,s,n,i)}else!function(t,e,n,i,r,o,s,a){r===gr&&(r=H);let u=0,c=0,l=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const d=u<r.length?r[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let p,m=null;l===h?(u+=2,c+=2,d!==f&&(m=h,p=f)):null===h||null!==l&&l<h?(u+=2,m=l):(c+=2,m=h,p=f),null!==m&&js(t,e,n,i,m,p,s,a),l=u<r.length?r[u]:null,h=c<o.length?o[c]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return H;const i=[],r=Bn(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,o)}}function Ds(t,e){return e>=t.expandoStartIndex}function Rs(t,e,n,i){const r=t.data;if(null===r[n+1]){const o=r[ge()],s=Ds(t,n);Ms(o,i)&&null===e&&!s&&(e=!1),e=function(t,e,n,i){const r=oe(t);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=Ns(n=Ps(null,t,e,n,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==r)if(n=Ps(r,t,e,n,i),null===o){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==Cr(i))return t[_r(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=Ps(null,t,e,n[1],i),n=Ns(n,e.attrs,i),function(t,e,n,i){t[_r(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else o=function(t,e,n){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Ns(i,t[o].hostAttrs,n);return Ns(i,e.attrs,n)}(t,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),n}(r,o,e,i),function(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=_r(s),u=Cr(s);t[i]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||gn(t,c)>0)&&(l=!0)}else c=n;if(r)if(0!==u){const e=_r(t[a+1]);t[i+1]=yr(e,a),0!==e&&(t[e+1]=Or(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=yr(a,0),0!==a&&(t[a+1]=Or(t[a+1],i)),a=i;else t[i+1]=yr(u,0),0===a?a=i:t[u+1]=Or(t[u+1],i),u=i;l&&(t[i+1]=wr(t[i+1])),ys(t,c,i,!0),ys(t,c,i,!1),function(t,e,n,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&gn(o,e)>=0&&(n[i+1]=Er(n[i+1]))}(e,c,t,i,o),s=yr(a,u),o?e.classBindings=s:e.styleBindings=s}(r,o,e,n,s,i)}}function Ps(t,e,n,i,r){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],i=Ns(i,o.hostAttrs,r),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function Ns(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),pn(t,s,!!n||e[++o]))}return void 0===t?null:t}function js(t,e,n,i,r,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Fs(1==(1&c)?Ls(u,e,n,r,Cr(c),s):void 0)||(Fs(o)||2==(2&c)&&(o=Ls(u,null,n,r,a,s)),function(t,e,n,i,r){const o=xt(t);if(e)r?o?t.addClass(n,i):n.classList.add(i):o?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:Ai.DashCase;if(null==r)o?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),e|=Ai.Important),o?t.setStyle(n,i,r,e):n.style.setProperty(i,r,s?"important":"")}}}(i,s,At(ge(),n),r,o))}function Ls(t,e,n,i,r,o){const s=null===e;let a;for(;r>0;){const e=t[r],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[r+1];l===gr&&(l=c?H:void 0);let h=c?mn(l,i):u===i?l:void 0;if(o&&!Fs(h)&&(h=mn(e,i)),Fs(h)&&(a=h,s))return a;const d=t[r+1];r=s?_r(d):Cr(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=mn(t,i))}return a}function Fs(t){return void 0!==t}function Ms(t,e){return 0!=(t.flags&(e?16:32))}function Vs(t,e=""){const n=qt(),i=zt(),r=t+ct,o=i.firstCreatePass?xr(i,r,1,e,null):i.data[r],s=n[r]=function(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);$i(i,n,s,o),Yt(o,!1)}function Us(t){return Bs("",t,""),Us}function Bs(t,e,n){const i=qt(),r=Go(i,t,e,n);return r!==gr&&fo(i,ge(),r),Bs}function Hs(t,e,n,i,r){const o=qt(),s=function(t,e,n,i,r,o){const s=Ko(t,te(),n,r);return ne(2),s?e+v(n)+i+v(r)+o:gr}(o,t,e,n,i,r);return s!==gr&&fo(o,ge(),s),Hs}function qs(t,e,n){As(pn,Is,Go(qt(),t,e,n),!0)}function zs(t,e,n){const i=qt();return zo(i,ee(),e)&&Ur(zt(),be(),i,t,e,i[11],n,!0),zs}function Ks(t,e,n){const i=qt();if(zo(i,ee(),e)){const r=zt(),o=be();Ur(r,o,i,t,e,co(oe(r.data),o,i),n,!0)}return Ks}const Ws=void 0;var Gs=["en",[["a","p"],["AM","PM"],Ws],[["AM","PM"],Ws,Ws],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ws,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ws,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ws,"{1} 'at' {0}",Ws],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ys={};function $s(t,e,n){"string"!=typeof e&&(n=e,e=t[ta.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ys[e]=t,n&&(Ys[e][ta.ExtraData]=n)}function Qs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Zs(e);if(n)return n;const i=e.split("-")[0];if(n=Zs(i),n)return n;if("en"===i)return Gs;throw new Error(`Missing locale data for the locale "${t}".`)}function Xs(t){return Qs(t)[ta.CurrencyCode]||null}function Js(t){return Qs(t)[ta.PluralCase]}function Zs(t){return t in Ys||(Ys[t]=U.ng&&U.ng.common&&U.ng.common.locales&&U.ng.common.locales[t]),Ys[t]}var ta=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ea="en-US";let na=ea;function ia(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(na=t.toLowerCase().replace(/_/g,"-"))}function ra(t,e,n,i,r){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)ra(t[o],e,n,i,r);else{const o=zt(),s=qt();let a=ko(t)?t:p(t.provide),u=To(t);const c=Wt(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(ko(t)||!t.multi){const i=new Te(u,r,Qo),f=aa(a,e,r?l:l+d,h);-1===f?(He(Me(c,s),o,a),oa(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(i),s.push(i)):(n[f]=i,s[f]=i)}else{const f=aa(a,e,l+d,h),p=aa(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(r&&!g||!r&&!m){He(Me(c,s),o,a);const l=function(t,e,n,i,r){const o=new Te(t,n,Qo);return o.multi=[],o.index=e,o.componentProviders=0,sa(o,r,i&&!n),o}(r?ca:ua,n.length,r,i,u);!r&&g&&(n[p].providerFactory=l),oa(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else oa(o,t,f>-1?f:p,sa(n[r?p:f],u,!r&&i));!r&&i&&g&&n[p].componentProviders++}}}function oa(t,e,n,i){const r=ko(e);if(r||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[i,o]):s[t+1].push(i,o)}else s.push(n,o)}}}function sa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function aa(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function ua(t,e,n,i){return la(this.multi,[])}function ca(t,e,n,i){const r=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Qe(n,n[1],this.providerFactory.index,i);o=e.slice(0,t),la(r,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],la(r,o);return o}function la(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ha(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=zt();if(i.firstCreatePass){const r=gt(t);ra(n,i.data,i.blueprint,r,!0),ra(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class da{}class fa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let pa=(()=>{class t{}return t.NULL=new fa,t})();function ma(...t){}function ga(t,e){return new ba(Dt(t,e))}const va=function(){return ga(Wt(),qt())};let ba=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=va,t})();function ya(t){return t instanceof ba?t.nativeElement:t}class _a{}let wa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ca(),t})();const Ca=function(){const t=qt(),e=Nt(Wt().index,t);return function(t){return t[11]}(ht(e)?e:t)};let Oa=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class Ea{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Sa=new Ea("11.2.10");class Ta{constructor(){}supports(t){return Bo(t)}create(t){return new Ia(t)}}const xa=(t,e)=>e;class Ia{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||xa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ra(n,i,r)?e:n,s=Ra(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);const t=s-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,o=i+n;e<=o&&o<t&&(r[n]=i+1)}r[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Bo(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),o=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Vo()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),o=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):t=this._addAfter(new ka(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Da),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Da),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ka{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Aa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Da{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Aa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ra(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class Pa{constructor(){}supports(t){return t instanceof Map||Ho(t)}create(){return new Na}}class Na{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ho(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new ja(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ja{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function La(){return new Fa([new Ta])}let Fa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||La()),deps:[[t,new An,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:La}),t})();function Ma(){return new Va([new Pa])}let Va=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ma()),deps:[[t,new An,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Ma}),t})();function Ua(t,e,n,i,r=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&i.push(kt(o)),dt(o))for(let t=lt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Ua(e[1],e,n,i)}const s=n.type;if(8&s)Ua(t,e,n.child,i);else if(32&s){const t=Di(n,e);let r;for(;r=t();)i.push(r)}else if(16&s){const t=Xi(e,n);if(Array.isArray(t))i.push(...t);else{const n=Ri(e[16]);Ua(n[1],n,t,i,!0)}}n=r?n.projectionNext:n.next}return i}class Ba{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ua(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Vi(t,n),dn(e,n))}this._attachedToViewContainer=!1}Ui(this._lView[1],this._lView)}onDestroy(t){Mr(this._lView[1],this._lView,null,t)}markForCheck(){no(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){io(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{io(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,tr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ha extends Ba{constructor(t){super(t),this._view=t}detectChanges(){ro(this._view)}checkNoChanges(){!function(t){Jt(!0);try{ro(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const qa=Ka;let za=(()=>{class t{}return t.__NG_ELEMENT_ID__=qa,t.__ChangeDetectorRef__=!0,t})();function Ka(t=!1){return function(t,e,n){if(!n&&pt(t)){const n=Nt(t.index,e);return new Ba(n,n)}return 47&t.type?new Ba(e[16],e):null}(Wt(),qt(),t)}const Wa=[new Pa],Ga=new Fa([new Ta]),Ya=new Va(Wa),$a=function(){return Za(Wt(),qt())};let Qa=(()=>{class t{}return t.__NG_ELEMENT_ID__=$a,t})();const Xa=Qa,Ja=class extends Xa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Tr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),kr(e,n,t),new Ba(n)}};function Za(t,e){return 4&t.type?new Ja(e,t,ga(t,e)):null}class tu{}class eu{}const nu=function(){return uu(Wt(),qt())};let iu=(()=>{class t{}return t.__NG_ELEMENT_ID__=nu,t})();const ru=iu,ou=class extends ru{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return ga(this._hostTNode,this._hostLView)}get injector(){return new Ze(this._hostTNode,this._hostLView)}get parentInjector(){const t=Be(this._hostTNode,this._hostLView);if(Re(t)){const e=Ne(t,this._hostLView),n=Pe(t);return new Ze(e[1].data[n+8],e)}return new Ze(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=su(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const o=n||this.parentInjector;if(!r&&null==t.ngModule&&o){const t=o.get(tu,null);t&&(r=t)}const s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,i=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new ou(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,i){const r=lt+i,o=n.length;i>0&&(n[r-1][4]=e),i<o-lt?(e[4]=n[r],hn(n,lt+i,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,o,r);const s=Ji(r,o),a=n[11],u=Wi(a,o[7]);return null!==u&&function(t,e,n,i,r,o){i[0]=r,i[6]=e,tr(t,i,n,1,r,o)}(i,o[6],a,n,u,s),t.attachToViewContainerRef(),hn(au(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=su(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Vi(this._lContainer,e);n&&(dn(au(this._lContainer),e),Ui(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Vi(this._lContainer,e);return n&&null!=dn(au(this._lContainer),e)?new Ba(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function su(t){return t[8]}function au(t){return t[8]||(t[8]=[])}function uu(t,e){let n;const i=e[t.index];if(dt(i))n=i;else{let r;if(8&t.type)r=kt(i);else{const n=e[11];r=n.createComment("");const i=Dt(t,e);qi(n,Wi(n,i),r,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=Xr(i,e,r,t),eo(e,n)}return new ou(n,t,e)}const cu={};class lu extends pa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new fu(e,this.ngModule)}}function hu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const du=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>xi});class fu extends da{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(mr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return hu(this.componentDef.inputs)}get outputs(){return hu(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const o=t.get(n,cu,r);return o!==cu||i===cu?o:e.get(n,i,r)}}}(t,i.injector):t,o=r.get(_a,It),s=r.get(Oa,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===j.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Fi(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:xi,clean:so,playerHandler:null,flags:0},d=Fr(0,null,null,1,0,null,null,null,null,null),f=Tr(null,d,h,l,null,null,o,a,s,r);let p,m;le(f);try{const t=function(t,e,n,i,r,o){const s=n[1];n[20]=t;const a=xr(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(po(a,u,!0),null!==t&&(xe(r,t,u),null!==a.classes&&ir(r,t,a.classes),null!==a.styles&&nr(r,t,a.styles)));const c=i.createRenderer(t,e),l=Tr(n,Lr(e),null,e.onPush?64:16,n[20],a,i,c,null,null);return s.firstCreatePass&&(He(Me(a,n),s,e.type),zr(s,a),Wr(a,n.length,1)),eo(n,l),n[20]=l}(c,this.componentDef,f,o,a);if(c)if(n)xe(a,c,["ng-version",Sa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&e.push(o,t[++i]):8===r&&n.push(o);else{if(!lr(r))break;r=o}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&xe(a,c,t),e&&e.length>0&&ir(a,c,e.join(" "))}if(m=Rt(d,ct),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}p=function(t,e,n,i,r){const o=n[1],s=function(t,e,n){const i=Wt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Gr(t,i,e,Ir(t,e,1,null),n));const r=Qe(e,t,i.directiveStart,i);Ti(r,e);const o=Dt(i,e);return o&&Ti(o,e),r}(o,n,e);if(i.components.push(s),t[8]=s,r&&r.forEach(t=>t(s,e)),e.contentQueries){const t=Wt();e.contentQueries(1,s,t.directiveStart)}const a=Wt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ve(a.index),Hr(n[1],a,0,a.directiveStart,a.directiveEnd,e),qr(e,s)),s}(t,this.componentDef,f,h,[Ro]),kr(d,f,null)}finally{me()}return new pu(this.componentType,p,ga(m,f),f,m)}}class pu extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new Ha(i),this.componentType=t}get injector(){return new Ze(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const mu=new Map;class gu extends tu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new lu(this);const n=ut(t),i=t[Y]||null;i&&ia(i),this._bootstrapComponents=ki(n.bootstrap),this._r3Injector=Oo(t,e,[{provide:tu,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Do.THROW_IF_NOT_FOUND,n=k.Default){return t===Do||t===tu||t===mo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class vu extends eu{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const i=ut(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(r,mu.get(r),n),mu.set(r,n));const o=ki(i.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new gu(this.moduleType,t)}}function bu(t,e,n,i){return wu(qt(),Zt(),t,e,n,i)}function yu(t,e,n,i,r,o){return Cu(qt(),Zt(),t,e,n,i,r,o)}function _u(t,e){const n=t[e];return n===gr?void 0:n}function wu(t,e,n,i,r,o){const s=e+n;return zo(t,s,r)?qo(t,s+1,o?i.call(o,r):i(r)):_u(t,s+1)}function Cu(t,e,n,i,r,o,s,a){const u=e+n;return function(t,e,n,i,r){const o=Ko(t,e,n,i);return zo(t,e+2,r)||o}(t,u,r,o,s)?qo(t,u+3,a?i.call(a,r,o,s):i(r,o,s)):_u(t,u+3)}function Ou(t,e){const n=zt();let i;const r=t+ct;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const o=i.factory||(i.factory=vt(i.type)),s=D(Qo);try{const t=Le(!1),e=o();return Le(t),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(n,qt(),r,e),e}finally{D(s)}}function Eu(t,e,n){const i=t+ct,r=qt(),o=Pt(r,i);return Iu(r,xu(r,i)?wu(r,Zt(),e,o.transform,n,o):o.transform(n))}function Su(t,e,n,i){const r=t+ct,o=qt(),s=Pt(o,r);return Iu(o,xu(o,r)?function(t,e,n,i,r,o,s){const a=e+n;return Ko(t,a,r,o)?qo(t,a+2,s?i.call(s,r,o):i(r,o)):_u(t,a+2)}(o,Zt(),e,s.transform,n,i,s):s.transform(n,i))}function Tu(t,e,n,i,r){const o=t+ct,s=qt(),a=Pt(s,o);return Iu(s,xu(s,o)?Cu(s,Zt(),e,a.transform,n,i,r,a):a.transform(n,i,r))}function xu(t,e){return t[1].data[e].pure}function Iu(t,e){return Uo.isWrapped(e)&&(e=Uo.unwrap(e),t[te()]=gr),e}function ku(t){return e=>{setTimeout(t,void 0,e)}}const Au=class extends i.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var i,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(i=e.next)||void 0===i?void 0:i.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=ku(u),a&&(a=ku(a)),c&&(c=ku(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof r.a&&t.add(l),l}};function Du(){return this._results[Vo()]()}class Ru{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Vo(),n=Ru.prototype;n[e]||(n[e]=Du)}get changes(){return this._changes||(this._changes=new Au)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const i=cn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(n._results,i,e))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Pu{constructor(t){this.queryList=t,this.matches=null}clone(){return new Pu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new Nu(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Yu(t,e).matches&&this.queries[e].setDirty()}}class ju{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Lu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new Lu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Fu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Fu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,Mu(e,r)),this.matchTNodeWithReadOption(t,e,$e(e,t,r,!1,!1))}else n===Qa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,$e(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===ba||i===iu||i===Qa&&4&e.type)this.addMatch(e.index,-2);else{const n=$e(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Mu(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Vu(t,e,n,i){return-1===n?function(t,e){return 11&t.type?ga(t,e):4&t.type?Za(t,e):null}(e,t):-2===n?function(t,e,n){return n===ba?ga(e,t):n===Qa?Za(e,t):n===iu?uu(e,t):void 0}(t,e,i):Qe(t,t[1],n,e)}function Uu(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const r=o[t];s.push(r<0?null:Vu(e,i[r],o[t+1],n.metadata.read))}r.matches=s}return r.matches}function Bu(t,e,n,i){const r=t.queries.getByIndex(n),o=r.matches;if(null!==o){const s=Uu(t,e,r,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)i.push(s[t/2]);else{const r=o[t+1],s=e[-n];for(let t=lt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Bu(e[1],e,r,i)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Bu(n[1],n,r,i)}}}}}return i}function Hu(t){const e=qt(),n=zt(),i=se();ae(i+1);const r=Yu(n,i);if(t.dirty&&Lt(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const o=r.crossesNgTemplate?Bu(n,e,i,[]):Uu(n,e,r,i);t.reset(o,ya),t.notifyOnChanges()}return!0}return!1}function qu(t,e,n){const i=zt();i.firstCreatePass&&(Gu(i,new ju(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),Wu(i,qt(),e)}function zu(t,e,n,i){const r=zt();if(r.firstCreatePass){const o=Wt();Gu(r,new ju(e,n,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}Wu(r,qt(),n)}function Ku(){return t=qt(),e=se(),t[19].queries[e].queryList;var t,e}function Wu(t,e,n){const i=new Ru(4==(4&n));Mr(t,e,i,i.destroy),null===e[19]&&(e[19]=new Nu),e[19].queries.push(new Pu(i))}function Gu(t,e,n){null===t.queries&&(t.queries=new Lu),t.queries.track(new Fu(e,n))}function Yu(t,e){return t.queries.getByIndex(e)}function $u(t=k.Default){const e=Ka(!0);if(null!=e||t&k.Optional)return e;y("ChangeDetectorRef")}const Qu=new sn("Application Initializer");let Xu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ma,this.reject=ma,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ss(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(En(Qu,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Ju=new sn("AppId"),Zu={provide:Ju,useFactory:function(){return`${tc()}${tc()}${tc()}`},deps:[]};function tc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ec=new sn("Platform Initializer"),nc=new sn("Platform ID"),ic=new sn("appBootstrapListener");let rc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const oc=new sn("LocaleId"),sc=new sn("DefaultCurrencyCode");class ac{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const uc=function(t){return new vu(t)},cc=uc,lc=function(t){return Promise.resolve(uc(t))},hc=function(t){const e=uc(t),n=ki(ut(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new fu(n)),t},[]);return new ac(e,n)},dc=hc,fc=function(t){return Promise.resolve(hc(t))};let pc=(()=>{class t{constructor(){this.compileModuleSync=cc,this.compileModuleAsync=lc,this.compileModuleAndAllComponentsSync=dc,this.compileModuleAndAllComponentsAsync=fc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const mc=(()=>Promise.resolve(0))();function gc(t){"undefined"==typeof Zone?mc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class vc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Au(!1),this.onMicrotaskEmpty=new Au(!1),this.onStable=new Au(!1),this.onError=new Au(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&e,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=U.requestAnimationFrame,e=U.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(U,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,_c(t),yc(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),_c(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{try{return wc(t),n.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Cc(t)}},onInvoke:(n,i,r,o,s,a,u)=>{try{return wc(t),n.invoke(r,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Cc(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,_c(t),yc(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(vc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,bc,ma,ma);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const bc={};function yc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _c(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function wc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cc(t){t._nesting--,yc(t)}class Oc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Au,this.onMicrotaskEmpty=new Au,this.onStable=new Au,this.onError=new Au}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let Ec=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vc.assertNotInAngularZone(),gc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(En(vc))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),Sc=(()=>{class t{constructor(){this._applications=new Map,kc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return kc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Tc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function xc(t){kc=t}let Ic,kc=new Tc,Ac=!0,Dc=!1;function Rc(){return Dc=!0,Ac}function Pc(){if(Dc)throw new Error("Cannot enable prod mode after platform setup.");Ac=!1}const Nc=new sn("AllowMultipleToken");class jc{constructor(t,e){this.name=t,this.token=e}}function Lc(t,e,n=[]){const i=`Platform: ${e}`,r=new sn(i);return(e=[])=>{let o=Fc();if(!o||o.injector.get(Nc,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:vo,useValue:"platform"});!function(t){if(Ic&&!Ic.destroyed&&!Ic.injector.get(Nc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ic=t.get(Mc);const e=t.get(ec,null);e&&e.forEach(t=>t())}(Do.create({providers:t,name:i}))}return function(t){const e=Fc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Fc(){return Ic&&!Ic.destroyed?Ic:null}let Mc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Oc:("zone.js"===t?void 0:t)||new vc({enableLongStackTrace:Rc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),i=[{provide:vc,useValue:n}];return n.run(()=>{const e=Do.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),o=r.injector.get(Si,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});r.onDestroy(()=>{Bc(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return ss(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(o,n,()=>{const t=r.injector.get(Xu);return t.runInitializers(),t.donePromise.then(()=>(ia(r.injector.get(oc,ea)||ea),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=Vc({},e);return function(t,e,n){const i=new vu(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Uc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(En(Do))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Vc(t,e){return Array.isArray(e)?e.reduce(Vc,t):Object.assign(Object.assign({},t),e)}let Uc=(()=>{class t{constructor(t,e,n,i,r){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{vc.assertNotInAngularZone(),gc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{vc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof da?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(tu),r=n.create(Do.NULL,[],e||n.selector,i),o=r.location.nativeElement,s=r.injector.get(Ec,null),a=s&&r.injector.get(Sc);return s&&a&&a.registerApplication(o,s),r.onDestroy(()=>{this.detachView(r.hostView),Bc(this.components,r),a&&a.unregisterApplication(o)}),this._loadComponent(r),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Bc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ic,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(En(vc),En(Do),En(Si),En(pa),En(Xu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Bc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Hc{}class qc{}const zc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Kc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||zc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>Wc(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>Wc(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(En(pc),En(qc,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Wc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Gc=function(t){return null},Yc=Lc(null,"core",[{provide:nc,useValue:"unknown"},{provide:Mc,deps:[Do]},{provide:Sc,deps:[]},{provide:rc,deps:[]}]),$c=[{provide:Uc,useClass:Uc,deps:[vc,Do,Si,pa,Xu]},{provide:du,deps:[vc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Xu,useClass:Xu,deps:[[new kn,Qu]]},{provide:pc,useClass:pc,deps:[]},Zu,{provide:Fa,useFactory:function(){return Ga},deps:[]},{provide:Va,useFactory:function(){return Ya},deps:[]},{provide:oc,useFactory:function(t){return ia(t=t||"undefined"!=typeof $localize&&$localize.locale||ea),t},deps:[[new In(oc),new kn,new An]]},{provide:sc,useValue:"USD"}];let Qc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(En(Uc))},t.\u0275mod=nt({type:t}),t.\u0275inj=w({providers:$c}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("2fFW"),r=n("NJ4a");const o={closed:!0,next(t){},error(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("HDdC"),r=n("quSY");function o(t,e){return new i.a(n=>{const i=new r.a;let o=0;return i.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends i.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{u(i.next(t))}catch(e){o(e)}}function a(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((i=i.apply(t,e||[])).next())})}function a(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function l(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t}},n6bG:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",function(){return i})},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function i(t,e,i){var r,o=new Promise(function(o,s){n(r=t[e].apply(t,i)).then(o,s)});return o.request=r,o}function r(t,e,n){var r=i(t,e,n);return r.then(function(t){if(t)return new l(t,r.request)})}function o(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function s(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function a(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function u(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),s(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,i=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,i),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),i=n[n.length-1],r=this._store||this._index,o=r[t].apply(r,n.slice(0,-1));o.onsuccess=function(){i(o.result)}})})}),[c,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,i=[];return new Promise(function(r){n.iterateCursor(t,function(t){t?(i.push(t.value),void 0===e||i.length!=e?t.continue():r(i)):r(i)})})})}),t.openDb=function(t,e,n){var r=i(indexedDB,"open",[t,e]),o=r.request;return o&&(o.onupgradeneeded=function(t){n&&n(new f(o.result,t.oldVersion,o.transaction))}),r.then(function(t){return new p(t)})},t.deleteDb=function(t){return i(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var i=n("7o/Q"),r=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends i.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(r.a.createNext(t))}_error(t){this.scheduleMessage(r.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(r.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}var r;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((r={})[s.DEBUG]="log",r[s.VERBOSE]="log",r[s.INFO]="info",r[s.WARN]="warn",r[s.ERROR]="error",r),l=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,i(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.DEBUG],t)),this._logHandler.apply(this,i([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.VERBOSE],t)),this._logHandler.apply(this,i([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.INFO],t)),this._logHandler.apply(this,i([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.WARN],t)),this._logHandler.apply(this,i([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.ERROR],t)),this._logHandler.apply(this,i([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a=r.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=o;i<r.length;i++)n(r[i])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return d}),n.d(e,"b",function(){return x}),n.d(e,"c",function(){return T}),n.d(e,"d",function(){return U}),n.d(e,"e",function(){return S}),n.d(e,"f",function(){return r}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return u}),n.d(e,"j",function(){return Q}),n.d(e,"k",function(){return j}),n.d(e,"l",function(){return B}),n.d(e,"m",function(){return l}),n.d(e,"n",function(){return h}),n.d(e,"o",function(){return K}),n.d(e,"p",function(){return X}),n.d(e,"q",function(){return f}),n.d(e,"r",function(){return N}),n.d(e,"s",function(){return g}),n.d(e,"t",function(){return v}),n.d(e,"u",function(){return y}),n.d(e,"v",function(){return F}),n.d(e,"w",function(){return _}),n.d(e,"x",function(){return O}),n.d(e,"y",function(){return p}),n.d(e,"z",function(){return m}),n.d(e,"A",function(){return C}),n.d(e,"B",function(){return b}),n.d(e,"C",function(){return w}),n.d(e,"D",function(){return P}),n.d(e,"E",function(){return A}),n.d(e,"F",function(){return M}),n.d(e,"G",function(){return V}),n.d(e,"H",function(){return L}),n.d(e,"I",function(){return $}),n.d(e,"J",function(){return Y}),n.d(e,"K",function(){return D}),n.d(e,"L",function(){return z}),n.d(e,"M",function(){return W}),n.d(e,"N",function(){return G}),n.d(e,"O",function(){return E});var i=n("mrSG"),r=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],s=r+1<t.length,a=s?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),i.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var s=((7&r)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0,a=++r<t.length?n[t.charAt(r)]:64,u=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==s||null==a||null==u)throw Error();i.push(o<<2|s>>4),64!==a&&(i.push(s<<4&240|a>>2),64!==u&&i.push(a<<6&192|u))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=s(t);return a.encodeByteArray(e,!0)},c=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function m(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function g(){return"object"==typeof self&&self.self===self}function v(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return f().indexOf("Electron/")>=0}function _(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return f().indexOf("MSAppHost/")>=0}function C(){return!1}function O(){return"indexedDB"in self&&null!=indexedDB}function E(){return new Promise(function(t,e){try{var n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=function(){r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=function(){n=!1},r.onerror=function(){var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function S(){return!(!navigator||!navigator.cookieEnabled)}var T=function(t){function e(n,i,r){var o=t.call(this,i)||this;return o.code=n,o.customData=r,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,x.prototype.create),o}return Object(i.c)(e,t),e}(Error),x=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],s=o?I(o,i):"Error",a=this.serviceName+": "+s+" ("+r+").",u=new T(r,a,i);return u},t}();function I(t,e){return t.replace(k,function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"})}var k=/\{\$([^}]+)}/g;function A(t){return JSON.parse(t)}function D(t){return JSON.stringify(t)}var R=function(t){var e={},n={},i={},r="";try{var o=t.split(".");e=A(c(o[0])||""),n=A(c(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:i,signature:r}},P=function(t){var e=R(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},N=function(t){var e=R(t).claims;return"object"==typeof e&&!0===e.admin};function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function F(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function M(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function V(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var o=r[i];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var U=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=c^a&(u^c),o=1518500249):(r=a^u^c,o=1859775393):i<60?(r=a&u|c&(a|u),o=2400959708):(r=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+r+l+o+n[i]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<e;){if(0===o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}();function B(t,e){var n=new H(t,e);return n.subscribe.bind(n)}var H=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=q),void 0===i.error&&(i.error=q),void 0===i.complete&&(i.complete=q);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}}),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function q(){}var z=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")};function K(t,e){return t+" failed: "+e+" argument "}function W(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(K(t,e)+"must be a valid function.")}function G(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(K(t,e)+"must be a valid context object.")}var Y=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var s=o-55296;i++,r(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},$=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};function Q(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var i=e*Math.pow(n,t),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)}function X(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var i=n("3N8a");class r extends i.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(r),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("DH7j"),r=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(i.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(r.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return v}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return C});var i=n("qgXg"),r=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=i.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule(function(e){i.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,r.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,i={})=>new Proxy(t,{get:(r,o)=>n.runOutsideAngular(()=>{var r;if(t[o])return(null===(r=null==i?void 0:i.spy)||void 0===r?void 0:r.get)&&i.spy.get(o,t[o]),t[o];if(m.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const r=t&&t(...n);return(null===(e=null==i?void 0:i.spy)||void 0===e?void 0:e.apply)&&i.spy.apply(o,n,r),r})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.r("angularfire2.app.options"),y=new u.r("angularfire2.app.nameOrConfig"),_=new u.Q("6.1.4");function w(e,n,i){const r="object"==typeof i&&i||{};r.name=r.name||"string"==typeof i&&i||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===r.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,r));try{JSON.stringify(e)!==JSON.stringify(o.options)&&O("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const C=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.X)()&&"undefined"!=typeof console&&console[t](...e)};function E(e,n,i,r,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${i.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=r();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:w,deps:[b,u.A,[new u.B,y]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:y,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Yb(u.C))},t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({providers:[S]}),t})()}).call(this,n("3UD+")(t))},t6oF:function(t,e,n){"use strict";var i=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,i){if(i){var r=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in r||(r[s]={}),r=r[s]}(i=i(o=r[t=t[t.length-1]]))!=o&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function i(){this.a=null}function r(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;i.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;i.prototype.c=function(t){s(t,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(i){this.f(i)}}}this.a=null},i.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new i;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(i){n.reject(i)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(n){o(n)}}:e}var r,o,s=new e(function(t,e){r=t,o=e});return this.Qa(i(t,r),i(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=o(t),s=i.next();!s.done;s=i.next())r(s.value).Qa(e,n)})},e.all=function(t){var n=o(t),i=n.next();return i.done?r([]):new e(function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Qa(o(s.length-1),e),i=n.next()}while(!i.done)})},e});var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==d(t)}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++b)}var v="closure_uid_"+(1e9*Math.random()>>>0),b=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:_).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var O=Date.now;function E(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){return t}function T(t,e,n){this.code=k+t,this.message=e||A[t]||"",this.a=n||null}function x(t){var e=t&&t.code;return e?new T(e.substring(k.length),t.message,t.serverResponse):null}E(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var I,k="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(t){for(var e in D)if(D[e].id===t)return{firebaseEndpoint:(t=D[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function N(t){if(Error.captureStackTrace)Error.captureStackTrace(this,N);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function j(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");N.call(this,n+t[i])}function L(t,e){throw new j("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}I=R("__EID__")?"__EID__":void 0,E(N,Error),N.prototype.name="CustomError",E(j,N),j.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new F(function(){return new H},function(t){t.reset()});function B(){var t=be,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function H(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},H.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},H.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],r=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(i[r++]=a)}return i},W=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function Y(t,e){return 0<=q(t,e)}function $(t,e){var n;return(n=0<=(e=q(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,function(n,i){e.call(void 0,n,i,t)&&Array.prototype.splice.call(t,i,1)})}function X(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,it=/>/g,rt=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){Z=ht;break t}}Z=""}function dt(t){return ut(Z,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function mt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||a).Element&&i.Location){var r=i;break t}}catch(s){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(m(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===Ot&&e||"",this.b=Ct}function _t(t){return t instanceof yt&&t.constructor===yt&&t.b===Ct?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,Ct={},Ot={};function Et(){if(void 0===wt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){a.console&&a.console.error(n.message)}wt=t}else wt=t}return wt}function St(t,e){this.a=e===At?t:""}function Tt(t){return t instanceof St&&t.constructor===St?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function xt(t,e){var n=_t(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Et();return new St(t=e?e.createScriptURL(t):t,At)}(t=n.replace(It,function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof yt?_t(t):encodeURIComponent(String(t))}))}St.prototype.sa=!0,St.prototype.ra=function(){return this.a.toString()},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var It=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={};function Dt(t,e){this.a=e===Mt?t:""}function Rt(t){return t instanceof Dt&&t.constructor===Dt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Dt.prototype.sa=!0,Dt.prototype.ra=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Nt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,jt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Dt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),jt.test(t))t=new Dt(t,Mt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Nt);t=e&&Pt.test(e[1])?new Dt(t,Mt):null}return t}function Ft(t){return t instanceof Dt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),jt.test(t)||(t="about:invalid#zClosurez"),new Dt(t,Mt))}var Mt={},Vt=new Dt("about:invalid#zClosurez",Mt);function Ut(t,e,n){this.a=n===Bt?t:""}Ut.prototype.sa=!0,Ut.prototype.ra=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Bt={};function Ht(t,e,n,i){return t=t instanceof Dt?t:Ft(t),e=e||a,n=n instanceof yt?_t(n):n||"",e.open(Rt(t),n,i,void 0)}function qt(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function zt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=h;var Wt,Gt,Yt=dt("Opera"),$t=dt("Trident")||dt("MSIE"),Qt=dt("Edge"),Xt=Qt||$t,Jt=dt("Gecko")&&!(ut(Z.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=ut(Z.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Gt=Z,Jt?/rv:([^\);]+)(\)|;)/.exec(Gt):Qt?/Edge\/([\d\.]+)/.exec(Gt):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):Zt?/WebKit\/(\S+)/.exec(Gt):Yt?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(ne&&(ee=ne?ne[1]:""),$t){var ie=te();if(null!=ie&&ie>parseFloat(ee)){Wt=String(ie);break t}}Wt=ee}var re={};function oe(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(Wt)).split("."),i=tt(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ct(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ct(0==s[2].length,0==a[2].length)||ct(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var se=a.document&&$t&&(te()||parseInt(Wt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var ae=!$t||9<=Number(se);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){ft(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function i(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];if(!f(o)||m(o)&&0<o.nodeType)i(o);else{t:{if(o&&"number"==typeof o.length){if(m(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}z(s?J(o):o,i)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){a.setTimeout(function(){throw t},0)}function ge(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(ye)}}else he=function(){var t=ye;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!dt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){i.next={Gb:t},i=i.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),ve||(he(),ve=!0),be.add(t,e)}var ve=!1,be=new V;function ye(){for(var t;t=B();){try{t.a.call(t.b)}catch(e){me(e)}M(U,t)}ve=!1}function _e(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){Ne(n,Ce,t)},function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ne(n,Oe,t)})}catch(i){Ne(this,Oe,i)}}var we=0,Ce=2,Oe=3;function Ee(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ee.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new F(function(){return new Ee},function(t){t.reset()});function Te(t,e,n){var i=Se.get();return i.g=t,i.b=e,i.f=n,i}function xe(t){if(t instanceof _e)return t;var e=new _e(h);return Ne(e,Ce,t),e}function Ie(t){return new _e(function(e,n){n(t)})}function ke(t,e,n){je(t,e,n,null)||ge(C(e,t))}function Ae(t){return new _e(function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,o){n--,i[t]=r?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(i)},o=0;o<t.length;o++)ke(t[o],C(r,o,!0),C(r,o,!1));else e(i)})}function De(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var i=0,r=null,o=null,s=n.b;s&&(s.c||(i++,s.a==t&&(r=s),!(r&&1<i)));s=s.next)r||(o=s);r&&(n.a==we&&1==i?De(n,e):(o?((i=o).next==n.f&&(n.f=i),i.next=i.next.next):Fe(n),Me(n,r,Oe,e)))}t.c=null}else Ne(t,Oe,e)}function Re(t,e){t.b||t.a!=Ce&&t.a!=Oe||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,i){var r=Te(null,null,null);return r.a=new _e(function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(s){o(s)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof Be?o(e):t(r)}catch(s){o(s)}}:o}),r.a.c=t,Re(t,r),r.a}function Ne(t,e,n){t.a==we&&(t===n&&(e=Oe,n=new TypeError("Promise cannot resolve to itself")),t.a=1,je(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Oe||n instanceof Be||function(t,e){t.g=!0,ge(function(){t.g&&Ue.call(null,e)})}(t,n)))}function je(t,e,n,i){if(t instanceof _e)return Re(t,Te(e||h,n||null,i)),!0;if(P(t))return t.then(e,n,i),!0;if(m(t))try{var r=t.then;if(p(r))return function(t,e,n,i,r){function o(t){s||(s=!0,i.call(r,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(r,t))},o)}catch(a){o(a)}}(t,r,e,n,i),!0}catch(o){return n.call(i,o),!0}return!1}function Le(t){t.h||(t.h=!0,ge(t.gc,t))}function Fe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Me(t,e,n,i){if(n==Oe&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,i);else try{e.c?e.g.call(e.f):Ve(e,n,i)}catch(r){Ue.call(null,r)}M(Se,e)}function Ve(t,e,n){e==Ce?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return Pe(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).oa=function(t,e){return(t=Te(t,t,e)).c=!0,Re(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Be(t);ge(function(){De(this,e)},this)}},t.$c=function(t){this.a=we,Ne(this,Ce,t)},t.ad=function(t){this.a=we,Ne(this,Oe,t)},t.gc=function(){for(var t;t=Fe(this);)Me(this,t,this.a,this.i);this.h=!1};var Ue=me;function Be(t){N.call(this,t)}function He(){0!=qe&&(ze[g(this)]=this),this.xa=this.xa,this.pa=this.pa}E(Be,N),Be.prototype.name="cancel";var qe=0,ze={};function Ke(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=qe)){var e=g(t);if(0!=qe&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}He.prototype.xa=!1,He.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var We=Object.freeze||function(t){return t},Ge=!$t||9<=Number(se),Ye=$t&&!oe("9"),$e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Kt(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},E(Xe,Qe);var Je=We({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ye)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Xe.prototype.g=function(){return this.a};var Ze="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Va=r,this.key=++tn,this.va=this.Pa=!1}function nn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&$(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==i)return r}return-1}rn.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=sn(t,e,i,r);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new en(e,this.src,o,!!i,r)).Pa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),un={};function cn(t,e,n,i,r){if(i&&i.once)hn(t,e,n,i,r);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,i,r);else n=_n(n),t&&t[Ze]?Cn(t,e,n,m(i)?!!i.capture:!!i,r):ln(t,e,n,!1,i,r)}function ln(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=m(r)?!!r.capture:!!r,a=bn(t);if(a||(t[an]=a=new rn(t)),!(n=a.add(e,n,i,s,o)).proxy)if(i=function(){var t=vn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)$e||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(pn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function hn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,i,r);else n=_n(n),t&&t[Ze]?On(t,e,n,m(i)?!!i.capture:!!i,r):ln(t,e,n,!0,i,r)}function dn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,i,r);else i=m(i)?!!i.capture:!!i,n=_n(n),t&&t[Ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=sn(o=t.a[e],n,i,r))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=bn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,i,r)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Ze])on(e.v,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(pn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=bn(e))?(on(n,t),0==n.b&&(n.src=null,e[an]=null)):nn(t)}}}function pn(t){return t in un?un[t]:un[t]="on"+t}function mn(t,e,n,i){var r=!0;if((t=bn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=gn(o,i),r=r&&!1!==o)}return r}function gn(t,e){var n=t.listener,i=t.Va||t.src;return t.Pa&&fn(t),n.call(i,e)}function vn(t,e){if(t.va)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=a,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new Xe(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(s){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=mn(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=mn(i[r],t,!1,e),n=n&&o}return n}return gn(t,new Xe(e,this))}function bn(t){return(t=t[an])instanceof rn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(t){return p(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function wn(){He.call(this),this.v=new rn(this),this.ac=this,this.gb=null}function Cn(t,e,n,i,r){t.v.add(String(e),n,!1,i,r)}function On(t,e,n,i,r){t.v.add(String(e),n,!0,i,r)}function En(t,e,n,i){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&on(t.v,s),r=!1!==a.call(u,i)&&r}}return r&&!i.defaultPrevented}function Sn(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Tn(t){var e=null;return new _e(function(n,i){-1==(e=Sn(function(){n(void 0)},t))&&i(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function xn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function In(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof kn)for(n=t.Y(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Dn(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Dn(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(wn,He),wn.prototype[Ze]=!0,wn.prototype.addEventListener=function(t,e,n,i){cn(this,t,e,n,i)},wn.prototype.removeEventListener=function(t,e,n,i){dn(this,t,e,n,i)},wn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var i=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var r=t;vt(t=new Qe(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];r=En(s,i,!0,t)&&r}if(r=En(s=t.b=n,i,!0,t)&&r,r=En(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=En(s=t.b=e[o],i,!1,t)&&r;return r},wn.prototype.Da=function(){if(wn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)nn(n[i]);delete e.a[t],e.b--}}this.gb=null},(t=kn.prototype).W=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},t.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,Nn(this,t.c),this.l=t.l,this.a=t.a,jn(this,t.g),this.f=t.f,Ln(this,ei(t.b)),this.h=t.h):t&&(n=String(t).match(Rn))?(this.i=!!e,Nn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),jn(this,n[4]),this.f=Bn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!e,this.b=new $n(null,this.i))}function Nn(t,e,n){t.c=n?Bn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function jn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),ti(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=Hn(e,Gn)),t.b=new $n(e,t.i))}function Fn(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function Vn(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Un(t,e,n,i){var r=new Pn(null,void 0);return t&&Nn(r,t),e&&(r.a=e),n&&jn(r,n),i&&(r.f=i),r}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Hn(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Hn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Hn(n,"/"==n.charAt(0)?Wn:Kn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Hn(n,Yn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.c;n?Nn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var i=t.f;if(n)jn(e,t.g);else if(n=!!t.f){if("/"!=i.charAt(0))if(this.a&&!this.f)i="/"+i;else{var r=e.f.lastIndexOf("/");-1!=r&&(i=e.f.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(ut(r,"./")||ut(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],s=0;s<r.length;){var a=r[s++];"."==a?i&&s==r.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&s==r.length&&o.push("")):(o.push(a),i=!0)}i=o.join("/")}else i=r}return n?e.f=i:n=""!==t.b.toString(),n?Ln(e,ei(t.b)):n=!!t.h,n&&(e.h=t.h),e};var zn=/[#\/\?@]/g,Kn=/[#\?:]/g,Wn=/[#\?]/g,Gn=/[#\?@]/g,Yn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Xn(t){var e=In(t);if(void 0===e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=xn(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];Array.isArray(o)?ti(n,r,o):n.add(r,o)}return n}function Jn(t,e){Qn(t),e=ni(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Zn(t,e){return Qn(t),e=ni(t,e),Dn(t.a.b,e)}function ti(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(ni(t,e),J(n)),t.b+=n.length)}function ei(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function ni(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ii(t){var e=[];return oi(new ri,t,e),e.join("")}function ri(){}function oi(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var i=e;e=i.length,n.push("[");for(var r="",o=0;o<e;o++)n.push(r),oi(t,i[o],n),r=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(i in n.push("{"),r="",e)Object.prototype.hasOwnProperty.call(e,i)&&"function"!=typeof(o=e[i])&&(n.push(r),ui(i,n),n.push(":"),oi(t,o,n),r=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ui(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=$n.prototype).add=function(t,e){Qn(this),this.c=null,t=ni(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach(function(n,i){z(n,function(n){t.call(e,n,i,this)},this)},this)},t.Y=function(){Qn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.W=function(t){Qn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=X(e,this.a.get(ni(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Zn(this,t=ni(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.W(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.c=t.join("&")};var si={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ai=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ui(t,e){e.push('"',t.replace(ai,function(t){var e=si[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),si[t]=e),e}),'"')}function ci(){var t=ki();return $t&&!!se&&11==se||/Edge\/\d+/.test(t)}function li(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hi(t,e){e=e||a.window;var n="about:blank";t&&(n=Rt(Lt(t)||Vt)),e.location.href=n}function di(t,e){var n,i=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?i.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<di(t[n],e[n]).length&&i.push(n):t[n]!==e[n]&&i.push(n):i.push(n);for(n in e)n in t||i.push(n);return i}function fi(t){return!!((t=(t||ki()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pi(t){t=t||a.window;try{t.close()}catch(e){}}function mi(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=ki().toLowerCase(),i&&(e.target=i,ut(n,"crios/")&&(e.target="_blank")),Ti(ki())==Ei&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof Dt?n:Lt(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,r=[],t)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(s+"="+(t[s]?1:0))}var s=r.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(bt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Dt?e:Ft(e),s.href=Rt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Ht("",i,n,s),t=Rt(e),s&&(Xt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+zt(t)+'">',t=new Ut(t=(i=Et())?i.createHTML(t):t,null,Bt),i=s.document)&&(i.write(function(t){return t instanceof Ut&&t.constructor===Ut?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),i.close())):(s=Ht(e,i,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var gi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vi=/^[^@]+@[^@]+$/;function bi(){var t=null;return new _e(function(e){"complete"==a.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw dn(window,"load",t),e})}function yi(t){return t=t||ki(),!("file:"!==Ni()&&"ionic:"!==Ni()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function _i(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wi(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Ci(){return i.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.a.INTERNAL.hasOwnProperty("node")?"Node":wi()?"Worker":"Browser"}function Oi(){var t=Ci();return"ReactNative"===t||"Node"===t}var Ei="Firefox",Si="Chrome";function Ti(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?Ei:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Si:"Safari"}var xi={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ii(t,e){e=e||[];var n,i=[],r={};for(n in xi)r[xi[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=Ci())?i=Ti(r=ki()):"Worker"===i&&(i=Ti(r=ki())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function ki(){return a.navigator&&a.navigator.userAgent||""}function Ai(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Di(){try{var t=a.localStorage,e=Vi();if(t)return t.setItem(e,"1"),t.removeItem(e),!ci()||!!a.indexedDB}catch(n){return wi()&&!!a.indexedDB}return!1}function Ri(){return(Pi()||"chrome-extension:"===Ni()||yi())&&!Oi()&&Di()&&!wi()}function Pi(){return"http:"===Ni()||"https:"===Ni()}function Ni(){return a.location&&a.location.protocol||null}function ji(t){return!fi(t=t||ki())&&Ti(t)!=Ei}function Li(t){return void 0===t?null:ii(t)}function Fi(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Mi(t){if(null!==t)return JSON.parse(t)}function Vi(t){return t||Math.floor(1e9*Math.random()).toString()}function Ui(t){return"Safari"!=Ti(t=t||ki())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Bi(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Hi(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=ki(),e=Ci(),this.b=fi(t)||"ReactNative"===e}function qi(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function zi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Ki(){return!(!Ai("fireauth.oauthhelper",a)&&!Ai("fireauth.iframe",a))}Hi.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Pi()&&"chrome-extension:"!==Ni()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Wi,Gi={};function Yi(t){Gi[t]||(Gi[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var $i={};Object.defineProperty($i,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($i,"abcd",{configurable:!0,enumerable:!0,value:2}),Wi=2==$i.abcd}catch(Gt){Wi=!1}function Qi(t,e,n){Wi?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qi(t,n,e[n])}function Ji(t){var e={};return Xi(e,t),e}function Zi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qi(e,n,Zi(t[n]));return e}function tr(t){var e=t&&(t[or]?"phone":null);if(!(e&&t&&t[rr]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Qi(this,"uid",t[rr]),Qi(this,"displayName",t[nr]||null);var n=null;t[ir]&&(n=new Date(t[ir]).toUTCString()),Qi(this,"enrollmentTime",n),Qi(this,"factorId",e)}function er(t){try{var e=new sr(t)}catch(n){e=null}return e}tr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var nr="displayName",ir="enrolledAt",rr="mfaEnrollmentId",or="phoneInfo";function sr(t){tr.call(this,t),Qi(this,"phoneNumber",t[or])}function ar(t){var e={},n=t[hr],i=t[fr],r=t[pr];if(t=er(t[dr]),!r||r!=cr&&r!=lr&&!n||r==lr&&!i||r==ur&&!t)throw Error("Invalid checkActionCode response!");r==lr?(e[gr]=n||null,e[br]=n||null,e[mr]=i):(e[gr]=i||null,e[br]=i||null,e[mr]=n||null),e[vr]=t||null,Qi(this,_r,r),Qi(this,yr,Zi(e))}E(sr,tr),sr.prototype.w=function(){var t=sr.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ur="REVERT_SECOND_FACTOR_ADDITION",cr="EMAIL_SIGNIN",lr="VERIFY_AND_CHANGE_EMAIL",hr="email",dr="mfaInfo",fr="newEmail",pr="requestType",mr="email",gr="fromEmail",vr="multiFactorInfo",br="previousEmail",yr="data",_r="operation";function wr(t){var e=Mn(t=Vn(t),Cr)||null,n=Mn(t,Or)||null,i=Mn(t,Tr)||null;if(i=i&&Ir[i]||null,!e||!n||!i)throw new T("argument-error",Cr+", "+Or+"and "+Tr+" are required in a valid action code URL.");Xi(this,{apiKey:e,operation:i,code:n,continueUrl:Mn(t,Er)||null,languageCode:Mn(t,Sr)||null,tenantId:Mn(t,xr)||null})}var Cr="apiKey",Or="oobCode",Er="continueUrl",Sr="languageCode",Tr="mode",xr="tenantId",Ir={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ur,signIn:cr,verifyAndChangeEmail:lr,verifyEmail:"VERIFY_EMAIL"};function kr(t){try{return new wr(t)}catch(e){return null}}function Ar(t){var e=t[jr];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Dr];if(n&&"object"==typeof n){e=n[Mr];var i=n[Lr];if(n=n[Fr],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new T("argument-error",Lr+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Fr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Mr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Dr+" property must be a non null object when specified.");if(this.f=null,(e=t[Nr])&&"object"==typeof e){if("string"==typeof(e=e[Vr])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Vr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Nr+" property must be a non null object when specified.");if(void 0!==(e=t[Pr])&&"boolean"!=typeof e)throw new T("argument-error",Pr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Rr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Rr+" property must be a non empty string when specified.");this.i=t||null}var Dr="android",Rr="dynamicLinkDomain",Pr="handleCodeInApp",Nr="iOS",jr="url",Lr="installApp",Fr="minimumVersion",Mr="packageName",Vr="bundleId";function Ur(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Br=null;function Hr(t){var e=zr(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function qr(t){try{return new Hr(t)}catch(e){return null}}function zr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var i=function(t){var e=[];return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=Br[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Br){Br={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var i=t.concat(e[n].split("")),r=0;r<i.length;r++){var o=i[r];void 0===Br[o]&&(Br[o]=r)}}}();for(var i=0;;){var r=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===r)break;e(r<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<i.length;){var r=i[e++];if(128>r)t[n++]=String.fromCharCode(r);else if(191<r&&224>r){var o=i[e++];t[n++]=String.fromCharCode((31&r)<<6|63&o)}else if(239<r&&365>r){o=i[e++];var s=i[e++],a=((7&r)<<18|(63&o)<<12|(63&s)<<6|63&i[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=i[e++],s=i[e++],t[n++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}Hr.prototype.T=function(){return this.f},Hr.prototype.l=function(){return this.c},Hr.prototype.toString=function(){return this.h};var Kr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wr=["client_id","response_type","scope","redirect_uri","state"],Gr={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Wr},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Wr},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Wr},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Kr},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Yr(t){for(var e in Gr)if(Gr[e].fa==t)return Gr[e];return null}function $r(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=io;var n=t&&t[Xr];try{if(n)return e[n]?new e[n](t):new Zr(t);if(void 0!==t[Qr])return new Jr(t)}catch(i){}return null}var Qr="idToken",Xr="providerId";function Jr(t){var e=t[Xr];if(!e&&t[Qr]){var n=qr(t[Qr]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qi(this,"providerId",e),Qi(this,"isNewUser",n)}function Zr(t){Jr.call(this,t),Qi(this,"profile",Zi((t=Mi(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qi(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(t){if(Zr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qi(this,"username",t.screenName||null)}function ro(t){var e=Vn(t),n=Mn(e,"link"),i=Mn(Vn(n),"link");return e=Mn(e,"deep_link_id"),Mn(Vn(e),"link")||e||i||n||t}function oo(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:ao}E(Zr,Jr),E(to,Zr),E(eo,Zr),E(no,Zr),E(io,Zr);var so="enroll",ao="signin";function uo(){}function co(t,e){return t.then(function(t){if(t[Qs]){var n=qr(t[Qs]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==k+"user-not-found"?new T("user-mismatch"):t})}function lo(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Qi(this,"providerId",t),Qi(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qi(this,"idToken",e.idToken),e.accessToken&&Qi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Qi(this,"accessToken",e.oauthToken),Qi(this,"secret",e.oauthTokenSecret)}Qi(this,"providerId",t),Qi(this,"signInMethod",n)}function mo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function vo(t,e){this.Qc=e||[],Xi(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Yr(t)||{}).Ja||null,this.ob=null}function bo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function yo(t){vo.call(this,t,Wr),this.a=[]}function _o(){yo.call(this,"facebook.com")}function wo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function Co(){yo.call(this,"github.com")}function Oo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new Co).credential({accessToken:e})}function Eo(){yo.call(this,"google.com"),this.Ca("profile")}function So(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new Eo).credential({idToken:n,accessToken:e})}function To(){vo.call(this,"twitter.com",Kr)}function xo(t,e){var n=t;if(m(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function Io(t,e,n){this.a=t,this.f=e,Qi(this,"providerId","password"),Qi(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new Io(t.email,t.password,t.signInMethod):null}function Ao(){Xi(this,{providerId:"password",isOAuthProvider:!1})}function Do(t,e){if(!(e=Ro(e)))throw new T("argument-error","Invalid email link!");return new Io(t,e.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function Ro(t){return(t=kr(t=ro(t)))&&t.operation===cr?t:null}function Po(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,Qi(this,"providerId","phone"),this.fa="phone",Qi(this,"signInMethod","phone")}function No(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Po(e)}return null}function jo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Lo(t){try{this.a=t||i.a.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xi(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Po({eb:t,cb:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new Po({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return So(o,n);case"facebook.com":return wo(n);case"github.com":return Oo(n);case"twitter.com":return xo(n,i);default:return n||i||o||s?s?0==e.indexOf("saml.")?new lo(e,s):new po(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(a){return null}}function Vo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Uo(t,e,n,i,r,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=s||null,this.a=r||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Bo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&x(t.error),t.postBody,t.tenantId):null}function Ho(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return xe(this.a?this.a:this.b)},oo.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},lo.prototype.ka=function(t){return va(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,ba(t,n)},lo.prototype.c=function(t,e){return co(ya(t,ho(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return va(t,mo(this))},po.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,ba(t,n)},po.prototype.c=function(t,e){return co(ya(t,mo(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ka=function(t){return this.Ib=mt(t),this},E(bo,vo),E(yo,vo),yo.prototype.Ca=function(t){return Y(this.a,t)||this.a.push(t),this},yo.prototype.Qb=function(){return J(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},E(_o,yo),Qi(_o,"PROVIDER_ID","facebook.com"),Qi(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(Co,yo),Qi(Co,"PROVIDER_ID","github.com"),Qi(Co,"GITHUB_SIGN_IN_METHOD","github.com"),E(Eo,yo),Qi(Eo,"PROVIDER_ID","google.com"),Qi(Eo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(To,vo),Qi(To,"PROVIDER_ID","twitter.com"),Qi(To,"TWITTER_SIGN_IN_METHOD","twitter.com"),Io.prototype.ka=function(t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?tu(t,xa,{email:this.a,oobCode:this.f}):tu(t,$a,{email:this.a,password:this.f})},Io.prototype.b=function(t,e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?tu(t,Ia,{idToken:e,email:this.a,oobCode:this.f}):tu(t,Ba,{idToken:e,email:this.a,password:this.f})},Io.prototype.c=function(t,e){return co(this.ka(t),e)},Io.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xi(Ao,{PROVIDER_ID:"password"}),Xi(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xi(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ka=function(t){return t.fb(jo(this))},Po.prototype.b=function(t,e){var n=jo(this);return n.idToken=e,tu(t,Xa,n)},Po.prototype.c=function(t,e){var n=jo(this);return n.operation="REAUTH",co(t=tu(t,Ja,n),e)},Po.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.fb=function(t,e){var n=this.a.a;return xe(e.verify()).then(function(i){if("string"!=typeof i)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var r=m(t)?t.session:null,o=m(t)?t.phoneNumber:t;return(r&&r.type==so?r.Ha().then(function(t){return function(t,e){return tu(t,qa,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:i}})}):r&&r.type==ao?r.Ha().then(function(e){return function(t,e){return tu(t,za,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}})}):function(t,e){return tu(t,Va,e)}(n,{phoneNumber:o,recaptchaToken:i})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Xi(Lo,{PROVIDER_ID:"phone"}),Xi(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var qo,zo=null;function Ko(t){var e="unauthorized-domain",n=void 0,i=Vn(t);t=i.a,"chrome-extension"==(i=i.c)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Wo(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&Qi(this,"email",t.Jb),t.ea&&Qi(this,"phoneNumber",t.ea),t.credential&&Qi(this,"credential",t.credential),t.Zb&&Qi(this,"tenantId",t.Zb)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:Mo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Wo(e,n,t.message)}return null}function Yo(){}function $o(){}function Qo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Xo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Sb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ts(t,e,n){this.reset(t,e,n,void 0,void 0)}function es(t){this.f=t,this.b=this.c=this.a=null}function ns(t,e){this.name=t,this.value=e}E(Ko,T),E(Wo,T),Wo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},Wo.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,E($o,Yo),$o.prototype.a=function(){var t=Qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},$o.prototype.b=function(){var t={};return Qo(this)&&(t[0]=!0,t[1]=!0),t},qo=new $o,E(Xo,Yo),Xo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(t=Jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null,ts.prototype.reset=function(t,e,n,i,r){i||O(),delete this.a},ns.prototype.toString=function(){return this.name};var is=new ns("SEVERE",1e3),rs=new ns("WARNING",900),os=new ns("CONFIG",700),ss=new ns("FINE",500);function as(t){return t.c?t.c:t.a?as(t.a):(L("Root logger has no level set."),null)}es.prototype.log=function(t,e,n){if(t.value>=as(this).value)for(p(e)&&(e=e()),t=new ts(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var us={},cs=null;function ls(t){var e;if(cs||(cs=new es(""),us[""]=cs,cs.c=os),!(e=us[t])){e=new es(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=ls(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,us[t]=e}return e}function hs(t,e){t&&t.log(ss,e,void 0)}function ds(t){this.f=t}function fs(t){wn.call(this),this.u=t,this.h=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ls("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(ds,Yo),ds.prototype.a=function(){return new fs(this.f)},ds.prototype.b=function(t){return function(){return t}}({}),E(fs,wn);var ps=0;function ms(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function gs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,vs(t)}function vs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bs(t){wn.call(this),this.headers=new kn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ys,this.u=this.S=!1}(t=fs.prototype).open=function(t,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,vs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,gs(this)),this.readyState=ps},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,vs(this)),this.a&&(this.readyState=3,vs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ms(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?gs(this):vs(this),3==this.readyState&&ms(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,gs(this))},t.sc=function(t){this.a&&(this.response=t,gs(this))},t.Ua=function(t){var e=this.i;e&&e.log(rs,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&gs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(rs,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(rs,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),E(bs,wn);var ys="";bs.prototype.b=ls("goog.net.XhrIo");var _s=/^https?$/i,ws=["POST","PUT"];function Cs(t){return"content-type"==t.toLowerCase()}function Os(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Es(t),Ts(t)}function Es(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ss(t){if(t.c&&void 0!==s)if(t.C[1]&&4==Is(t)&&2==ks(t))hs(t.b,As(t,"Local request error detected and ignored"));else if(t.i&&4==Is(t))Sn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Is(t)){hs(t.b,As(t,"Request complete")),t.c=!1;try{var e,n=ks(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.l).match(Rn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}r=!_s.test(o?o.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Is(t)?t.a.statusText:""}catch(l){hs(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+ks(t)+"]",Es(t)}}finally{Ts(t)}}}function Ts(t,e){if(t.a){xs(t);var n=t.a,i=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(t=t.b)&&t.log(is,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}}function xs(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Is(t){return t.a?t.a.readyState:0}function ks(t){try{return 2<Is(t)?t.a.status:-1}catch(e){return-1}}function As(t,e){return e+" ["+t.R+" "+t.l+" "+ks(t)+"]"}function Ds(t){var e=Hs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Rs(t,e,n){t.a=!0,t.c=n,t.f=!e,Ls(t)}function Ps(t){if(t.a){if(!t.v)throw new Fs(t);t.v=!1}}function Ns(t,e,n,i){t.g.push([e,n,i]),t.a&&Ls(t)}function js(t){return G(t.g,function(t){return p(t[1])})}function Ls(t){if(t.h&&t.a&&js(t)){var e=t.h,n=Us[e];n&&(a.clearTimeout(n.a),delete Us[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],s=r[1];if(r=r[2],o=t.f?s:o)try{var u=o.call(r||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(P(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(i=!0,t.i=!0)}catch(c){e=c,t.f=!0,js(t)||(n=!0)}}t.c=e,i&&(u=w(t.m,t,!0),i=w(t.m,t,!1),e instanceof Ds?(Ns(e,u,i),e.C=!0):e.then(u,i)),n&&(e=new Vs(e),Us[e.a]=e,t.h=e.a)}function Fs(){N.call(this)}function Ms(){N.call(this)}function Vs(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=bs.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",hs(this.b,As(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(hs(this.b,As(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ts(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ts(this,!0)),bs.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Ss(this):this.Jc())},t.Jc=function(){Ss(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ys:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(is,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return hs(this.b,"Can not get response: "+e.message),null}},Ds.prototype.cancel=function(t){if(this.a)this.c instanceof Ds&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ms(this),Ps(this),Rs(this,!1,t))}},Ds.prototype.m=function(t,e){this.i=!1,Rs(this,t,e)},Ds.prototype.then=function(t,e,n){var i,r,o=new _e(function(t,e){i=t,r=e});return Ns(this,i,function(t){t instanceof Ms?o.cancel():r(t)}),o.then(t,e,n)},Ds.prototype.$goog_Thenable=!0,E(Fs,N),Fs.prototype.message="Deferred has already fired",Fs.prototype.name="AlreadyCalledError",E(Ms,N),Ms.prototype.message="Deferred was canceled",Ms.prototype.name="CanceledError",Vs.prototype.c=function(){throw delete Us[this.a],this.b};var Us={};function Bs(t){var e={},n=e.document||document,i=Tt(t).toString(),r=pe(document,"SCRIPT"),o={Wb:r,Ma:void 0},s=new Ds(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){qs(r,!0);var t=new Ws(Ks,"Timeout reached for loading script "+i);Ps(s),Rs(s,!1,t)},h),o.Ma=u),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(qs(r,e.xd||!1,u),Ps(s),Rs(s,!0,null))},r.onerror=function(){qs(r,!0,u);var t=new Ws(zs,"Error while loading script "+i);Ps(s),Rs(s,!1,t)},vt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(r,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===c&&(c=l(a.document)),e=c),e&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),s}function Hs(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&qs(t,!0,this.Ma)}}function qs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var zs=0,Ks=1;function Ws(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),N.call(this,n),this.code=t}function Gs(t){this.f=t}function Ys(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Xs,this.g=mt(t.secureTokenHeaders||Js),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Zs,this.a=mt(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ci(),!(n=a.XMLHttpRequest||n&&i.a.INTERNAL.node&&i.a.INTERNAL.node.XMLHttpRequest)&&!wi())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=wi()?new ds(self):Oi()?new Gs(n):new Xo,this.b=null}E(Ws,N),E(Gs,Yo),Gs.prototype.a=function(){return new this.f},Gs.prototype.b=function(){return{}};var $s,Qs="idToken",Xs=new Hi(3e4,6e4),Js={"Content-Type":"application/x-www-form-urlencoded"},Zs=new Hi(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ia("https://securetoken.googleapis.com/v1/token",e),t.h=ia("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ia("https://identitytoolkit.googleapis.com/v2/",e))}function ia(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Nn(t,e.c),t.a=e.a,jn(t,e.g),t.toString()}function ra(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,i,r,o,s){(function(){var t=ki();return!((t=Ti(t)!=Si?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||$t&&se&&!(9<se))})()||wi()?t=w(t.u,t):($s||($s=new _e(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ns(t,null,e,void 0)}(Bs(xt(sa,{onload:aa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=w(t.s,t)),t(e,n,i,r,o,s)}Ys.prototype.T=function(){return this.b},Ys.prototype.u=function(t,e,n,i,r,o){if(wi()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new bs(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout(function(){s.dispatchEvent("timeout")},o)}Cn(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return hs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),On(s,"ready",function(){u&&clearTimeout(u),Ke(this)}),On(s,"timeout",function(){u&&clearTimeout(u),Ke(this),e&&e(null)}),function(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():qo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:qo),t.a.onreadystatechange=w(t.Vb,t);try{hs(t.b,As(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return hs(t.b,As(t,"Error opening Xhr: "+s.message)),void Os(t,s)}e=i||"";var o=new kn(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)z(t,e,void 0);else for(var n=In(t),i=xn(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=Cs,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),i=a.FormData&&e instanceof a.FormData,!Y(ws,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{xs(t),0<t.g&&(t.u=function(t){return $t&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),hs(t.b,As(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=Sn(t.Ma,t.g,t)),hs(t.b,As(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){hs(t.b,As(t,"Send error: "+s.message)),Os(t,s)}}(s,t,n,i,r)};var sa=new yt(Ot,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t){if("string"!=typeof(t=t.email)||!vi.test(t))throw new T("invalid-email")}function ca(t){"email"in t&&ua(t)}function la(t){if(!t[Qs]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,mt(t));throw new T("internal-error")}}function ha(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Ys.prototype.s=function(t,e,n,i,r){var o=this;$s.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ys.prototype.zb=function(){return tu(this,Ha,{})},Ys.prototype.Bb=function(t,e){return tu(this,Ua,{idToken:t,email:e})},Ys.prototype.Cb=function(t,e){return tu(this,Ba,{idToken:t,password:e})};var da={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fa(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function pa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ma(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Zn(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ga(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=eu(t.errorMessage)),e)throw e;la(t)}function va(t,e){return e.returnIdpCredential=!0,tu(t,Ka,e)}function ba(t,e){return e.returnIdpCredential=!0,tu(t,Ga,e)}function ya(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,tu(t,Wa,e)}function _a(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Ys.prototype).Db=function(t,e){var n={idToken:t},i=[];return ft(da,function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)}),i.length&&(n.deleteAttribute=i),tu(this,Ua,n)},t.vb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),tu(this,ja,t)},t.wb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),tu(this,Ra,t)},t.ub=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),tu(this,Pa,t)},t.Eb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),tu(this,Na,t)},t.fb=function(t){return tu(this,Qa,t)},t.nb=function(t,e){return tu(this,Ma,{oobCode:t,newPassword:e})},t.Ra=function(t){return tu(this,Ca,{oobCode:t})},t.jb=function(t){return tu(this,wa,{oobCode:t})};var wa={endpoint:"setAccountInfo",A:_a,Z:"email",B:!0},Ca={endpoint:"resetPassword",A:_a,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},Oa={endpoint:"signupNewUser",A:function(t){if(ua(t),!t.password)throw new T("weak-password")},G:la,V:!0,B:!0},Ea={endpoint:"createAuthUri",B:!0},Sa={endpoint:"deleteAccount",N:["idToken"]},Ta={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},xa={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ua,G:la,V:!0,B:!0},Ia={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ua,G:la,V:!0},ka={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:fa,G:la,B:!0,Na:!0},Aa={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:fa,G:la,B:!0,Na:!0},Da={endpoint:"getAccountInfo"},Ra={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ua(t)},Z:"email",B:!0},Pa={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Na={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},ja={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ua(t)},Z:"email",B:!0},La={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Fa={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Ma={endpoint:"resetPassword",A:_a,Z:"email",B:!0},Va={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ua={endpoint:"setAccountInfo",N:["idToken"],A:ca,V:!0},Ba={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ca(t),!t.password)throw new T("weak-password")},G:la,V:!0},Ha={endpoint:"signupNewUser",G:la,V:!0,B:!0},qa={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},za={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ka={endpoint:"verifyAssertion",A:pa,Ya:ma,G:ga,V:!0,B:!0},Wa={endpoint:"verifyAssertion",A:pa,Ya:ma,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw eu(t.errorMessage);la(t)},V:!0,B:!0},Ga={endpoint:"verifyAssertion",A:function(t){if(pa(t),!t.idToken)throw new T("internal-error")},Ya:ma,G:ga,V:!0},Ya={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:la,V:!0,B:!0},$a={endpoint:"verifyPassword",A:function(t){if(ua(t),!t.password)throw new T("wrong-password")},G:la,V:!0,B:!0},Qa={endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Xa={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");ha(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);la(t)}},Ja={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Za={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Qs]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function tu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.N))return Ie(new T("internal-error"));var i,r=!!e.Na,o=e.Ub||"POST";return xe(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,i,r,o,s){var a=Vn(e+n);Fn(a,"key",t.c),s&&Fn(a,"cb",O().toString());var u="GET"==i;if(u)for(var c in r)r.hasOwnProperty(c)&&Fn(a,c,r[c]);return new _e(function(e,n){oa(t,a.toString(),function(t){t?t.error?n(nu(t,o||{})):e(t):n(new T("network-request-failed"))},i,u?void 0:ii(Fi(r)),t.a,t.v.get())})}(t,r?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return i=t,e.Ya?e.Ya(n,i):i}).then(e.G).then(function(){if(!e.Z)return i;if(!(e.Z in i))throw new T("internal-error");return i[e.Z]})}function eu(t){return nu({error:{errors:[{message:t}],code:400,message:t}})}function nu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new T(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",vt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new T(i[r],e);return!e&&t&&(e=Li(t)),new T("internal-error",e)}function iu(t){this.b=t,this.a=null,this.rb=function(t){return(au||(au=new _e(function(t,e){function n(){Bi(),Ai("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Bi(),e(Error("Network Error"))},timeout:ou.get()})}if(Ai("gapi.iframes.Iframe"))t();else if(Ai("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[i]=function(){Ai("gapi.load")?n():e(Error("Network Error"))},xe(Bs(i=xt(ru,{onload:i}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw au=null,t}))).then(function(){return new _e(function(e,n){Ai("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ai("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(i){function r(){clearTimeout(o),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},su.get());i.ping(r).then(r,function(){n(Error("Network Error"))})})})})}(this)}var ru=new yt(Ot,"https://apis.google.com/js/api.js?onload=%{onload}"),ou=new Hi(3e4,6e4),su=new Hi(5e3,15e3),au=null;function uu(t,e,n,i){this.l=t,this.h=e,this.i=n,this.g=i,this.f=null,t=this.g?Un((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function cu(t,e,n,i,r,o){this.u=t,this.s=e,this.c=n,this.m=i,this.v=o,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function lu(t){try{return i.a.app(t).auth().Ga()}catch(e){return[]}}function hu(t,e,n,i,r,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=i||null,this.i=r||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function du(t){var e=li();return function(t){return tu(t,La,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Vn(e),i=n.c;n=n.a;for(var r=0;r<t.length;r++){var o=t[r],s=n,a=i;if(0==o.indexOf("chrome-extension://")?s=Vn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:gi.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ko(li())})}function fu(t){return t.m||(t.m=bi().then(function(){if(!t.u){var e=t.c,n=t.i,i=lu(t.b),r=new uu(t.s,t.g,t.b,t.f);r.f=e,r.b=n,r.c=J(i||[]),t.u=r.toString()}t.v=new iu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,Ai("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=Bo(e.authEvent),n=0;n<t.h.length;n++)i=t.h[n](e)||i;return(n={}).status=i?"ACK":"ERROR",xe(n)}return n.status="ERROR",xe(n)})}(t)})),t.m}function pu(t){return t.l||(t.C=t.c?Ii(t.c,lu(t.b)):null,t.l=new Ys(t.g,R(t.i),t.C),t.f&&na(t.l,t.f)),t.l}function mu(t,e,n,i,r,o,s,a,u,c,l,h){return(t=new cu(t,e,n,i,r,h)).l=o,t.g=s,t.i=a,t.b=mt(u||null),t.f=c,t.yb(l).toString()}function gu(t){if(this.a=t||i.a.INTERNAL.reactNative&&i.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vu(t){this.b=t,this.a={},this.f=w(this.c,this)}uu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},cu.prototype.yb=function(t){return this.h=t,this},cu.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=Un(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Fn(t,"apiKey",this.s),Fn(t,"appName",this.c),Fn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=i.a.app(this.c).auth().la()}catch(u){n=null}for(var r in e.ob=n,Fn(t,"providerId",this.a.providerId),e=Fi((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=mt(e);for(var o=0;o<r.length;o++){var s=r[o];s in e&&delete e[s]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),pt(e)||Fn(t,"customParameters",Li(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Fn(t,"scopes",n.join(",")),this.l?Fn(t,"redirectUrl",this.l):Jn(t.b,"redirectUrl"),this.g?Fn(t,"eventId",this.g):Jn(t.b,"eventId"),this.i?Fn(t,"v",this.i):Jn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Mn(t,a)&&Fn(t,a,this.b[a]);return this.h?Fn(t,"tid",this.h):Jn(t.b,"tid"),this.f?Fn(t,"eid",this.f):Jn(t.b,"eid"),(a=lu(this.c)).length&&Fn(t,"fw",a.join(",")),t.toString()},(t=hu.prototype).Ob=function(t,e,n){var i=new T("popup-closed-by-user"),r=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return fu(t).then(function(){return function(t,e){return t.rb.then(function(){return new _e(function(n){t.a.send(e.type,e,n,Ai("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&pi(t),e(r),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new _e(function(e){return function n(){Tn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return Tn(n).then(function(){e(i)})})},t.Xb=function(){var t=ki();return!ji(t)&&!Ui(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,i,r,o,s,a){if(!t)return Ie(new T("popup-blocked"));if(s&&!ji())return this.ma().o(function(e){pi(t),r(e)}),i(),xe();this.a||(this.a=du(pu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw pi(t),r(e),e});return i(),e}).then(function(){Vo(n),s||hi(mu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Nb=function(t,e,n,i){this.a||(this.a=du(pu(this)));var r=this;return this.a.then(function(){Vo(e),hi(mu(r.s,r.g,r.b,t,e,li(),n,r.c,void 0,r.i,i,r.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ma=function(){var t=this;return fu(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new T("network-request-failed")})},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){Q(this.h,function(e){return e==t})},(t=gu.prototype).get=function(t){return xe(this.a.getItem(t)).then(function(t){return t&&Mi(t)})},t.set=function(t,e){return xe(this.a.setItem(t,Li(e)))},t.U=function(t){return xe(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var bu,yu=[];function _u(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function wu(t){this.a=t}function Cu(t){this.c=t,this.b=!1,this.a=[]}function Ou(t,e,n,i){var r,o,s,a,u=n||{},c=null;if(t.b)return Ie(Error("connection_unavailable"));var l=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e(function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){i(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){i(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),i(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:r,data:u},[h.port2])):i(Error("connection_unavailable"))}).then(function(e){return Eu(t,c),e}).o(function(e){throw Eu(t,c),e})}function Eu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Q(t.a,function(t){return t==e})}}function Su(){if(!ku())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wi()&&self?(this.v=function(){var t=wi()?self:null;if(z(yu,function(n){n.b==t&&(e=n)}),!e){var e=new vu(t);yu.push(e)}return e}(),_u(this.v,"keyChanged",function(e,n){return Nu(t).then(function(e){return 0<e.length&&z(t.a,function(t){t(e)}),{keyProcessed:Y(e,n.key)}})}),_u(this.v,"ping",function(){return xe(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?xe().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):xe(null)}().then(function(e){(t.h=e)&&(t.g=new Cu(new wu(e)),Ou(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&Y(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Tu(t){return new _e(function(e,n){var i=t.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(i):function(t){return new _e(function(e,n){var i=t.m.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Tu(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function xu(t){return t.i||(t.i=Tu(t)),t.i}function Iu(t,e){var n=0;return new _e(function i(r,o){xu(t).then(e).then(r).o(function(e){if(!(3<++n))return xu(t).then(function(e){return e.close(),t.i=void 0,i(r,o)}).o(function(t){o(t)});o(e)})})}function ku(){try{return!!a.indexedDB}catch(Gt){return!1}}function Au(t){return t.objectStore("firebaseLocalStorage")}function Du(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ru(t){return new _e(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Pu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Ou(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):xe()}function Nu(t){return xu(t).then(function(t){var e=Au(Du(t,!1));return e.getAll?Ru(e.getAll()):new _e(function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=di(t.c,n),t.c=n}return i})}function ju(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Lu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=xe().then(function(){if(ku()){var t=Vi(),i="__sak"+t;return bu||(bu=new Su),(n=bu).set(i,t).then(function(){return n.get(i)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(i)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){z(e.a,function(e){e(t)})}),t})}function Fu(){this.a={},this.type="inMemory"}function Mu(){if(!function(){var t="Node"==Ci();if(!(t=Vu()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ci())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Vu()||i.a.INTERNAL.node.localStorage,this.type="localStorage"}function Vu(){try{var t=a.localStorage,e=Vi();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Uu(){this.type="nullStorage"}function Bu(){if(!function(){var t="Node"==Ci();if(!(t=Hu()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ci())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Hu()||i.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hu(){try{var t=a.sessionStorage,e=Vi();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function qu(){var t={};t.Browser=Wu,t.Node=Gu,t.ReactNative=Yu,t.Worker=$u,this.a=t[Ci()]}vu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];z(i,function(e){r.push(xe().then(function(){return e(t.origin,t.data.data)}))}),Ae(r).then(function(i){var r=[];z(i,function(t){r.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),z(r,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})})}},wu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Cu.prototype.close=function(){for(;0<this.a.length;)Eu(this,this.a[0]);this.b=!0},(t=Su.prototype).set=function(t,e){var n=this,i=!1;return Iu(this,function(e){return Ru((e=Au(Du(e,!0))).get(t))}).then(function(r){return Iu(n,function(o){if(o=Au(Du(o,!0)),r)return r.value=e,Ru(o.put(r));n.b++,i=!0;var s={};return s.fbase_key=t,s.value=e,Ru(o.add(s))})}).then(function(){return n.c[t]=e,Pu(n,t)}).oa(function(){i&&n.b--})},t.get=function(t){return Iu(this,function(e){return Ru(Au(Du(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return Iu(this,function(i){return n=!0,e.b++,Ru(Au(Du(i,!0)).delete(t))}).then(function(){return delete e.c[t],Pu(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){ju(t),function e(){t.f=setTimeout(function(){t.l=Nu(t).then(function(e){0<e.length&&z(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t}),0==this.a.length&&ju(this)},(t=Lu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t})},(t=Fu.prototype).get=function(t){return xe(this.a[t])},t.set=function(t,e){return this.a[t]=e,xe()},t.U=function(t){return delete this.a[t],xe()},t.ca=function(){},t.ia=function(){},(t=Mu.prototype).get=function(t){var e=this;return xe().then(function(){return Mi(e.a.getItem(t))})},t.set=function(t,e){var n=this;return xe().then(function(){var i=Li(e);null===i?n.U(t):n.a.setItem(t,i)})},t.U=function(t){var e=this;return xe().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&cn(a.window,"storage",t)},t.ia=function(t){a.window&&dn(a.window,"storage",t)},(t=Uu.prototype).get=function(){return xe(null)},t.set=function(){return xe()},t.U=function(){return xe()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return xe().then(function(){return Mi(e.a.getItem(t))})},t.set=function(t,e){var n=this;return xe().then(function(){var i=Li(e);null===i?n.U(t):n.a.setItem(t,i)})},t.U=function(t){var e=this;return xe().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var zu,Ku,Wu={F:Mu,bb:Bu},Gu={F:Mu,bb:Bu},Yu={F:gu,bb:Uu},$u={F:Mu,bb:Uu},Qu={rd:"local",NONE:"none",td:"session"};function Xu(){var t=!(Ui(ki())||!_i()),e=ji(),n=Di();this.m=t,this.h=e,this.l=n,this.a={},zu||(zu=new qu),t=zu;try{this.g=!ci()&&Ki()||!a.indexedDB?new t.a.F:new Lu(wi()?new Fu:new t.a.F)}catch(i){this.g=new Fu,this.h=!0}try{this.i=new t.a.bb}catch(i){this.i=new Fu}this.v=new Fu,this.f=w(this.Yb,this),this.b={}}function Ju(){return Ku||(Ku=new Xu),Ku}function Zu(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function tc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ec(t,e,n){return n=tc(e,n),"local"==e.F&&(t.b[n]=null),Zu(t,e.F).U(n)}function nc(t){t.c&&(clearInterval(t.c),t.c=null)}function ic(t){this.a=t,this.b=Ju()}(t=Xu.prototype).get=function(t,e){return Zu(this,t.F).get(tc(t,e))},t.set=function(t,e,n){var i=tc(t,n),r=this,o=Zu(this,t.F);return o.set(i,e).then(function(){return o.get(i)}).then(function(e){"local"==t.F&&(r.b[i]=e)})},t.addListener=function(t,e,n){t=tc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&(Zu(this,"local").ca(this.f),this.h||(ci()||!Ki())&&a.indexedDB||!this.l||function(t){nc(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Yb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=tc(t,e),this.a[t]&&(Q(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Zu(this,"local").ia(this.f),nc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=a.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Zu(this,"local").ia(this.f):nc(this),this.m)if(n=a.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?a.localStorage.setItem(e,i):a.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},$t&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,w(this.mb,this))},t.mb=function(t){this.a[t]&&z(this.a[t],function(t){t()})};var rc,oc={name:"authEvent",F:"local"};function sc(){this.a=Ju()}function ac(t,e){this.b=uc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===rc&&(rc=a.Int32Array?new Int32Array(mc):mc),this.reset()}E(ac,function(){this.b=-1});for(var uc=64,cc=uc-1,lc=[],hc=0;hc<cc;hc++)lc[hc]=0;var dc=X(128,lc);function fc(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){var o=(0|n[e-16])+(((r=0|n[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,s=(0|n[e-7])+(((i=0|n[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+s|0}i=0|t.a[0],r=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&a^r&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|rc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=r,r=i,i=s+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function pc(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if("string"==typeof e)for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(fc(t),r=0);else{if(!f(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(fc(t),r=0)}}t.c=r,t.g+=n}ac.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):J(this.h)};var mc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gc(){ac.call(this,8,vc)}E(gc,ac);var vc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bc(t,e,n,i,r,o){this.v=t,this.i=e,this.l=n,this.m=i||null,this.u=r||null,this.s=o,this.h=e+":"+n,this.C=new sc,this.g=new ic(this.h),this.f=null,this.b=[],this.a=this.c=null}function yc(t){return new T("invalid-cordova-configuration",t)}function _c(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(i){}}function wc(t){return t.f||(t.f=t.ma().then(function(){return new _e(function(e){t.Ea(function n(i){return e(i),t.Sa(n),!1}),function(t){function e(e){i=!0,r&&r.cancel(),Cc(t).then(function(i){var r=n;if(i&&e&&e.url){var o=null;-1!=(r=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mi(Mn(o=Vn(r),"firebaseError")||null))?x(o):null)?new Uo(i.c,i.b,null,null,o,null,i.T()):new Uo(i.c,i.b,r,i.f,null,null,i.T())),r=o||n}_c(t,r)})}var n=new Uo("unknown",null,null,null,new T("no-auth-event")),i=!1,r=Tn(500).then(function(){return Cc(t).then(function(){i||_c(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ai("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},zo||(zo=new Ho),function(t){var e=zo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ai("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function Cc(t){var e=null;return function(t){return t.b.get(oc,t.a).then(function(t){return Bo(t)})}(t.g).then(function(n){return e=n,ec((n=t.g).b,oc,n.a)}).then(function(){return e})}function Oc(t){this.a=t,this.b=Ju()}(t=bc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yi(void 0)?bi().then(function(){return new _e(function(t,e){var n=a.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):Ie(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Ai("universalLinks.subscribe",a))throw yc("cordova-universal-links-plugin-fix is not installed");if(void 0===Ai("BuildInfo.packageName",a))throw yc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ai("cordova.plugins.browsertab.openUrl",a))throw yc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ai("cordova.InAppBrowser.open",a))throw yc("cordova-plugin-inappbrowser is not installed")},function(){throw new T("cordova-not-ready")})},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),xe()},t.Mb=function(){return Ie(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,i){if(this.c)return Ie(new T("redirect-operation-pending"));var r=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=xe().then(function(){return Vo(e),wc(r)}).then(function(){return function(t,e,n,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Uo(e,i,null,o,new T("no-auth-event"),null,r),u=Ai("BuildInfo.packageName",a);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=Ai("BuildInfo.displayName",a),l={};if(ki().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!ki().toLowerCase().match(/android/))return Ie(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new gc;pc(e,t),t=[];var n=8*e.g;pc(e,dc,56>e.c?56-e.c:e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(fc(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return W(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=mu(t.v,t.i,t.l,e,n,null,i,t.m,l,t.u,r,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(oc,s.w(),e)}).then(function(){var e=Ai("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Ai("cordova.plugins.browsertab.openUrl",a)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ai("cordova.InAppBrowser.open",a)))throw new T("invalid-cordova-configuration");e=ki(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(r,t,e,n,i)}).then(function(){return new _e(function(t,e){u=function(){var e=Ai("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ea(u),l=function(){qi()&&c()},o.addEventListener("resume",c=function(){s||(s=Tn(2e3).then(function(){e(new T("redirect-cancelled-by-user"))}))},!1),ki().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return Cc(r).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&r.Sa(u),r.c=null})},t.Ea=function(t){this.b.push(t),wc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new T("no-auth-event")),t(e))})},t.Sa=function(t){Q(this.b,function(e){return e==t})};var Ec={name:"pendingRedirect",F:"session"};function Sc(t){return ec(t.b,Ec,t.a)}function Tc(t,e,n,i){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=i,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Bc,this.C=new Wc,this.g=new Oc(Vc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=xc(this.D,this.v,this.m,I,this.J)}function xc(t,e,n,r,o){var s=i.a.SDK_VERSION||null;return yi()?new bc(t,e,n,s,r,o):new hu(t,e,n,s,r,o)}function Ic(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function kc(t){t.a.Xb()&&Ic(t).o(function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));jc(e)&&t.s(n)}),t.a.Tb()||Hc(t.b)}function Ac(t,e){Y(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ec,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Sc(t.g).then(function(){Ic(t).o(function(e){var n=new Uo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));jc(e)&&t.s(n)})}):kc(t)}).o(function(){kc(t)})}function Dc(t,e){Q(t.h,function(t){return t==e})}Tc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=xc(this.D,this.v,this.m,null,this.J),this.i={}},Tc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=O()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=O())),e=!0;break}}return Hc(this.b),e};var Rc=new Hi(2e3,1e4),Pc=new Hi(3e4,6e4);function Nc(t,e,n,i,r,o,s){return t.a.Mb(e,n,i,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},r,o,s)}function jc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Lc(t,e,n,i,r){var o;return function(t){return t.b.set(Ec,"pending",t.a)}(t.g).then(function(){return t.a.Nb(e,n,i,r).o(function(e){if(jc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Sc(t.g).then(function(){throw o})}).then(function(){return t.a.$b()?new _e(function(){}):Sc(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function Fc(t,e,n,i,r){return t.a.Ob(i,function(t){e.na(n,null,t,r)},Rc.get())}Tc.prototype.qa=function(){return this.b.qa()};var Mc={};function Vc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Uc(t,e,n,i){var r=Vc(e,n,i);return Mc[r]||(Mc[r]=new Tc(t,e,n,i)),Mc[r]}function Bc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Hc(t){t.g||(t.g=!0,Kc(t,!1,null,null))}function qc(t){t.g&&!t.i&&Kc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return xe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Kc(t,e,n,i){e?i?function(t,e){if(t.b=function(){return Ie(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function Wc(){}function Gc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Yc(t,e){this.a=e,Qi(this,"verificationId",t)}function $c(t,e,n,i){return new Lo(t).fb(e,n).then(function(t){return new Yc(t,i)})}function Qc(t){var e=zr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xi(this,{token:t,expirationTime:zi(1e3*e.exp),authTime:zi(1e3*e.auth_time),issuedAtTime:zi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Xc(t,e,n){var i=e&&e[Zc];if(!i)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=mt(e),this.g=n,this.c=new oo(null,i),this.b=[];var r=this;z(e[Jc]||[],function(t){(t=er(t))&&r.b.push(t)}),Qi(this,"auth",this.a),Qi(this,"session",this.c),Qi(this,"hints",this.b)}Bc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(Kc(this,!0,null,t.a),xe()):e.Fa(n,i)?function(t,e,n){n=n.Fa(e.c,e.b);var i=e.g,r=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(i,r,s,o).then(function(e){Kc(t,a,e,null)}).o(function(e){Kc(t,a,null,e)})}(this,t,e):Ie(new T("invalid-auth-event")):(Kc(this,!1,null,null),xe())}else Ie(new T("invalid-auth-event"))},Bc.prototype.qa=function(){var t=this;return new _e(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Tn(Pc.get()).then(function(){t.b||(t.g=!0,Kc(t,!0,null,e))})}(t))})},Wc.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.na(t.c,null,t.a,t.b),xe()):e.Fa(n,i)?function(t,e){var n=t.b,i=t.c;e.Fa(i,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(i,t,null,n)}).o(function(t){e.na(i,null,t,n)})}(t,e):Ie(new T("invalid-auth-event"))}else Ie(new T("invalid-auth-event"))},Yc.prototype.confirm=function(t){return t=Fo(this.verificationId,t),this.a(t)};var Jc="mfaInfo",Zc="mfaPendingCredential";function tl(t,e,n,i){T.call(this,"multi-factor-auth-required",i,e),this.b=new Xc(t,e,n),Qi(this,"resolver",this.b)}function el(t,e,n){if(t&&m(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new tl(e,t.serverResponse,n,t.message)}catch(i){}return null}function nl(){}function il(t){Qi(this,"factorId",t.fa),this.a=t}function rl(t){if(il.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ol(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function sl(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,function(t){var e=null,i={};if(t){t.uid&&(i[rr]=t.uid),t.displayName&&(i[nr]=t.displayName),t.enrollmentTime&&(i[ir]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(i[or]=t.phoneNumber);try{e=new sr(i)}catch(r){}t=e}else t=null;t&&n.push(t)}),al(this,n)}function al(t,e){t.b=e,Qi(t,"enrolledFactors",e)}function ul(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function cl(t,e){t.stop(),t.b=Tn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return qi()||!t?xe():new _e(function(n){e=function(){qi()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){cl(t,!0)}).o(function(e){t.i(e)&&cl(t,!1)})}function ll(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function hl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function dl(t,e){t.b=qr(e[Qs]||""),t.a=e.refreshToken,hl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function fl(t,e){this.a=t||null,this.b=e||null,Xi(this,{lastSignInTime:zi(e||null),creationTime:zi(t||null)})}function pl(t,e,n,i,r,o){Xi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function ml(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=i.a.SDK_VERSION?Ii(i.a.SDK_VERSION):null;this.a=new Ys(this.l,R(I),r),t.emulatorConfig&&na(this.a,t.emulatorConfig),this.b=new ll(this.a),Ol(this,e[Qs]),dl(this.b,e),Qi(this,"refreshToken",this.b.a),Tl(this,n||{}),wn.call(this),this.R=!1,this.s&&Ri()&&(this.i=Uc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new ul(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.aa=w(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){na(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){bl(o,t.f)},this.ba=null,this.O=new sl(this,n),Qi(this,"multiFactor",this.O)}function gl(t,e){t.ja&&dn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&cn(e,"languageCodeChanged",t.Oa)}function vl(t,e){t.X&&dn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&cn(e,"emulatorConfigChanged",t.Aa)}function bl(t,e){t.$=e,ra(t.a,i.a.SDK_VERSION?Ii(i.a.SDK_VERSION,t.$):null)}function yl(t,e){t.ba&&dn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&cn(e,"frameworkChanged",t.Ba)}function _l(t){try{return i.a.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function wl(t){t.D||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.aa),cn(t,"tokenChanged",t.aa))}function Cl(t){dn(t,"tokenChanged",t.aa),t.u.stop()}function Ol(t,e){t.za=e,Qi(t,"_lat",e)}function El(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Ae(e).then(function(){return t})}function Sl(t){t.i&&!t.R&&(t.R=!0,Ac(t.i,t))}function Tl(t,e){Xi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new fl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function xl(){}function Il(t){return xe().then(function(){if(t.D)throw new T("app-deleted")})}function kl(t){return W(t.providerData,function(t){return t.providerId})}function Al(t,e){e&&(Dl(t,e.providerId),t.providerData.push(e))}function Dl(t,e){Q(t.providerData,function(t){return t.providerId==e})}function Rl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qi(t,e,n)}function Pl(t,e){t!=e&&(Xi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Qi(t,"metadata",e.metadata?function(t){return new fl(t.a,t.b)}(e.metadata):new fl),z(e.providerData,function(e){Al(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Qi(t,"refreshToken",t.b.a),al(t.O,e.O.b))}function Nl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return tu(t.a,Da,{idToken:e}).then(w(t.Kc,t))}(t,e).then(function(){return n||Rl(t,"isAnonymous",!1),e})})}function jl(t,e){e[Qs]&&t.za!=e[Qs]&&(dl(t.b,e),t.dispatchEvent(new ol("tokenChanged")),Ol(t,e[Qs]),Rl(t,"refreshToken",t.b.a))}function Ll(t,e){return Nl(t).then(function(){if(Y(kl(t),e))return El(t).then(function(){throw new T("provider-already-linked")})})}function Fl(t,e,n){return Ji({user:t,credential:Mo(e),additionalUserInfo:e=$r(e),operationType:n})}function Ml(t,e){return jl(t,e),t.reload().then(function(){return t})}function Vl(t,e,n,r,o){if(!Ri())return Ie(new T("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ie(t.h);var s=Yr(n.providerId),a=Vi(t.uid+":::"),u=null;(!ji()||_i())&&t.s&&n.isOAuthProvider&&(u=mu(t.s,t.l,t.m,e,n,null,a,i.a.SDK_VERSION||null,null,null,t.tenantId));var c=mi(u,s&&s.ua,s&&s.ta);return r=r().then(function(){if(Bl(t),!o)return t.I().then(function(){})}).then(function(){return Nc(t.i,c,e,n,a,!!u,t.tenantId)}).then(function(){return new _e(function(n,i){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=i,t.g=a,t.c=Fc(t.i,t,e,c,a)})}).then(function(t){return c&&pi(c),t?Ji(t):null}).o(function(t){throw c&&pi(c),t}),Hl(t,r,o)}function Ul(t,e,n,i,r){if(!Ri())return Ie(new T("operation-not-supported-in-this-environment"));if(t.h&&!r)return Ie(t.h);var o=null,s=Vi(t.uid+":::");return i=i().then(function(){if(Bl(t),!r)return t.I().then(function(){})}).then(function(){return t.ga=s,El(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Kl,t.w(),e.a)),e}).then(function(){return Lc(t.i,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return Wl(t.ha);throw o}).then(function(){if(o)throw o}),Hl(t,i,r)}function Bl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Hl(t,e,n){var i=function(t,e,n){return t.h&&!n?(e.cancel(),Ie(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new ol("userInvalidated")),t.h=e),e})}(t,e,n);return t.J.push(i),i.oa(function(){$(t.J,i)}),i.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),_l(t),w(t.jc,t))),n||e})}function ql(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Qs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=t.stsTokenManager.expirationTime;i&&(n.expiresIn=(i-Date.now())/1e3);var r=new ml(e,n,t);return t.providerData&&z(t.providerData,function(t){t&&Al(r,Ji(t))}),t.redirectEventId&&(r.ga=t.redirectEventId),r}function zl(t){this.a=t,this.b=Ju()}Xc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then(function(t){var n=mt(e.f);return delete n[Jc],delete n[Zc],vt(n,t),e.g(n)})},E(tl,T),nl.prototype.sb=function(t,e,n){return e.type==so?function(t,e,n,i){return n.Ha().then(function(n){return n={idToken:n},void 0!==i&&(n.displayName=i),vt(n,{phoneVerificationInfo:jo(t.a)}),tu(e,ka,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:jo(t.a)}),tu(e,Aa,n)})}(this,t,e)},E(il,nl),E(rl,il),E(ol,Qe),(t=sl.prototype).yc=function(t){al(this,function(t){var e=[];return z(t.mfaInfo||[],function(t){(t=er(t))&&e.push(t)}),e}(t.hd))},t.Rb=function(){return this.a.I().then(function(t){return new oo(t,null)})},t.fc=function(t,e){var n=this,i=this.a.a;return this.Rb().then(function(n){return t.sb(i,n,e)}).then(function(t){return jl(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,i=this.a.a;return this.a.I().then(function(t){return tu(i,Za,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var i=K(e.b,function(t){return t.uid!=n});return al(e,i),jl(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:W(this.b,function(t){return t.w()})}}},ul.prototype.start=function(){this.a=this.c,cl(this,!0)},ul.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ll.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ll.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ie(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new _e(function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?i(nu(t)):t.access_token&&t.refresh_token?n(t):i(new T("internal-error")):i(new T("network-request-failed"))},"POST",Xn(e).toString(),t.g,t.m.get()):i(new T("internal-error"))})}(t.f,e).then(function(e){return t.b=qr(e.access_token),t.a=e.refresh_token,hl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):xe(null):xe({accessToken:this.b.toString(),refreshToken:this.a})},fl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(ml,wn),ml.prototype.wa=function(t){this.ya=t,ea(this.a,t)},ml.prototype.la=function(){return this.ya},ml.prototype.Ga=function(){return J(this.$)},ml.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Qi(ml.prototype,"providerId","firebase"),(t=ml.prototype).reload=function(){var t=this;return Hl(this,Il(this).then(function(){return Nl(t).then(function(){return El(t)}).then(xl)}))},t.oc=function(t){return this.I(t).then(function(t){return new Qc(t)})},t.I=function(t){var e=this;return Hl(this,Il(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(Ol(e,t.accessToken),e.dispatchEvent(new ol("tokenChanged"))),Rl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Tl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?W(t,function(t){return new pl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Al(this,e[n]);Rl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ol("userReloaded",{hd:t}))},t.Lc=function(t){return Yi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Hl(this,t.c(this.a,this.uid).then(function(t){return jl(e,t),n=Fl(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Yi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Hl(this,Ll(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Fl(e,t,"link"),Ml(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Hl(this,Ll(this,"phone").then(function(){return $c(_l(n),t,e,w(n.qb,n))}))},t.Mc=function(t,e){var n=this;return Hl(this,xe().then(function(){return $c(_l(n),t,e,w(n.tb,n))}),!0)},t.Bb=function(t){var e=this;return Hl(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return jl(e,t),e.reload()}))},t.ed=function(t){var e=this;return Hl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return jl(e,t),e.reload()}))},t.Cb=function(t){var e=this;return Hl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return jl(e,t),e.reload()}))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Il(this);var e=this;return Hl(this,this.I().then(function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return jl(e,t),Rl(e,"displayName",t.displayName||null),Rl(e,"photoURL",t.photoUrl||null),z(e.providerData,function(t){"password"===t.providerId&&(Qi(t,"displayName",e.displayName),Qi(t,"photoURL",e.photoURL))}),El(e)}).then(xl))},t.cd=function(t){var e=this;return Hl(this,Nl(this).then(function(n){return Y(kl(e),t)?function(t,e,n){return tu(t,Ta,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return z(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),z(kl(e),function(t){n[t]||Dl(e,t)}),n[Lo.PROVIDER_ID]||Qi(e,"phoneNumber",null),El(e)}):El(e).then(function(){throw new T("no-such-provider")})}))},t.delete=function(){var t=this;return Hl(this,this.I().then(function(e){return tu(t.a,Sa,{idToken:e})}).then(function(){t.dispatchEvent(new ol("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");gl(t,null),vl(t,null),yl(t,null),t.J=[],t.D=!0,Cl(t),Qi(t,"refreshToken",null),t.i&&Dc(t.i,t)})},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):null},t.Ec=function(t){var e=this;return Vl(this,"linkViaPopup",t,function(){return Ll(e,t.providerId).then(function(){return El(e)})},!1)},t.Nc=function(t){return Vl(this,"reauthViaPopup",t,function(){return xe()},!0)},t.Fc=function(t){var e=this;return Ul(this,"linkViaRedirect",t,function(){return Ll(e,t.providerId)},!1)},t.Oc=function(t){return Ul(this,"reauthViaRedirect",t,function(){return xe()},!0)},t.Kb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,this.I().then(function(n){return ba(r.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})}).then(function(t){return o=Fl(r,t,"link"),Ml(r,t)}).then(function(){return o}))},t.Lb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,xe().then(function(){return co(ya(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)}).then(function(t){return o=Fl(r,t,"reauthenticate"),jl(r,t),r.h=null,r.reload()}).then(function(){return o}),!0)},t.ub=function(t){var e=this,n=null;return Hl(this,this.I().then(function(e){return n=e,void 0===t||pt(t)?{}:Ur(new Ar(t))}).then(function(t){return e.a.ub(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Eb=function(t,e){var n=this,i=null;return Hl(this,this.I().then(function(t){return i=t,void 0===e||pt(e)?{}:Ur(new Ar(e))}).then(function(e){return n.a.Eb(i,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Hl(this,t=co(xe(t),n.uid).then(function(t){return e=Fl(n,t,"reauthenticate"),jl(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),z(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),vt(t,this.O.w()),t};var Kl={name:"redirectUser",F:"session"};function Wl(t){return ec(t.b,Kl,t.a)}function Gl(t){this.a=t,this.b=Ju(),this.c=null,this.f=function(t){var e=Ql("local"),n=Ql("session"),i=Ql("none");return function(t,e,n){var i=tc(e,n),r=Zu(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=Mi(a.localStorage.getItem(i))}catch(u){}if(s&&!o)return a.localStorage.removeItem(i),t.set(e,s,n);s&&o&&"localStorage"!=r.type&&a.localStorage.removeItem(i)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(r){return r?n:t.b.get(i,t.a).then(function(n){return n?i:t.b.get(e,t.a).then(function(n){return n?e:t.b.get($l,t.a).then(function(t){return t?Ql(t):e})})})}).then(function(e){return t.c=e,Yl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Ql("local"),this.a,w(this.g,this))}function Yl(t,e){var n,i=[];for(n in Qu)Qu[n]!==e&&i.push(ec(t.b,Ql(Qu[n]),t.a));return i.push(ec(t.b,$l,t.a)),function(t){return new _e(function(e,n){var i=t.length,r=[];if(i)for(var o=function(t,n){i--,r[t]=n,0==i&&e(r)},s=function(t){n(t)},a=0;a<t.length;a++)ke(t[a],C(o,a),s);else e(r)})}(i)}Gl.prototype.g=function(){var t=this,e=Ql("local");th(this,function(){return xe().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Yl(t,"local").then(function(){t.c=e})})})};var $l={name:"persistence",F:"session"};function Ql(t){return{name:"authUser",F:t}}function Xl(t,e){return th(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Jl(t){return th(t,function(){return ec(t.b,t.c,t.a)})}function Zl(t,e,n){return th(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),ql(t||{})})})}function th(t,e){return t.f=t.f.then(e,e),t.f}function eh(t){if(this.l=!1,Qi(this,"settings",new Gc),Qi(this,"app",t),!ch(this).options||!ch(this).options.apiKey)throw new T("invalid-api-key");t=i.a.SDK_VERSION?Ii(i.a.SDK_VERSION):null,this.a=new Ys(ch(this).options&&ch(this).options.apiKey,R(I),t),this.R=[],this.s=[],this.O=[],this.hb=i.a.INTERNAL.createSubscribe(w(this.zc,this)),this.X=void 0,this.bc=i.a.INTERNAL.createSubscribe(w(this.Ac,this)),ah(this,null),this.i=new Gl(ch(this).options.apiKey+":"+ch(this).name),this.D=new zl(ch(this).options.apiKey+":"+ch(this).name),this.$=fh(this,function(t){var e=ch(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Kl,t.a).then(function(t){return t&&e&&(t.authDomain=e),ql(t||{})})}(t.D,ch(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Wl(t.D)});return fh(t,e)}(t).then(function(){return Zl(t.i,e,t.P)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Xl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Jl(t.i)})):null}).then(function(e){ah(t,e||null)});return fh(t,n)}(this)),this.h=fh(this,function(t){return t.$.then(function(){return sh(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Ql("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.ya=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=ch(t).options.authDomain,n=ch(t).options.apiKey;e&&Ri()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Uc(e,n,ch(t).name,t.P),Ac(t.b,t),lh(t)&&Sl(lh(t)),t.m){Sl(t.m);var i=t.m;i.wa(t.la()),gl(i,t),bl(i=t.m,t.J),yl(i,t),na((i=t.m).a,t.P),vl(i,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Vn(this.P.url);t=Ji({protocol:t.c,host:t.a,port:t.g,options:Ji({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function nh(t){Qe.call(this,"languageCodeChanged"),this.h=t}function ih(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function rh(t){Qe.call(this,"frameworkChanged"),this.f=t}function oh(t){return t.Oa||Ie(new T("auth-domain-config-required"))}function sh(t){if(!Ri())return Ie(new T("operation-not-supported-in-this-environment"));var e=oh(t).then(function(){return t.b.qa()}).then(function(t){return t?Ji(t):null});return fh(t,e)}function ah(t,e){lh(t)&&(function(t,e){Q(t.S,function(t){return t==e})}(lh(t),t.Ba),dn(lh(t),"tokenChanged",t.ya),dn(lh(t),"userDeleted",t.za),dn(lh(t),"userInvalidated",t.Aa),Cl(lh(t))),e&&(e.S.push(t.Ba),cn(e,"tokenChanged",t.ya),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.u&&wl(e)),Qi(t,"currentUser",e),e&&(e.wa(t.la()),gl(e,t),bl(e,t.J),yl(e,t),na(e.a,t.P),vl(e,t))}function uh(t,e){var n=null,i=null;return fh(t,e.then(function(e){return n=Mo(e),i=$r(e),function(t,e){var n={};return n.apiKey=ch(t).options.apiKey,n.authDomain=ch(t).options.authDomain,n.appName=ch(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then(function(){return function(t,e,n,i){var r=new ml(t,e);return n&&(r.ha=n),i&&bl(r,i),r.reload().then(function(){return r})}(n,e,t.D,t.Ga())}).then(function(e){return lh(t)&&e.uid==lh(t).uid?(Pl(lh(t),e),t.da(e)):(ah(t,e),Sl(e),t.da(e))}).then(function(){dh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),t,w(t.kc,t))),n||e}).then(function(){return Ji({user:lh(t),credential:n,additionalUserInfo:i,operationType:"signIn"})}))}function ch(t){return t.app}function lh(t){return t.currentUser}function hh(t){return lh(t)&&lh(t)._lat||null}function dh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](hh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](hh(t))}}function fh(t,e){return t.R.push(e),e.oa(function(){$(t.R,e)}),e}function ph(){}function mh(){this.a={},this.b=1e12}Gl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(i in Qu)if(Qu[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(Ci()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!ku()&&"none"!==t)throw n;break;default:if(!Di()&&"none"!==t)throw n}}(t),th(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(i){return e=i,Yl(n,t)}).then(function(){if(n.c=Ql(t),e)return n.b.set(n.c,e,n.a)}):xe()})},E(eh,wn),E(nh,Qe),E(ih,Qe),E(rh,Qe),(t=eh.prototype).xb=function(t){return fh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new nh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&bi().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,na(this.a,this.P),this.dispatchEvent(new ih(this.P))}},t.Gc=function(t){this.J.push(t),ra(this.a,i.a.SDK_VERSION?Ii(i.a.SDK_VERSION,this.J):null),this.dispatchEvent(new rh(this.J))},t.Ga=function(){return J(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:ch(this).options.apiKey,authDomain:ch(this).options.authDomain,appName:ch(this).name,currentUser:lh(this)&&lh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,i){var r=this,o={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.$.then(function(){return uh(r,va(r.a,o))})},t.Xc=function(t){if(!Ri())return Ie(new T("operation-not-supported-in-this-environment"));var e=this,n=Yr(t.providerId),r=Vi(),o=null;(!ji()||_i())&&ch(this).options.authDomain&&t.isOAuthProvider&&(o=mu(ch(this).options.authDomain,ch(this).options.apiKey,ch(this).name,"signInViaPopup",t,null,r,i.a.SDK_VERSION||null,null,null,this.T(),this.P));var s=mi(o,n&&n.ua,n&&n.ta);return fh(this,n=oh(this).then(function(n){return Nc(n,s,"signInViaPopup",t,r,!!o,e.T())}).then(function(){return new _e(function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Fc(e.b,e,"signInViaPopup",s,r)})}).then(function(t){return s&&pi(s),t?Ji(t):null}).o(function(t){throw s&&pi(s),t}))},t.Yc=function(t){if(!Ri())return Ie(new T("operation-not-supported-in-this-environment"));var e=this;return fh(this,oh(this).then(function(){return function(t){return th(t,function(){return t.b.set($l,t.c.F,t.a)})}(e.i)}).then(function(){return Lc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.qa=function(){var t=this;return sh(this).then(function(e){return t.b&&qc(t.b.b),e}).o(function(e){throw t.b&&qc(t.b.b),e})},t.dd=function(t){if(!t)return Ie(new T("null-user"));if(this.S!=t.tenantId)return Ie(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=ch(this).options.apiKey,n.authDomain=ch(this).options.authDomain,n.appName=ch(this).name;var i=function(t,e,n,i){var r=t.b,o={};return o[Qs]=r.b&&r.b.toString(),o.refreshToken=r.a,e=new ml(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),i&&bl(e,i),Pl(e,t),e}(t,n,e.D,e.Ga());return fh(this,this.h.then(function(){if(ch(e).options.apiKey!=t.l)return i.reload()}).then(function(){return lh(e)&&t.uid==lh(e).uid?(Pl(lh(e),t),e.da(t)):(ah(e,i),Sl(i),e.da(i))}).then(function(){dh(e)}))},t.Ab=function(){var t=this;return fh(this,this.h.then(function(){return t.b&&qc(t.b.b),lh(t)?(ah(t,null),Jl(t.i).then(function(){dh(t)})):xe()}))},t.Zc=function(){var t=this;return Zl(this.i,ch(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=lh(t)&&e){n=lh(t).uid;var i=e.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return Pl(lh(t),e),lh(t).I();(lh(t)||e)&&(ah(t,e),e&&(Sl(e),e.ha=t.D),t.b&&Ac(t.b,t),dh(t))}})},t.da=function(t){return Xl(this.i,t)},t.mc=function(){dh(this),this.da(lh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then(function(){return uh(e,xe(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(lh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),fh(t,t.h.then(function(){!t.l&&Y(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(hh(t)))}))}(this,function(){t.next(lh(e))})},t.Ic=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(lh(i)):"function"==typeof t.next&&t.next(lh(i))}),this.hb(t,e,n)},t.Hc=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then(function(){i.X=i.getUid(),"function"==typeof t?t(lh(i)):"function"==typeof t.next&&t.next(lh(i))}),this.bc(t,e,n)},t.nc=function(t){var e=this;return fh(this,this.h.then(function(){return lh(e)?lh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return uh(e,tu(e.a,Ya,{token:t}))}).then(function(t){var n=t.user;return Rl(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return uh(n,tu(n.a,$a,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return uh(n,tu(n.a,Oa,{email:t,password:e}))})},t.$a=function(t){var e=this;return this.h.then(function(){return uh(e,t.ka(e.a))})},t.Sc=function(t){return Yi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then(function(){var e=lh(t);if(e&&e.isAnonymous){var n=Ji({providerId:null,isNewUser:!1});return Ji({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return uh(t,t.a.zb()).then(function(e){var n=e.user;return Rl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return lh(this)&&lh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&lh(this)&&wl(lh(this))},t.Pc=function(t){var e=this;z(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&lh(this)&&Cl(lh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),fh(this,this.h.then(function(){e.l||Y(e.s,t)&&t(hh(e))}))},t.removeAuthTokenListener=function(t){Q(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Ql("local"),t.a,this.ja),this.b&&(Dc(this.b,this),qc(this.b.b)),Promise.resolve()},t.hc=function(t){return fh(this,function(t,e){return tu(t,Ea,{identifier:e,continueUri:Pi()?li():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!Ro(t)},t.wb=function(t,e){var n=this;return fh(this,xe().then(function(){var t=new Ar(e);if(!t.c)throw new T("argument-error",Pr+" must be true when sending sign in link to email");return Ur(t)}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},t.nb=function(t,e){return fh(this,this.a.nb(t,e).then(function(){}))},t.Ra=function(t){return fh(this,this.a.Ra(t).then(function(t){return new ar(t)}))},t.jb=function(t){return fh(this,this.a.jb(t).then(function(){}))},t.vb=function(t,e){var n=this;return fh(this,xe().then(function(){return void 0===e||pt(e)?{}:Ur(new Ar(e))}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},t.Wc=function(t,e){return fh(this,$c(this,t,e,w(this.$a,this)))},t.Vc=function(t,e){var n=this;return fh(this,xe().then(function(){var i=e||li(),r=Do(t,i);if(!(i=Ro(i)))throw new T("argument-error","Invalid email link!");if(i.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(r)}))},ph.prototype.render=function(){},ph.prototype.reset=function(){},ph.prototype.getResponse=function(){},ph.prototype.execute=function(){};var gh=null;function vh(t,e){return(e=bh(e))&&t.a[e]||null}function bh(t){return(t=void 0===t?1e12:t)?t.toString():null}function yh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function _h(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function wh(){}function Ch(){}mh.prototype.render=function(t,e){return this.a[this.b.toString()]=new yh(t,e),this.b++},mh.prototype.reset=function(t){var e=vh(this,t);t=bh(t),e&&t&&(e.delete(),delete this.a[t])},mh.prototype.getResponse=function(t){return(t=vh(this,t))?t.getResponse():null},mh.prototype.execute=function(t){(t=vh(this,t))&&t.execute()},yh.prototype.getResponse=function(){return _h(this),this.b},yh.prototype.execute=function(){_h(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(i){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(i){}t.h&&t.execute()},6e4)},500))},yh.prototype.delete=function(){_h(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Qi(wh,"FACTOR_ID","phone"),Ch.prototype.g=function(){return gh||(gh=new mh),xe(gh)},Ch.prototype.c=function(){};var Oh=null;function Eh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Sh=new yt(Ot,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Th=new Hi(3e4,6e4);Eh.prototype.g=function(t){var e=this;return new _e(function(n,i){var r=setTimeout(function(){i(new T("network-request-failed"))},Th.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(r),n(a.grecaptcha)}else clearTimeout(r),i(new T("internal-error"));delete a[e.a]},xe(Bs(xt(Sh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(r),i(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(r),n(a.grecaptcha))})},Eh.prototype.c=function(){this.b--};var xh=null;function Ih(t,e,n,i,r,o,s){if(Qi(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(Oh||(Oh=new Ch),s=Oh):(xh||(xh=new Eh),s=xh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Dh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Rh],!a.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ys(t,o||null,r||null),this.u=i||function(){return null};var u=this;this.l=[];var c=this.a[kh];this.a[kh]=function(t){if(Ph(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Ai(c,a);"function"==typeof e&&e(t)}};var l=this.a[Ah];this.a[Ah]=function(){if(Ph(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ai(l,a);"function"==typeof t&&t()}}}var kh="callback",Ah="expired-callback",Dh="sitekey",Rh="size";function Ph(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(i){}}function Nh(t,e){return t.h.push(e),e.oa(function(){$(t.h,e)}),e}function jh(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Lh(t,e,n){var r=!1;try{this.b=n||i.a.app()}catch(a){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=i.a.SDK_VERSION?Ii(i.a.SDK_VERSION,s):null,Ih.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},s,R(I),r)}function Fh(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].M(n[r])&&!o){if(e=e[r],0>r||r>=Mh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Mh[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}i=null}}if(i)throw new T("argument-error",t+" failed: "+i)}(t=Ih.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Nh(this,xe().then(function(){if(Pi()&&!wi())return bi();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,tu(t.s,Fa,{})}).then(function(e){t.a[Dh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){jh(this);var t=this;return Nh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var i=arguments,r=document,o=String(i[0]),s=i[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',zt(s.name),'"'),s.type){o.push(' type="',zt(s.type),'"');var a={};vt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(r,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ce(o,s)),2<i.length&&fe(r,o,i),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){jh(this);var t=this;return Nh(this,this.render().then(function(e){return new _e(function(n){var i=t.g.getResponse(e);if(i)n(i);else{var r=function(e){e&&(function(t,e){Q(t.l,function(t){return t==e})}(t,r),n(e))};t.l.push(r),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){jh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){jh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},E(Lh,Ih);var Mh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Vh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Uh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Bh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:m}}function Hh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function qh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function zh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Kh(t,e){return m(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Wh(t){return m(t)&&"string"==typeof t.uid}function Gh(t,e,n,i){return{name:n||"",K:t.K+" or "+e.K,optional:!!i,M:function(n){return t.M(n)||e.M(n)}}}function Yh(t,e){for(var n in e){var i=e[n].name;t[i]=Xh(i,t[n],e[n].j)}}function $h(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:C(function(t){return this[t]},n),set:C(function(t,e,n,i){Fh(t,[n],[i],!0),this[e]=i},i,n,e[n].kb),enumerable:!0})}}function Qh(t,e,n,i){t[e]=Xh(e,n,i)}function Xh(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return Fh(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}Yh(eh.prototype,{jb:{name:"applyActionCode",j:[Vh("code")]},Ra:{name:"checkActionCode",j:[Vh("code")]},nb:{name:"confirmPasswordReset",j:[Vh("code"),Vh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Vh("email"),Vh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Vh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Vh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Gh(Bh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Gh(Bh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Vh("email"),Gh(Bh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Vh("email"),Bh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Vh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[zh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[zh()]},Tc:{name:"signInWithCustomToken",j:[Vh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Vh("email"),Vh("password")]},Vc:{name:"signInWithEmailLink",j:[Vh("email"),Vh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Vh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Gh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof ml)}},qh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Vh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Vh("url"),Bh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Vh("code")]}}),$h(eh.prototype,{lc:{name:"languageCode",kb:Gh(Vh(),qh(),"languageCode")},ti:{name:"tenantId",kb:Gh(Vh(),qh(),"tenantId")}}),(eh.Persistence=Qu).LOCAL="local",eh.Persistence.SESSION="session",eh.Persistence.NONE="none",Yh(ml.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Uh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Uh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[zh()]},qb:{name:"linkWithCredential",j:[zh()]},Dc:{name:"linkWithPhoneNumber",j:[Vh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[zh()]},tb:{name:"reauthenticateWithCredential",j:[zh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Vh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Gh(Bh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Vh(null,!0)]},cd:{name:"unlink",j:[Vh("provider")]},Bb:{name:"updateEmail",j:[Vh("email")]},Cb:{name:"updatePassword",j:[Vh("password")]},ed:{name:"updatePhoneNumber",j:[zh("phone")]},Db:{name:"updateProfile",j:[Bh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Vh("email"),Gh(Bh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]}}),Yh(mh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),$h(Gc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Uh("appVerificationDisabledForTesting")}}),Yh(Yc.prototype,{confirm:{name:"confirm",j:[Vh("verificationCode")]}}),Qh(uo,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,ko,No,fo],i=0;i<n.length;i++)if(e=n[i](t))return e;return null},[Gh(Vh(),Bh(),"json")]),Qh(Ao,"credential",function(t,e){return new Io(t,e)},[Vh("email"),Vh("password")]),Yh(Io.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),Yh(_o.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Qh(_o,"credential",wo,[Gh(Vh(),Bh(),"token")]),Qh(Ao,"credentialWithLink",Do,[Vh("email"),Vh("emailLink")]),Yh(Co.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Qh(Co,"credential",Oo,[Gh(Vh(),Bh(),"token")]),Yh(Eo.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Qh(Eo,"credential",So,[Gh(Vh(),Gh(Bh(),qh()),"idToken"),Gh(Vh(),qh(),"accessToken",!0)]),Yh(To.prototype,{Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Qh(To,"credential",xo,[Gh(Vh(),Bh(),"token"),Vh("secret",!0)]),Yh(yo.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},credential:{name:"credential",j:[Gh(Vh(),Gh(Bh(),qh()),"optionsOrIdToken"),Gh(Vh(),qh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Yh(po.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),Yh(lo.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),Qh(Lo,"credential",Fo,[Vh("verificationId"),Vh("verificationCode")]),Yh(Lo.prototype,{fb:{name:"verifyPhoneNumber",j:[Gh(Vh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Kh(t.session,so)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Kh(t.session,ao)&&Wh(t.multiFactorHint):t.session&&t.multiFactorUid?Kh(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Yh(Po.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),Yh(T.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),Yh(Wo.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),Yh(Ko.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),Yh(tl.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),Yh(Xc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Yh(sl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Vh("displayName",!0)]},bd:{name:"unenroll",j:[Gh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Wh},Vh(),"multiFactorInfoIdentifier")]}}),Yh(Lh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Qh(wr,"parseLink",kr,[Vh("link")]),Qh(wh,"assertion",function(t){return new rl(t)},[zh("phone")]),function(){if(void 0===i.a||!i.a.INTERNAL||!i.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:cr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ur,VERIFY_AND_CHANGE_EMAIL:lr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:eh,AuthCredential:uo,Error:T};Qh(t,"EmailAuthProvider",Ao,[]),Qh(t,"FacebookAuthProvider",_o,[]),Qh(t,"GithubAuthProvider",Co,[]),Qh(t,"GoogleAuthProvider",Eo,[]),Qh(t,"TwitterAuthProvider",To,[]),Qh(t,"OAuthProvider",yo,[Vh("providerId")]),Qh(t,"SAMLAuthProvider",bo,[Vh("providerId")]),Qh(t,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof eh)}}]),Qh(t,"RecaptchaVerifier",Lh,[Gh(Vh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Bh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof i.a.app.App)}}]),Qh(t,"ActionCodeURL",wr,[]),Qh(t,"PhoneMultiFactorGenerator",wh,[]),i.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new eh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),i.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),i.a.registerVersion("@firebase/auth","0.16.4"),i.a.INTERNAL.extendNamespace({User:ml})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("7Hc7"),o=n("Y7HM");class s extends i.a{constructor(t,e=0,n=r.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(o.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=r.a)}static create(t,e=0,n=r.a){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7o/Q");function r(){}var o=n("n6bG");function s(t,e,n){return function(i){return i.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends i.a{constructor(t,e,n,i){super(t),this._tapNext=r,this._tapError=r,this._tapComplete=r,this._tapError=n||r,this._tapComplete=i||r,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||r,this._tapError=e.error||r,this._tapComplete=e.complete||r)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("EQ5u"),r=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return t=>{return Object(r.a)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,i.b);return r.source=t,r.subjectFactory=n,r})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new s(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class s extends i.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("HDdC"),r=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new i.a(Object(r.a)(t))}},"z+Ro":function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return i})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("HDdC");function r(t,e){return new i.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var i,r,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new s.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((r={})[h]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var i=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.m)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return i._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var o=r;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.k)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,i);return e[a]=u,u},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=f[t])&&void 0!==i?i:t;n&&(r+="-"+n);var s=r.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+r+'" with version "'+e+'":'];return s&&c.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(r+"-version",function(){return{library:r,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(t=t||d,!Object(s.k)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?i[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.n)(u,o.serviceProps),i[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?i[a]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),r.App=t,i}(m);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.n)(e,t)},createSubscribe:s.l,ErrorFactory:s.b,deepExtend:s.n}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.s)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.z)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var i=n("fXoL");let r=null;function o(){return r}const s=new i.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Kb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(i.Yb)(l)}const c=new i.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(s))},t.\u0275prov=Object(i.Kb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(i.Yb)(s))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Kb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(i.Yb)(s).location;return new y(Object(i.Yb)(a),e&&e.origin||"")}const b=new i.r("appBaseHref");let y=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+m(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+m(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(a),i.Yb(b,8))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+m(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+m(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(a),i.Yb(b,8))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new i.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(g),i.Yb(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(i.Kb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new w(Object(i.Yb)(g),Object(i.Yb)(a))}function O(t){return t.replace(/\/index.html$/,"")}const E={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var S=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),x=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function I(t,e){const n=Object(i.lb)(t),r=n[i.cb.NumberSymbols][e];if(void 0===r){if(e===x.CurrencyDecimal)return n[i.cb.NumberSymbols][x.Decimal];if(e===x.CurrencyGroup)return n[i.cb.NumberSymbols][x.Group]}return r}const k=i.ob,A=/^(\d+)?\.((\d+)(-(\d+))?)?$/,D=".",R="0";function P(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class N{}let j=(()=>{class t extends N{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(k(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.v))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();function L(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let F=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(i.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(i.xb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.t),i.Ob(i.u),i.Ob(i.l),i.Ob(i.F))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class M{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let V=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new M(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new U(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const o=new U(t,r);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.R),i.Ob(i.M),i.Ob(i.t))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class U{constructor(t,e){this.record=t,this.view=e}}let B=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new H,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){q("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){q("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.R),i.Ob(i.M))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class H{constructor(){this.$implicit=null,this.ngIf=null}}function q(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(i.xb)(e)}'.`)}class z{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let K=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),W=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new z(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.R),i.Ob(i.M),i.Ob(K,1))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),G=(()=>{class t{constructor(t,e,n){n._addDefault(new z(t,e))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.R),i.Ob(i.M),i.Ob(K,1))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),Y=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.u),i.Ob(i.F))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),$=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.R))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.Ab]}),t})();function Q(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(i.xb)(t)}'`)}const X=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let J=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw Q(t,e);return e.replace(X,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Nb({name:"titlecase",type:t,pure:!0}),t})(),Z=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,r="symbol",o,s){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;s=s||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?function(t,e,n="en"){const r=function(t){return Object(i.lb)(t)[i.cb.Currencies]}(n)[t]||E[t]||[],o=r[1];return"narrow"===e&&"string"==typeof o?o:r[0]||t}(a,"symbol"===r?"wide":"narrow",s):r);try{return function(t,e,n,r,o){const s=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(D)?r.split(D):[r.substring(0,r.lastIndexOf(R)+1),r.substring(r.lastIndexOf(R)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===R?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=r.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(i.lb)(t)[i.cb.NumberFormats][e]}(e,S.Currency),I(e,x.MinusSign));return s.minFrac=function(t){let e;const n=E[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),s.maxFrac=s.minFrac,function(t,e,n,i,r,o,s=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,i,r,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf(D))>-1&&(s=s.replace(D,"")),(i=s.search(/e/i))>0?(n<0&&(n=i),n+=+s.slice(i+1),s=s.substring(0,i)):n<0&&(n=s.length),i=0;s.charAt(i)===R;i++);if(i===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===R;)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=Number(s.charAt(i))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,d=e.maxFrac;if(o){const t=o.match(A);if(null===t)throw new Error(`${o} is not a valid digit info`);const e=t[1],n=t[3],i=t[5];null!=e&&(l=P(e)),null!=n&&(h=P(n)),null!=i?d=P(i):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen;const o=Math.min(Math.max(e,r),n);let s=o+t.integerLen,a=i[s];if(s>0){i.splice(Math.max(t.integerLen,s));for(let t=s;t<i.length;t++)i[t]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let t=1;t<s;t++)i[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let u=0!==o;const c=e+t.integerLen,l=i.reduceRight(function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,u&&(0===i[n]&&n>=c?i.pop():u=!1),e>=10?1:0},0);l&&(i.unshift(l),t.integerLen++)}(c,h,d);let f=c.digits,p=c.integerLen;const m=c.exponent;let g=[];for(u=f.every(t=>!t);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?g=f.splice(p,f.length):(g=f,f=[0]);const v=[];for(f.length>=e.lgSize&&v.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)v.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&v.unshift(f.join("")),a=v.join(I(n,i)),g.length&&(a+=I(n,r)+g.join("")),m&&(a+=I(n,x.Exponential)+"+"+m)}else a=I(n,x.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,s,e,x.CurrencyGroup,x.CurrencyDecimal,o).replace("\xa4",n).replace("\xa4","").trim()}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),s,a,n,o)}catch(u){throw Q(t,u.message)}}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.v),i.Ob(i.k))},t.\u0275pipe=i.Nb({name:"currency",type:t,pure:!0}),t})(),tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[{provide:N,useClass:j}]}),t})();function et(t){return"server"===t}let nt=(()=>{class t{}return t.\u0275prov=Object(i.Kb)({token:t,providedIn:"root",factory:()=>new it(Object(i.Yb)(s),window)}),t})();class it{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=rt(this.window.history)||rt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function rt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class ot extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new ot,r||(r=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=at||(at=document.querySelector("base"),at)?at.getAttribute("href"):null;return null==e?null:(n=e,st||(st=document.createElement("a")),st.setAttribute("href",n),"/"===st.pathname.charAt(0)?st.pathname:"/"+st.pathname);var n}resetBaseElement(){at=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return L(document.cookie,t)}}let st,at=null;const ut=new i.r("TRANSITION_ID"),ct=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[ut,s,i.s],multi:!0}];class lt{static init(){Object(i.Z)(new lt)}addToWindow(t){i.qb.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},i.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.qb.getAllAngularRootElements=()=>t.getAllRootElements(),i.qb.frameworkStabilizers||(i.qb.frameworkStabilizers=[]),i.qb.frameworkStabilizers.push(t=>{const e=i.qb.getAllAngularTestabilities();let n=e.length,r=!1;const o=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const ht=new i.r("EventManagerPlugins");let dt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(ht),i.Yb(i.A))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();class ft{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=o().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let pt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),mt=(()=>{class t extends pt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(s))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},vt=/%COMP%/g;function bt(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?bt(t,r,n):(r=r.replace(vt,t),n.push(r))}return n}function yt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let _t=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new wt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Ct(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.S.ShadowDom:return new Ot(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=bt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(dt),i.Yb(mt),i.Yb(i.c))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();class wt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(gt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=gt[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=gt[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.H.DashCase|i.H.Important)?t.style.setProperty(e,n,r&i.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,yt(n)):this.eventManager.addEventListener(t,e,yt(n))}}class Ct extends wt{constructor(t,e,n,i){super(t),this.component=n;const r=bt(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(vt,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(vt,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Ot extends wt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=bt(i.id,i.styles,[]);for(let o=0;o<r.length;o++){const t=document.createElement("style");t.textContent=r[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Et=(()=>{class t extends ft{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(s))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const St=["alt","control","meta","shift"],Tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},It={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let kt=(()=>{class t extends ft{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),s=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let o="";if(St.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=r,0!=n.length||0===r.length)return null;const s={};return s.domEventName=i,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&xt.hasOwnProperty(e)&&(e=xt[e]))}return Tt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),St.forEach(i=>{i!=n&&(0,It[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(s))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),At=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Kb)({factory:function(){return Object(i.Yb)(Dt)},token:t,providedIn:"root"}),t})(),Dt=(()=>{class t extends At{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.J.NONE:return e;case i.J.HTML:return Object(i.fb)(e,"HTML")?Object(i.yb)(e):Object(i.db)(this._doc,String(e)).toString();case i.J.STYLE:return Object(i.fb)(e,"Style")?Object(i.yb)(e):e;case i.J.SCRIPT:if(Object(i.fb)(e,"Script"))return Object(i.yb)(e);throw new Error("unsafe value used in a script context");case i.J.URL:return Object(i.pb)(e),Object(i.fb)(e,"URL")?Object(i.yb)(e):Object(i.eb)(String(e));case i.J.RESOURCE_URL:if(Object(i.fb)(e,"ResourceURL"))return Object(i.yb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(i.gb)(t)}bypassSecurityTrustStyle(t){return Object(i.jb)(t)}bypassSecurityTrustScript(t){return Object(i.ib)(t)}bypassSecurityTrustUrl(t){return Object(i.kb)(t)}bypassSecurityTrustResourceUrl(t){return Object(i.hb)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(s))},t.\u0275prov=Object(i.Kb)({factory:function(){return t=Object(i.Yb)(i.o),new Dt(t.get(s));var t},token:t,providedIn:"root"}),t})();const Rt=[{provide:i.C,useValue:"browser"},{provide:i.D,useValue:function(){ot.makeCurrent(),lt.init()},multi:!0},{provide:s,useFactory:function(){return Object(i.wb)(document),document},deps:[]}],Pt=Object(i.T)(i.Y,"browser",Rt),Nt=[[],{provide:i.bb,useValue:"root"},{provide:i.m,useFactory:function(){return new i.m},deps:[]},{provide:ht,useClass:Et,multi:!0,deps:[s,i.A,i.C]},{provide:ht,useClass:kt,multi:!0,deps:[s]},[],{provide:_t,useClass:_t,deps:[dt,mt,i.c]},{provide:i.G,useExisting:_t},{provide:pt,useExisting:mt},{provide:mt,useClass:mt,deps:[s]},{provide:i.N,useClass:i.N,deps:[i.A]},{provide:dt,useClass:dt,deps:[ht,i.A]},[]];let jt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:ut,useExisting:i.c},ct]}}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(t,12))},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:Nt,imports:[tt,i.f]}),t})();"undefined"!=typeof window&&window;var Lt=n("Cfvw"),Ft=n("LRne"),Mt=n("XNiG"),Vt=n("9ppp");class Ut extends Mt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Vt.a;return this._value}next(t){super.next(this._value=t)}}var Bt=n("z+Ro"),Ht=n("DH7j"),qt=n("7o/Q");class zt extends qt.a{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Kt extends qt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Wt=n("SeVD"),Gt=n("HDdC");function Yt(t,e,n,i,r=new Kt(t,n,i)){if(!r.closed)return e instanceof Gt.a?e.subscribe(r):Object(Wt.a)(e)(r)}var $t=n("yCtX");const Qt={};function Xt(...t){let e,n;return Object(Bt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Ht.a)(t[0])&&(t=t[0]),Object($t.a)(t,n).lift(new Jt(e))}class Jt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Zt(t,this.resultSelector))}}class Zt extends zt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Qt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Yt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,r=this.toRespond?i[n]===Qt?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const te=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var ee=n("bHdf");function ne(...t){return Object(ee.a)(1)(Object(Ft.a)(...t))}var ie=n("EY2u");function re(t){return new Gt.a(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(Lt.a)(n):Object(ie.b)()).subscribe(e)})}var oe=n("EQ5u"),se=n("lJxs"),ae=n("zx2A");function ue(t,e){return"function"==typeof e?n=>n.pipe(ue((n,i)=>Object(Lt.a)(t(n,i)).pipe(Object(se.a)((t,r)=>e(n,t,i,r))))):e=>e.lift(new ce(t))}class ce{constructor(t){this.project=t}call(t,e){return e.subscribe(new le(t,this.project))}}class le extends ae.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new ae.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(ae.c)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const he=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function de(t){return e=>0===t?Object(ie.b)():e.lift(new fe(t))}class fe{constructor(t){if(this.total=t,this.total<0)throw new he}call(t,e){return e.subscribe(new pe(t,this.total))}}class pe extends qt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function me(...t){const e=t[t.length-1];return Object(Bt.a)(e)?(t.pop(),n=>ne(t,n,e)):e=>ne(t,e)}function ge(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new ve(t,e,n))}}class ve{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new be(t,this.accumulator,this.seed,this.hasSeed))}}class be extends qt.a{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function ye(t,e){return function(n){return n.lift(new _e(t,e))}}class _e{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new we(t,this.predicate,this.thisArg))}}class we extends qt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Ce(t){return function(e){const n=new Oe(t),i=e.lift(n);return n.caught=i}}class Oe{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ee(t,this.selector,this.caught))}}class Ee extends ae.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new ae.a(this);this.add(i);const r=Object(ae.c)(n,i);r!==i&&this.add(r)}}}var Se=n("5+tZ");function Te(t,e){return Object(Se.a)(t,e,1)}function xe(t){return function(e){return 0===t?Object(ie.b)():e.lift(new Ie(t))}}class Ie{constructor(t){if(this.total=t,this.total<0)throw new he}call(t,e){return e.subscribe(new ke(t,this.total))}}class ke extends qt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function Ae(t=Pe){return e=>e.lift(new De(t))}class De{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Re(t,this.errorFactory))}}class Re extends qt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(x_){t=x_}this.destination.error(t)}}}function Pe(){return new te}function Ne(t=null){return e=>e.lift(new je(t))}class je{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Le(t,this.defaultValue))}}class Le extends qt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Fe=n("SpAZ");function Me(t,e){const n=arguments.length>=2;return i=>i.pipe(t?ye((e,n)=>t(e,n,i)):Fe.a,de(1),n?Ne(e):Ae(()=>new te))}var Ve=n("vkgz"),Ue=n("x+ZX"),Be=n("quSY");function He(t){return e=>e.lift(new qe(t))}class qe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ze(t,this.callback))}}class ze extends qt.a{constructor(t,e){super(t),this.add(new Be.a(e))}}class Ke{constructor(t,e){this.id=t,this.url=e}}class We extends Ke{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ge extends Ke{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ye extends Ke{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $e extends Ke{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qe extends Ke{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xe extends Ke{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Je extends Ke{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ze extends Ke{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tn extends Ke{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class en{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nn{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class on{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class an{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class un{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const cn="primary";class ln{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function hn(t){return new ln(t)}function dn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function fn(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const e=i[o],n=t[o];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function pn(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!mn(t[r],e[r]))return!1;return!0}function mn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function gn(t){return Array.prototype.concat.apply([],t)}function vn(t){return t.length>0?t[t.length-1]:null}function bn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function yn(t){return Object(i.sb)(t)?t:Object(i.tb)(t)?Object(Lt.a)(Promise.resolve(t)):Object(Ft.a)(t)}function _n(t,e,n){return n?function(t,e){return pn(t,e)}(t.queryParams,e.queryParams)&&wn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>mn(t[n],e[n]))}(t.queryParams,e.queryParams)&&Cn(t.root,e.root)}function wn(t,e){if(!xn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!wn(t.children[n],e.children[n]))return!1}return!0}function Cn(t,e){return On(t,e,e.segments)}function On(t,e,n){if(t.segments.length>n.length)return!!xn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!xn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Cn(t.children[n],e.children[n]))return!1}return!0}{const i=n.slice(0,t.segments.length),r=n.slice(t.segments.length);return!!xn(t.segments,i)&&!!t.children.primary&&On(t.children.primary,e,r)}}class En{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hn(this.queryParams)),this._queryParamMap}toString(){return An.serialize(this)}}class Sn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,bn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dn(this)}}class Tn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=hn(this.parameters)),this._parameterMap}toString(){return Mn(this)}}function xn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class In{}class kn{parse(t){const e=new qn(t);return new En(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Rn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Nn(e)}=${Nn(t)}`).join("&"):`${Nn(e)}=${Nn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const An=new kn;function Dn(t){return t.segments.map(t=>Mn(t)).join("/")}function Rn(t,e){if(!t.hasChildren())return Dn(t);if(e){const e=t.children.primary?Rn(t.children.primary,!1):"",n=[];return bn(t.children,(t,e)=>{e!==cn&&n.push(`${e}:${Rn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return bn(t.children,(t,i)=>{i===cn&&(n=n.concat(e(t,i)))}),bn(t.children,(t,i)=>{i!==cn&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>n===cn?[Rn(t.children.primary,!1)]:[`${n}:${Rn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Dn(t)}/${e[0]}`:`${Dn(t)}/(${e.join("//")})`}}function Pn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nn(t){return Pn(t).replace(/%3B/gi,";")}function jn(t){return Pn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ln(t){return decodeURIComponent(t)}function Fn(t){return Ln(t.replace(/\+/g,"%20"))}function Mn(t){return`${jn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${jn(t)}=${jn(e[t])}`).join("")}`;var e}const Vn=/^[^\/()?;=#]+/;function Un(t){const e=t.match(Vn);return e?e[0]:""}const Bn=/^[^=?&#]+/,Hn=/^[^?&#]+/;class qn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sn([],{}):new Sn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Sn(t,e)),n}parseSegment(){const t=Un(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Tn(Ln(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Un(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Un(this.remaining);t&&(n=t,this.capture(n))}t[Ln(e)]=Ln(n)}parseQueryParam(t){const e=function(t){const e=t.match(Bn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Hn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Fn(e),r=Fn(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Un(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=cn);const o=this.parseChildren();e[r]=1===Object.keys(o).length?o.primary:new Sn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class zn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Kn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Kn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Wn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Wn(t,this._root).map(t=>t.value)}}function Kn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Kn(t,n);if(e)return e}return null}function Wn(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Wn(t,n);if(i.length)return i.unshift(e),i}return[]}class Gn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Yn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class $n extends zn{constructor(t,e){super(t),this.snapshot=e,ei(this,t)}toString(){return this.snapshot.toString()}}function Qn(t,e){const n=function(t,e){const n=new Zn([],{},{},"",{},cn,e,null,t.root,-1,{});return new ti("",new Gn(n,[]))}(t,e),i=new Ut([new Tn("",{})]),r=new Ut({}),o=new Ut({}),s=new Ut({}),a=new Ut(""),u=new Xn(i,r,s,a,o,cn,e,n.root);return u.snapshot=n.root,new $n(new Gn(u,[]),n)}class Xn{constructor(t,e,n,i,r,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(se.a)(t=>hn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(se.a)(t=>hn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jn(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Zn{constructor(t,e,n,i,r,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ti extends zn{constructor(t,e){super(e),this.url=t,ei(this,e)}toString(){return ni(this._root)}}function ei(t,e){e.value._routerState=t,e.children.forEach(e=>ei(t,e))}function ni(t){const e=t.children.length>0?` { ${t.children.map(ni).join(", ")} } `:"";return`${t.value}${e}`}function ii(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),pn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!pn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),pn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ri(t,e){return pn(t.params,e.params)&&function(t,e){return xn(t,e)&&t.every((t,n)=>pn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ri(t.parent,e.parent))}function oi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return oi(t,e,i);return oi(t,e)})}(t,e,n);return new Gn(i,r)}{const n=t.retrieve(e.value);if(n){const t=n.route;return si(e,t),t}{const n=new Xn(new Ut((i=e.value).url),new Ut(i.params),new Ut(i.queryParams),new Ut(i.fragment),new Ut(i.data),i.outlet,i.component,i),r=e.children.map(e=>oi(t,e));return new Gn(n,r)}}var i}function si(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)si(t.children[n],e.children[n])}function ai(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ui(t){return"object"==typeof t&&null!=t&&t.outlets}function ci(t,e,n,i,r){let o={};return i&&bn(i,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new En(n.root===t?e:li(n.root,t,e),o,r)}function li(t,e,n){const i={};return bn(t.children,(t,r)=>{i[r]=t===e?n:li(t,e,n)}),new Sn(t.segments,i)}class hi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ai(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(ui);if(i&&i!==vn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class di{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function fi(t,e,n){if(t||(t=new Sn([],{})),0===t.segments.length&&t.hasChildren())return pi(t,e,n);const i=function(t,e,n){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;const e=t.segments[r],s=n[i];if(ui(s))break;const a=`${s}`,u=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!bi(a,u,e))return o;i+=2}else{if(!bi(a,{},e))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new Sn(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new Sn(t.segments.slice(i.pathIndex),t.children),pi(e,0,r)}return i.match&&0===r.length?new Sn(t.segments,{}):i.match&&!t.hasChildren()?mi(t,e,n):i.match?pi(t,0,r):mi(t,e,n)}function pi(t,e,n){if(0===n.length)return new Sn(t.segments,{});{const i=function(t){return ui(t[0])?t[0].outlets:{[cn]:t}}(n),r={};return bn(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=fi(t.children[i],e,n))}),bn(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new Sn(t.segments,r)}}function mi(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const o=n[r];if(ui(o)){const t=gi(o.outlets);return new Sn(i,t)}if(0===r&&ai(n[0])){i.push(new Tn(t.segments[e].path,vi(n[0]))),r++;continue}const s=ui(o)?o.outlets.primary:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&ai(a)?(i.push(new Tn(s,vi(a))),r+=2):(i.push(new Tn(s,{})),r++)}return new Sn(i,{})}function gi(t){const e={};return bn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=mi(new Sn([],{}),0,t))}),e}function vi(t){const e={};return bn(t,(t,n)=>e[n]=`${t}`),e}function bi(t,e,n){return t==n.path&&pn(e,n.parameters)}class yi{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ii(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Yn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),bn(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=Yn(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const i=Yn(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new an(t.value.snapshot))}),t.children.length&&this.forwardEvent(new on(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(ii(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),_i(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function _i(t){ii(t.value),t.children.forEach(_i)}class wi{constructor(t,e){this.routes=t,this.module=e}}function Ci(t){return"function"==typeof t}function Oi(t){return t instanceof En}const Ei=Symbol("INITIAL_VALUE");function Si(){return ue(t=>Xt(t.map(t=>t.pipe(de(1),me(Ei)))).pipe(ge((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==Ei)return t;if(i===Ei&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||Oi(i))return i}return t},t)},Ei),ye(t=>t!==Ei),Object(se.a)(t=>Oi(t)?t:!0===t),de(1)))}let Ti=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Pb(0,"router-outlet")},directives:function(){return[vr]},encapsulation:2}),t})();function xi(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];Ii(i,ki(e,i))}}function Ii(t,e){t.children&&xi(t.children,e)}function ki(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ai(t){const e=t.children&&t.children.map(Ai),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==cn&&(n.component=Ti),n}function Di(t){return t.outlet||cn}function Ri(t,e){const n=t.filter(t=>Di(t)===e);return n.push(...t.filter(t=>Di(t)!==e)),n}const Pi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ni(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Pi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||fn)(n,t,e);if(!r)return Object.assign({},Pi);const o={};bn(r.posParams,(t,e)=>{o[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function ji(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Li(t,e,n)&&Di(n)!==cn)}(t,n,i)){const r=new Sn(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Di(o)!==cn){const n=new Sn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[Di(o)]=n}return r}(t,e,i,new Sn(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Li(t,e,n))}(t,n,i)){const o=new Sn(t.segments,function(t,e,n,i,r,o){const s={};for(const a of i)if(Li(t,n,a)&&!r[Di(a)]){const n=new Sn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Di(a)]=n}return Object.assign(Object.assign({},r),s)}(t,e,n,i,t.children,r));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Sn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Li(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Fi(t,e,n,i){return!!(Di(t)===i||i!==cn&&Li(e,n,t))&&("**"===t.path||Ni(e,t,n).matched)}function Mi(t,e,n){return 0===e.length&&!t.children[n]}class Vi{constructor(t){this.segmentGroup=t||null}}class Ui{constructor(t){this.urlTree=t}}function Bi(t){return new Gt.a(e=>e.error(new Vi(t)))}function Hi(t){return new Gt.a(e=>e.error(new Ui(t)))}function qi(t){return new Gt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class zi{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.y)}apply(){const t=ji(this.urlTree.root,[],[],this.config).segmentGroup,e=new Sn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,cn).pipe(Object(se.a)(t=>this.createUrlTree(Ki(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ce(t=>{if(t instanceof Ui)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Vi)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,cn).pipe(Object(se.a)(e=>this.createUrlTree(Ki(e),t.queryParams,t.fragment))).pipe(Ce(t=>{if(t instanceof Vi)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new Sn([],{[cn]:t}):t;return new En(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(se.a)(t=>new Sn([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return Object(Lt.a)(i).pipe(Te(i=>{const r=n.children[i],o=Ri(e,i);return this.expandSegmentGroup(t,o,r,i).pipe(Object(se.a)(t=>({segment:t,outlet:i})))}),ge((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?ye((e,n)=>t(e,n,i)):Fe.a,xe(1),n?Ne(e):Ae(()=>new te))}())}expandSegment(t,e,n,i,r,o){return Object(Lt.a)(n).pipe(Te(s=>this.expandSegmentAgainstRoute(t,e,n,s,i,r,o).pipe(Ce(t=>{if(t instanceof Vi)return Object(Ft.a)(null);throw t}))),Me(t=>!!t),Ce((t,n)=>{if(t instanceof te||"EmptyError"===t.name){if(Mi(e,i,r))return Object(Ft.a)(new Sn([],{}));throw new Vi(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,r,o,s){return Fi(i,e,r,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):Bi(e):Bi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Hi(r):this.lineralizeSegments(n,r).pipe(Object(Se.a)(n=>{const r=new Sn(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Ni(e,i,r);if(!s)return Bi(e);const l=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?Hi(l):this.lineralizeSegments(i,l).pipe(Object(Se.a)(i=>this.expandSegment(t,e,n,i.concat(r.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,i,r){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Ft.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(se.a)(t=>(n._loadedConfig=t,new Sn(i,{})))):Object(Ft.a)(new Sn(i,{}));const{matched:o,consumedSegments:s,lastChild:a}=Ni(e,n,i);if(!o)return Bi(e);const u=i.slice(a);return this.getChildConfig(t,n,i).pipe(Object(Se.a)(t=>{const i=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=ji(e,s,u,o),l=new Sn(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(i,o,l).pipe(Object(se.a)(t=>new Sn(s,t)));if(0===o.length&&0===c.length)return Object(Ft.a)(new Sn(s,{}));const h=Di(n)===r;return this.expandSegment(i,l,o,c,h?cn:r,!0).pipe(Object(se.a)(t=>new Sn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ft.a)(new wi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ft.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Se.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(se.a)(t=>(e._loadedConfig=t,t))):function(t){return new Gt.a(e=>e.error(dn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ft.a)(new wi([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;if(!i||0===i.length)return Object(Ft.a)(!0);const r=i.map(i=>{const r=t.get(i);let o;if(function(t){return t&&Ci(t.canLoad)}(r))o=r.canLoad(e,n);else{if(!Ci(r))throw new Error("Invalid CanLoad guard");o=r(e,n)}return yn(o)});return Object(Ft.a)(r).pipe(Si(),Object(Ve.a)(t=>{if(!Oi(t))return;const e=dn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(se.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(Ft.a)(n);if(i.numberOfChildren>1||!i.children.primary)return qi(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new En(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return bn(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let o={};return bn(e.children,(e,r)=>{o[r]=this.createSegmentGroup(t,e,n,i)}),new Sn(r,o)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Ki(t){const e={};for(const n of Object.keys(t.children)){const i=Ki(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Sn(t.segments.concat(e.segments),e.children)}return t}(new Sn(t.segments,e))}class Wi{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Gi{constructor(t,e){this.component=t,this.route=e}}function Yi(t,e,n){const i=t._root;return Qi(i,e?e._root:null,n,[i.value])}function $i(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Qi(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Yn(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!xn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xn(t.url,e.url)||!pn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ri(t,e)||!pn(t.queryParams,e.queryParams);case"paramsChange":default:return!ri(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new Wi(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Qi(t,e,o.component?a?a.children:null:n,i,r),u&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Gi(a.outlet.component,s))}else s&&Xi(e,a,r),r.canActivateChecks.push(new Wi(i)),Qi(t,null,o.component?a?a.children:null:n,i,r)}(t,o[t.value.outlet],n,i.concat([t.value]),r),delete o[t.value.outlet]}),bn(o,(t,e)=>Xi(t,n.getContext(e),r)),r}function Xi(t,e,n){const i=Yn(t),r=t.value;bn(i,(t,i)=>{Xi(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Gi(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class Ji{}function Zi(t){return new Gt.a(e=>e.error(t))}class tr{constructor(t,e,n,i,r,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){const t=ji(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,cn);if(null===e)return null;const n=new Zn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Gn(n,e),r=new ti(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=Jn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const i=e.children[r],o=Ri(t,r),s=this.processSegmentGroup(o,i,r);if(null===s)return null;n.push(...s)}const i=function(t){const e=[];for(const n of t){if(!er(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return i.sort((t,e)=>t.value.outlet===cn?-1:e.value.outlet===cn?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,n,i);if(null!==t)return t}return Mi(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!Fi(t,e,n,i))return null;let r,o=[],s=[];if("**"===t.path){const i=n.length>0?vn(n).parameters:{};r=new Zn(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rr(t),Di(t),t.component,t,nr(e),ir(e)+n.length,or(t))}else{const i=Ni(e,t,n);if(!i.matched)return null;o=i.consumedSegments,s=n.slice(i.lastChild),r=new Zn(o,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rr(t),Di(t),t.component,t,nr(e),ir(e)+o.length,or(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=ji(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Gn(r,t)]}if(0===a.length&&0===c.length)return[new Gn(r,[])];const l=Di(t)===i,h=this.processSegment(a,u,c,l?cn:i);return null===h?null:[new Gn(r,h)]}}function er(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function nr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ir(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function rr(t){return t.data||{}}function or(t){return t.resolve||{}}function sr(t){return ue(e=>{const n=t(e);return n?Object(Lt.a)(n).pipe(Object(se.a)(()=>e)):Object(Ft.a)(e)})}class ar extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ur=new i.r("ROUTES");class cr{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(se.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new wi(gn(r.injector.get(ur,void 0,i.q.Self|i.q.Optional)).map(Ai),r)}),Ce(t=>{throw e._loader$=void 0,t}));return e._loader$=new oe.a(n,()=>new Mt.a).pipe(Object(Ue.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(Lt.a)(this.loader.load(t)):yn(t()).pipe(Object(Se.a)(t=>t instanceof i.w?Object(Ft.a)(t):Object(Lt.a)(this.compiler.compileModuleAsync(t))))}}class lr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hr,this.attachRef=null}}class hr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new lr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class dr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function fr(t){throw t}function pr(t,e,n){return e.parse("/")}function mr(t,e){return Object(Ft.a)(null)}let gr=(()=>{class t{constructor(t,e,n,r,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Mt.a,this.errorHandler=fr,this.malformedUriErrorHandler=pr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mr,afterPreactivation:mr},this.urlHandlingStrategy=new dr,this.routeReuseStrategy=new ar,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(i.y),this.console=o.get(i.ab);const c=o.get(i.A);this.isNgZoneEnabled=c instanceof i.A&&i.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new En(new Sn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new cr(s,a,t=>this.triggerEvent(new en(t)),t=>this.triggerEvent(new nn(t))),this.routerState=Qn(this.currentUrlTree,this.rootComponentType),this.transitions=new Ut({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ye(t=>0!==t.id),Object(se.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ue(t=>{let n=!1,i=!1;return Object(Ft.a)(t).pipe(Object(Ve.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ue(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ft.a)(t).pipe(ue(t=>{const n=this.transitions.getValue();return e.next(new We(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?ie.a:Promise.resolve(t)}),(i=this.ngModule.injector,r=this.configLoader,o=this.urlSerializer,s=this.config,ue(t=>function(t,e,n,i,r){return new zi(t,e,n,i,r).apply()}(i,r,o,t.extractedUrl,s).pipe(Object(se.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Ve.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return Object(Se.a)(o=>function(t,e,n,i,r="emptyOnly",o="legacy"){try{const s=new tr(t,e,n,i,r,o).recognize();return null===s?Zi(new Ji):Object(Ft.a)(s)}catch(x_){return Zi(x_)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),i,r).pipe(Object(se.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ve.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:o,extras:s}=t,a=new We(n,this.serializeUrl(i),r,o);e.next(a);const u=Qn(i,this.rootComponentType).snapshot;return Object(Ft.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:i,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ie.a}),sr(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Ve.a)(t=>{const e=new Xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(se.a)(t=>Object.assign(Object.assign({},t),{guards:Yi(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Se.a)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Ft.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return Object(Lt.a)(t).pipe(Object(Se.a)(t=>function(t,e,n,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Ft.a)(!0);const s=o.map(o=>{const s=$i(o,e,r);let a;if(function(t){return t&&Ci(t.canDeactivate)}(s))a=yn(s.canDeactivate(t,e,n,i));else{if(!Ci(s))throw new Error("Invalid CanDeactivate guard");a=yn(s(t,e,n,i))}return a.pipe(Me())});return Object(Ft.a)(s).pipe(Si())}(t.component,t.route,n,e,i)),Me(t=>!0!==t,!0))}(s,i,r,t).pipe(Object(Se.a)(n=>n&&"boolean"==typeof n?function(t,e,n,i){return Object(Lt.a)(e).pipe(Te(e=>ne(function(t,e){return null!==t&&e&&e(new rn(t)),Object(Ft.a)(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new sn(t)),Object(Ft.a)(!0)}(e.route,i),function(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>re(()=>{const r=e.guards.map(r=>{const o=$i(r,e.node,n);let s;if(function(t){return t&&Ci(t.canActivateChild)}(o))s=yn(o.canActivateChild(i,t));else{if(!Ci(o))throw new Error("Invalid CanActivateChild guard");s=yn(o(i,t))}return s.pipe(Me())});return Object(Ft.a)(r).pipe(Si())}));return Object(Ft.a)(r).pipe(Si())}(t,e.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Object(Ft.a)(!0);const r=i.map(i=>re(()=>{const r=$i(i,e,n);let o;if(function(t){return t&&Ci(t.canActivate)}(r))o=yn(r.canActivate(e,t));else{if(!Ci(r))throw new Error("Invalid CanActivate guard");o=yn(r(e,t))}return o.pipe(Me())}));return Object(Ft.a)(r).pipe(Si())}(t,e.route,n))),Me(t=>!0!==t,!0))}(i,o,t,e):Object(Ft.a)(n)),Object(se.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ve.a)(t=>{if(Oi(t.guardsResult)){const e=dn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ye(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ye(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),sr(t=>{if(t.guards.canActivateChecks.length)return Object(Ft.a)(t).pipe(Object(Ve.a)(t=>{const e=new Ze(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),ue(t=>{let n=!1;return Object(Ft.a)(t).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,Object(Se.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ft.a)(t);let o=0;return Object(Lt.a)(n).pipe(Te(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Object(Ft.a)({});const o={};return Object(Lt.a)(r).pipe(Object(Se.a)(r=>function(t,e,n,i){const r=$i(t,e,i);return yn(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(Object(Ve.a)(t=>{o[r]=t}))),xe(1),Object(Se.a)(()=>Object.keys(o).length===r.length?Object(Ft.a)(o):ie.a))}(t._resolve,t,e,i).pipe(Object(se.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Jn(t,n).resolve),null)))}(t.route,e,i,r)),Object(Ve.a)(()=>o++),xe(1),Object(Se.a)(e=>o===n.length?Object(Ft.a)(t):ie.a))})),Object(Ve.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ye(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var i,r}),Object(Ve.a)(t=>{const e=new tn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),sr(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),Object(se.a)(t=>{const e=function(t,e,n){const i=oi(t,e._root,n?n._root:void 0);return new $n(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ve.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(se.a)(t=>(new yi(o,t.targetRouterState,t.currentRouterState,s).activate(r),t))),Object(Ve.a)({next(){n=!0},complete(){n=!0}}),He(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Ye(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Ce(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=Oi(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Ye(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new $e(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch($h){t.reject($h)}}var r;return ie.a}));var r,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){xi(t),this.config=t.map(Ai),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:r;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,r){if(0===n.length)return ci(e.root,e.root,e,i,r);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hi(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return bn(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new hi(n,e,i)}(n);if(o.toRoot())return ci(e.root,new Sn([],{}),e,i,r);const s=function(t,e,n){if(t.isAbsolute)return new di(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new di(t,t===e.root,0)}const i=ai(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new di(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?pi(s.segmentGroup,s.index,o.commands):fi(s.segmentGroup,s.index,o.commands);return ci(s.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Oi(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(x_){e=this.malformedUriErrorHandler(x_,this.urlSerializer,t)}return e}isActive(t,e){if(Oi(t))return _n(this.currentUrlTree,t,e);const n=this.parseUrl(t);return _n(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ge(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;r?(u=r.resolve,c=r.reject,l=r.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.O),i.Yb(In),i.Yb(hr),i.Yb(w),i.Yb(i.s),i.Yb(i.x),i.Yb(i.i),i.Yb(void 0))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),vr=(()=>{class t{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||cn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new br(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(hr),i.Ob(i.R),i.Ob(i.j),i.Zb("name"),i.Ob(i.h))},t.\u0275dir=i.Jb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class br{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Xn?this.route:t===hr?this.childContexts:this.parent.get(t,e)}}class yr{}class _r{preload(t,e){return Object(Ft.a)(null)}}let wr=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new cr(e,n,e=>t.triggerEvent(new en(e)),e=>t.triggerEvent(new nn(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ye(t=>t instanceof Ge),Te(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return Object(Lt.a)(n).pipe(Object(ee.a)(),Object(se.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Ft.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(Se.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(gr),i.Yb(i.x),i.Yb(i.i),i.Yb(i.s),i.Yb(yr))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),Cr=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof We?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ge&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof un&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new un(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(gr),i.Yb(nt),i.Yb(void 0))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const Or=new i.r("ROUTER_CONFIGURATION"),Er=new i.r("ROUTER_FORROOT_GUARD"),Sr=[w,{provide:In,useClass:kn},{provide:gr,useFactory:function(t,e,n,i,r,s,a,u={},c,l){const h=new gr(null,t,e,n,i,r,s,gn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[In,hr,w,i.s,i.x,i.i,ur,Or,[class{},new i.B],[class{},new i.B]]},hr,{provide:Xn,useFactory:function(t){return t.routerState.root},deps:[gr]},{provide:i.x,useClass:i.L},wr,_r,class{preload(t,e){return e().pipe(Ce(()=>Object(Ft.a)(null)))}},{provide:Or,useValue:{enableTracing:!1}}];function Tr(){return new i.z("Router",gr)}let xr=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Sr,Dr(e),{provide:Er,useFactory:Ar,deps:[[gr,new i.B,new i.K]]},{provide:Or,useValue:n||{}},{provide:g,useFactory:kr,deps:[a,[new i.p(b),new i.B],Or]},{provide:Cr,useFactory:Ir,deps:[gr,nt,Or]},{provide:yr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:_r},{provide:i.z,multi:!0,useFactory:Tr},[Rr,{provide:i.d,multi:!0,useFactory:Pr,deps:[Rr]},{provide:jr,useFactory:Nr,deps:[Rr]},{provide:i.b,multi:!0,useExisting:jr}]]}}static forChild(e){return{ngModule:t,providers:[Dr(e)]}}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(Er,8),i.Yb(gr,8))},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({}),t})();function Ir(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Cr(t,e,n)}function kr(t,e,n={}){return n.useHash?new _(t,e):new y(t,e)}function Ar(t){return"guarded"}function Dr(t){return[{provide:i.a,multi:!0,useValue:t},{provide:ur,multi:!0,useValue:t}]}let Rr=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Mt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(gr),i=this.injector.get(Or);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ft.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Or),n=this.injector.get(wr),r=this.injector.get(Cr),o=this.injector.get(gr),s=this.injector.get(i.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.s))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();function Pr(t){return t.appInitializer.bind(t)}function Nr(t){return t.bootstrapListener.bind(t)}const jr=new i.r("Router Initializer");let Lr=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["app-contacto"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Ub(0,"p"),i.zc(1,"contacto works!"),i.Tb())},styles:[""]}),t})();var Fr=n("mrSG"),Mr=n("XoHu");function Vr(...t){if(1===t.length){const e=t[0];if(Object(Ht.a)(e))return Ur(e,null);if(Object(Mr.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ur(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ur(t=1===t.length&&Object(Ht.a)(t[0])?t[0]:t,null).pipe(Object(se.a)(t=>e(...t)))}return Ur(t,null)}function Ur(t,e){return new Gt.a(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let o=0,s=0;for(let a=0;a<i;a++){const u=Object(Lt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),r[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==i&&c||(s===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}class Br{}const Hr=new i.r("NgValueAccessor"),qr={provide:Hr,useExisting:Object(i.V)(()=>Kr),multi:!0},zr=new i.r("CompositionEventMode");let Kr=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.F),i.Ob(i.l),i.Ob(zr,8))},t.\u0275dir=i.Jb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.bc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[i.Bb([qr])]}),t})();function Wr(t){return null==t||0===t.length}function Gr(t){return null!=t&&"number"==typeof t.length}const Yr=new i.r("NgValidators"),$r=new i.r("NgAsyncValidators"),Qr=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xr{static min(t){return function(t){return e=>{if(Wr(e.value)||Wr(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(Wr(e.value)||Wr(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return Wr(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return Wr(t.value)||Qr.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>Wr(e.value)||!Gr(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return Jr(t)}static pattern(t){return function(t){if(!t)return Zr;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Wr(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return oo(t)}static composeAsync(t){return ao(t)}}function Jr(t){return e=>Gr(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Zr(t){return null}function to(t){return null!=t}function eo(t){const e=Object(i.tb)(t)?Object(Lt.a)(t):t;return Object(i.sb)(e),e}function no(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function io(t,e){return e.map(e=>e(t))}function ro(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function oo(t){if(!t)return null;const e=t.filter(to);return 0==e.length?null:function(t){return no(io(t,e))}}function so(t){return null!=t?oo(ro(t)):null}function ao(t){if(!t)return null;const e=t.filter(to);return 0==e.length?null:function(t){return Vr(io(t,e).map(eo)).pipe(Object(se.a)(no))}}function uo(t){return null!=t?ao(ro(t)):null}function co(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function lo(t){return t._rawValidators}function ho(t){return t._rawAsyncValidators}let fo=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=so(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=uo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t}),t})(),po=(()=>{class t extends fo{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return mo(e||t)},t.\u0275dir=i.Jb({type:t,features:[i.zb]}),t})();const mo=i.Wb(po);class go extends fo{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vo{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let bo=(()=>{class t extends vo{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(go,2))},t.\u0275dir=i.Jb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[i.zb]}),t})(),yo=(()=>{class t extends vo{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(po,10))},t.\u0275dir=i.Jb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[i.zb]}),t})();function _o(t,e){return[...e.path,t]}function wo(t,e){Eo(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&To(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&To(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Co(t,e,n=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),So(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Oo(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Eo(t,e,n){const i=lo(t);null!==e.validator?t.setValidators(co(i,e.validator)):"function"==typeof i&&t.setValidators([i]);const r=ho(t);if(null!==e.asyncValidator?t.setAsyncValidators(co(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]),n){const n=()=>t.updateValueAndValidity();Oo(e._rawValidators,n),Oo(e._rawAsyncValidators,n)}}function So(t,e,n){let i=!1;if(null!==t){if(null!==e.validator){const n=lo(t);if(Array.isArray(n)&&n.length>0){const r=n.filter(t=>t!==e.validator);r.length!==n.length&&(i=!0,t.setValidators(r))}}if(null!==e.asyncValidator){const n=ho(t);if(Array.isArray(n)&&n.length>0){const r=n.filter(t=>t!==e.asyncValidator);r.length!==n.length&&(i=!0,t.setAsyncValidators(r))}}}if(n){const t=()=>{};Oo(e._rawValidators,t),Oo(e._rawAsyncValidators,t)}return i}function To(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function xo(t,e){Eo(t,e,!1)}function Io(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function ko(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Ao(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(t=>{t.constructor===Kr?n=t:Object.getPrototypeOf(t.constructor)===Br?i=t:r=t}),r||i||n||null}function Do(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ro="VALID",Po="INVALID",No="PENDING",jo="DISABLED";function Lo(t){return(Uo(t)?t.validators:t)||null}function Fo(t){return Array.isArray(t)?so(t):t||null}function Mo(t,e){return(Uo(e)?e.asyncValidators:t)||null}function Vo(t){return Array.isArray(t)?uo(t):t||null}function Uo(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Bo{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Fo(this._rawValidators),this._composedAsyncValidatorFn=Vo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ro}get invalid(){return this.status===Po}get pending(){return this.status==No}get disabled(){return this.status===jo}get enabled(){return this.status!==jo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Fo(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Vo(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=No,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=jo,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ro,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Ro&&this.status!==No||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jo:Ro}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=No,this._hasOwnPendingAsyncValidator=!0;const e=eo(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof qo?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof zo&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.n,this.statusChanges=new i.n}_calculateStatus(){return this._allControlsDisabled()?jo:this.errors?Po:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(No)?No:this._anyControlsHaveStatus(Po)?Po:Ro}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Uo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ho extends Bo{constructor(t=null,e,n){super(Lo(e),Mo(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Do(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Do(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class qo extends Bo{constructor(t,e,n){super(Lo(e),Mo(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ho?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class zo extends Bo{constructor(t,e,n){super(Lo(e),Mo(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ho?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ko={provide:po,useExisting:Object(i.V)(()=>Go)},Wo=(()=>Promise.resolve(null))();let Go=(()=>{class t extends po{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.n,this.form=new qo({},so(t),uo(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Wo.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),wo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Wo.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Do(this._directives,t)})}addFormGroup(t){Wo.then(()=>{const e=this._findContainer(t.path),n=new qo({});xo(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Wo.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Wo.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,ko(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(Yr,10),i.Ob($r,10))},t.\u0275dir=i.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&i.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Bb([Ko]),i.zb]}),t})();const Yo={provide:go,useExisting:Object(i.V)(()=>Qo)},$o=(()=>Promise.resolve(null))();let Qo=(()=>{class t extends go{constructor(t,e,n,r){super(),this.control=new Ho,this._registered=!1,this.update=new i.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Ao(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Io(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?_o(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){$o.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;$o.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(po,9),i.Ob(Yr,10),i.Ob($r,10),i.Ob(Hr,10))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Bb([Yo]),i.zb,i.Ab]}),t})(),Xo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Jo={provide:Hr,useExisting:Object(i.V)(()=>Zo),multi:!0};let Zo=(()=>{class t extends Br{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.F),i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&i.bc("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[i.Bb([Jo]),i.zb]}),t})(),ts=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({}),t})();const es=new i.r("NgModelWithFormControlWarning"),ns={provide:po,useExisting:Object(i.V)(()=>is)};let is=(()=>{class t extends po{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(So(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return wo(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Co(t.control||null,t,!1),Do(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,ko(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(Co(e||null,t),n instanceof Ho&&(wo(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);xo(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return So(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Eo(this.form,this,!1),this._oldForm&&So(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(Yr,10),i.Ob($r,10))},t.\u0275dir=i.Jb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Bb([ns]),i.zb,i.Ab]}),t})();const rs={provide:go,useExisting:Object(i.V)(()=>os)};let os=(()=>{class t extends go{constructor(t,e,n,r,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new i.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Ao(0,r)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Io(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return _o(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(po,13),i.Ob(Yr,10),i.Ob($r,10),i.Ob(Hr,10),i.Ob(es,8))},t.\u0275dir=i.Jb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Bb([rs]),i.zb,i.Ab]}),t._ngModelWarningSentOnce=!1,t})();const ss={provide:Yr,useExisting:Object(i.V)(()=>as),multi:!0};let as=(()=>{class t{constructor(){this._validator=Zr}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Jr("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.Db("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Bb([ss]),i.Ab]}),t})(),us=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[ts]]}),t})(),cs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[us]}),t})(),ls=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:es,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[us]}),t})(),hs=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i,r=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,i=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new qo(n,{asyncValidators:o,updateOn:i,validators:r})}control(t,e,n){return new Ho(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new zo(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Ho||t instanceof qo||t instanceof zo?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Kb)({factory:function(){return new t},token:t,providedIn:ls}),t})();var ds=n("zIRd"),fs=(n("t6oF"),n("6Uf2"),n("qOnz")),ps=n("q/0M"),ms=function(t,e){return(ms=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function gs(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var vs,bs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ys=ys||{},_s=bs||self;function ws(){}function Cs(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Os(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Es="closure_uid_"+(1e9*Math.random()>>>0),Ss=0;function Ts(t,e,n){return t.call.apply(t.bind,arguments)}function xs(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Is(t,e,n){return(Is=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ts:xs).apply(null,arguments)}function ks(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function As(){return Date.now()}function Ds(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function Rs(){this.j=this.j,this.i=this.i}Rs.prototype.j=!1,Rs.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Es)&&t[Es]||(t[Es]=++Ss)}(this)},Rs.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ps=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ns=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};function js(t){return Array.prototype.concat.apply([],arguments)}function Ls(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function Fs(t){return/^[\s\xa0]*$/.test(t)}var Ms,Vs=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Us(t,e){return-1!=t.indexOf(e)}function Bs(t,e){return t<e?-1:t>e?1:0}t:{var Hs=_s.navigator;if(Hs){var qs=Hs.userAgent;if(qs){Ms=qs;break t}}Ms=""}function zs(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function Ks(t){var e={};for(var n in t)e[n]=t[n];return e}var Ws="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gs(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<Ws.length;o++)n=Ws[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Ys(t){return Ys[" "](t),t}Ys[" "]=ws;var $s,Qs,Xs=Us(Ms,"Opera"),Js=Us(Ms,"Trident")||Us(Ms,"MSIE"),Zs=Us(Ms,"Edge"),ta=Zs||Js,ea=Us(Ms,"Gecko")&&!(Us(Ms.toLowerCase(),"webkit")&&!Us(Ms,"Edge"))&&!(Us(Ms,"Trident")||Us(Ms,"MSIE"))&&!Us(Ms,"Edge"),na=Us(Ms.toLowerCase(),"webkit")&&!Us(Ms,"Edge");function ia(){var t=_s.document;return t?t.documentMode:void 0}t:{var ra="",oa=(Qs=Ms,ea?/rv:([^\);]+)(\)|;)/.exec(Qs):Zs?/Edge\/([\d\.]+)/.exec(Qs):Js?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Qs):na?/WebKit\/(\S+)/.exec(Qs):Xs?/(?:Version)[ \/]?(\S+)/.exec(Qs):void 0);if(oa&&(ra=oa?oa[1]:""),Js){var sa=ia();if(null!=sa&&sa>parseFloat(ra)){$s=String(sa);break t}}$s=ra}var aa={};function ua(t){return function(t,e){var n=aa;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Vs(String($s)).split("."),i=Vs(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Bs(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Bs(0==s[2].length,0==a[2].length)||Bs(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var ca=_s.document&&Js&&(ia()||parseInt($s,10))||void 0,la=!Js||9<=Number(ca),ha=Js&&!ua("9"),da=function(){if(!_s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{_s.addEventListener("test",ws,e),_s.removeEventListener("test",ws,e)}catch(n){}return t}();function fa(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function pa(t,e){if(fa.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ea){t:{try{Ys(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ma[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}fa.prototype.b=function(){this.defaultPrevented=!0},Ds(pa,fa);var ma={2:"touch",3:"pen",4:"mouse"};pa.prototype.b=function(){pa.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ha)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ga="closure_listenable_"+(1e6*Math.random()|0),va=0;function ba(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ca=r,this.key=++va,this.Y=this.Z=!1}function ya(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function _a(t){this.src=t,this.a={},this.b=0}function wa(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],o=Ps(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(ya(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ca(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==i)return r}return-1}_a.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Ca(t,e,i,r);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ba(e,this.src,o,!!i,r)).Z=n,t.push(e)),e};var Oa="closure_lm_"+(1e6*Math.random()|0),Ea={};function Sa(t,e,n,i,r){if(i&&i.once)return xa(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Sa(t,e[o],n,i,r);return null}return n=ja(n),t&&t[ga]?t.va(e,n,Os(i)?!!i.capture:!!i,r):Ta(t,e,n,!1,i,r)}function Ta(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=Os(r)?!!r.capture:!!r;if(s&&!la)return null;var a=Pa(t);if(a||(t[Oa]=a=new _a(t)),(n=a.add(e,n,i,s,o)).proxy)return n;if(i=function(){var t=Ra,e=la?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)da||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Aa(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function xa(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)xa(t,e[o],n,i,r);return null}return n=ja(n),t&&t[ga]?t.wa(e,n,Os(i)?!!i.capture:!!i,r):Ta(t,e,n,!0,i,r)}function Ia(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ia(t,e[o],n,i,r);else i=Os(i)?!!i.capture:!!i,n=ja(n),t&&t[ga]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Ca(o=t.a[e],n,i,r))&&(ya(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Pa(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ca(e,n,i,r)),(n=-1<t?e[t]:null)&&ka(n))}function ka(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ga])wa(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Aa(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Pa(e))?(wa(n,t),0==n.b&&(n.src=null,e[Oa]=null)):ya(t)}}}function Aa(t){return t in Ea?Ea[t]:Ea[t]="on"+t}function Da(t,e){var n=t.listener,i=t.ca||t.src;return t.Z&&ka(t),n.call(i,e)}function Ra(t,e){if(t.Y)return!0;if(!la){if(!e)t:{e=["window","event"];for(var n=_s,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}return Da(t,e=new pa(e,this))}return Da(t,new pa(e,this))}function Pa(t){return(t=t[Oa])instanceof _a?t:null}var Na="__closure_events_fn_"+(1e9*Math.random()>>>0);function ja(t){return"function"==typeof t?t:(t[Na]||(t[Na]=function(e){return t.handleEvent(e)}),t[Na])}function La(){Rs.call(this),this.c=new _a(this),this.J=this,this.C=null}function Fa(t,e){var n,i=t.C;if(i)for(n=[];i;i=i.C)n.push(i);if(t=t.J,i=e.type||e,"string"==typeof e)e=new fa(e,t);else if(e instanceof fa)e.target=e.target||t;else{var r=e;Gs(e=new fa(i,t),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];r=Ma(s,i,!0,e)&&r}if(r=Ma(s=e.a=t,i,!0,e)&&r,r=Ma(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)r=Ma(s=e.a=n[o],i,!1,e)&&r}function Ma(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&wa(t.c,s),r=!1!==a.call(u,i)&&r}}return r&&!i.defaultPrevented}Ds(La,Rs),La.prototype[ga]=!0,(vs=La.prototype).addEventListener=function(t,e,n,i){Sa(this,t,e,n,i)},vs.removeEventListener=function(t,e,n,i){Ia(this,t,e,n,i)},vs.G=function(){if(La.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)ya(n[i]);delete e.a[t],e.b--}}this.C=null},vs.va=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},vs.wa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var Va=_s.JSON.stringify;function Ua(){this.b=this.a=null}var Ba,Ha=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new za},function(t){t.reset()});function qa(){var t=Ya,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function za(){this.next=this.b=this.a=null}function Ka(t){_s.setTimeout(function(){throw t},0)}function Wa(t,e){Ba||function(){var t=_s.Promise.resolve(void 0);Ba=function(){t.then($a)}}(),Ga||(Ba(),Ga=!0),Ya.add(t,e)}Ua.prototype.add=function(t,e){var n=Ha.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},za.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},za.prototype.reset=function(){this.next=this.b=this.a=null};var Ga=!1,Ya=new Ua;function $a(){for(var t;t=qa();){try{t.a.call(t.b)}catch(n){Ka(n)}var e=Ha;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ga=!1}function Qa(t,e){La.call(this),this.b=t||1,this.a=e||_s,this.f=Is(this.Za,this),this.g=As()}function Xa(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ja(t,e,n){if("function"==typeof t)n&&(t=Is(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Is(t.handleEvent,t)}return 2147483647<Number(e)?-1:_s.setTimeout(t,e||0)}function Za(t){t.a=Ja(function(){t.a=null,t.c&&(t.c=!1,Za(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ds(Qa,La),(vs=Qa.prototype).aa=!1,vs.M=null,vs.Za=function(){if(this.aa){var t=As()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Fa(this,"tick"),this.aa&&(Xa(this),this.start()))}},vs.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=As())},vs.G=function(){Qa.X.G.call(this),Xa(this),delete this.a};var tu=function(t){function e(e,n){var i=t.call(this)||this;return i.g=e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}ms(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Za(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(_s.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Rs);function eu(t){Rs.call(this),this.b=t,this.a={}}Ds(eu,Rs);var nu=[];function iu(t,e,n,i){Array.isArray(n)||(n&&(nu[0]=n.toString()),n=nu);for(var r=0;r<n.length;r++){var o=Sa(e,n[r],i||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ru(t){zs(t.a,function(t,e){this.a.hasOwnProperty(e)&&ka(t)},t),t.a={}}function ou(){this.a=!0}function su(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return Va(n)}catch(a){return e}}(t,n)+(i?" "+i:"")})}eu.prototype.G=function(){eu.X.G.call(this),ru(this)},eu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ou.prototype.info=function(){};var au={},uu=null;function cu(){return uu=uu||new La}function lu(t){fa.call(this,au.Fa,t)}function hu(t){var e=cu();Fa(e,new lu(e,t))}function du(t,e){fa.call(this,au.STAT_EVENT,t),this.stat=e}function fu(t){var e=cu();Fa(e,new du(e,t))}function pu(t){fa.call(this,au.Ga,t)}function mu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return _s.setTimeout(function(){t()},e)}au.Fa="serverreachability",Ds(lu,fa),au.STAT_EVENT="statevent",Ds(du,fa),au.Ga="timingevent",Ds(pu,fa);var gu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},vu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function bu(){}function yu(){}bu.prototype.a=null;var _u,wu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Cu(){fa.call(this,"d")}function Ou(){fa.call(this,"c")}function Eu(){}function Su(t,e,n,i){this.g=t,this.c=e,this.f=n,this.S=i||1,this.J=new eu(this),this.P=Tu,this.R=new Qa(t=ta?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ds(Cu,fa),Ds(Ou,fa),Ds(Eu,bu),_u=new Eu;var Tu=45e3,xu={},Iu={};function ku(t,e,n){t.H=1,t.i=Xu(Ku(e)),t.j=n,t.I=!0,Au(t,null)}function Au(t,e){t.u=As(),Pu(t),t.l=Ku(t.i);var n=t.l,i=t.S;Array.isArray(i)||(i=[String(i)]),lc(n.b,"t",i),t.D=0,t.a=rl(t.g,t.g.C?e:null),0<t.O&&(t.F=new tu(Is(t.Ca,t,t.a),t.O)),iu(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ks(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),hu(1),function(t,e,n,i,r,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Du(t,e,n){for(var i=!0;!t.A&&t.D<n.length;){var r=Ru(t,n);if(r==Iu){4==e&&(t.h=4,fu(14),i=!1),su(t.c,t.f,null,"[Incomplete Response]");break}if(r==xu){t.h=4,fu(15),su(t.c,t.f,n,"[Invalid Chunk]"),i=!1;break}su(t.c,t.f,r,null),Mu(t,r)}4==e&&0==n.length&&(t.h=1,fu(16),i=!1),t.b=t.b&&i,i?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qc(e),e.F=!0,fu(11))):(su(t.c,t.f,n,"[Invalid Chunked Response]"),Fu(t),Lu(t))}function Ru(t,e){var n=t.D,i=e.indexOf("\n",n);return-1==i?Iu:(n=Number(e.substring(n,i)),isNaN(n)?xu:(i+=1)+n>e.length?Iu:(e=e.substr(i,n),t.D=i+n,e))}function Pu(t){t.T=As()+t.P,Nu(t,t.P)}function Nu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=mu(Is(t.Va,t),e)}function ju(t){t.o&&(_s.clearTimeout(t.o),t.o=null)}function Lu(t){0==t.g.v||t.A||Zc(t.g,t)}function Fu(t){ju(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Xa(t.R),ru(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Mu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||vc(n.b,t)))if(n.I=t.N,!t.C&&vc(n.b,t)&&3==n.v){try{var i=n.ka.a.parse(e)}catch(Wy){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Jc(n),Bc(n)}$c(n),fu(18)}}else n.oa=r[1],0<n.oa-n.P&&37500>r[2]&&n.H&&0==n.o&&!n.m&&(n.m=mu(Is(n.Sa,n),6e3));if(1>=gc(n.b)&&n.ea){try{n.ea()}catch(Wy){}n.ea=void 0}}else el(n,11)}else if((t.C||n.a==t)&&Jc(n),!Fs(e))for(e=i=n.ka.a.parse(e),i=0;i<e.length;i++)if(n.P=(r=e[i])[0],r=r[1],2==n.v)if("c"==r[0]){n.J=r[1],n.ga=r[2];var o=r[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=r[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=r[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Us(l,"spdy")||Us(l,"quic")||Us(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(bc(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,Qu(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=As()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=il(u,u.C?u.ga:null,u.fa),f.C){yc(u.b,f);var p=f,m=u.D;m&&p.setTimeout(m),p.o&&(ju(p),Pu(p)),u.a=f}else Yc(u);0<n.g.length&&zc(n)}else"stop"!=r[0]&&"close"!=r[0]||el(n,7);else 3==n.v&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?el(n,7):Uc(n):"noop"!=r[0]&&n.f&&n.f.sa(r),n.o=0);hu(4)}catch(Wy){}}function Vu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Cs(t)||"string"==typeof t)Ns(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Cs(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Cs(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function Uu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Uu)for(n=t.L(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Bu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Hu(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Hu(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Hu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(vs=Su.prototype).setTimeout=function(t){this.P=t},vs.Xa=function(t){t=t.target;var e=this.F;e&&3==Lc(t)?e.f():this.Ca(t)},vs.Ca=function(t){try{if(t==this.a)t:{var e=Lc(this.a),n=this.a.ua(),i=this.a.W();if(!(3>e||3==e&&!ta&&!this.a.$())){this.A||4!=e||7==n||hu(8==n||0>=i?3:2),ju(this);var r=this.a.W();this.N=r;var o=this.a.$();if(this.b=200==r,function(t,e,n,i,r,o,s){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,r),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fs(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,fu(12),Fu(this),Lu(this);break t}su(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Mu(this,u)}this.I?(Du(this,e,o),ta&&this.b&&3==e&&(iu(this.J,this.R,"tick",this.Wa),this.R.start())):(su(this.c,this.f,o,null),Mu(this,o)),4==e&&Fu(this),this.b&&!this.A&&(4==e?Zc(this.g,this):(this.b=!1,Pu(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.h=3,fu(12)):(this.h=0,fu(13)),Fu(this),Lu(this)}}}catch(c){}},vs.Wa=function(){if(this.a){var t=Lc(this.a),e=this.a.$();this.D<e.length&&(ju(this),Du(this,t,e),this.b&&4!=t&&Pu(this))}},vs.cancel=function(){this.A=!0,Fu(this)},vs.Va=function(){this.o=null;var t=As();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(hu(3),fu(17)),Fu(this),this.h=2,Lu(this)):Nu(this,this.T-t)},(vs=Uu.prototype).K=function(){Bu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},vs.L=function(){return Bu(this),this.a.concat()},vs.get=function(t,e){return Hu(this.b,t)?this.b[t]:e},vs.set=function(t,e){Hu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},vs.forEach=function(t,e){for(var n=this.L(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var qu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof zu){this.a=void 0!==e?e:t.a,Wu(this,t.f),this.j=t.j,Gu(this,t.c),Yu(this,t.h),this.g=t.g,e=t.b;var n=new sc;n.c=e.c,e.a&&(n.a=new Uu(e.a),n.b=e.b),$u(this,n),this.i=t.i}else t&&(n=String(t).match(qu))?(this.a=!!e,Wu(this,n[1]||"",!0),this.j=Ju(n[2]||""),Gu(this,n[3]||"",!0),Yu(this,n[4]),this.g=Ju(n[5]||"",!0),$u(this,n[6]||"",!0),this.i=Ju(n[7]||"")):(this.a=!!e,this.b=new sc(null,this.a))}function Ku(t){return new zu(t)}function Wu(t,e,n){t.f=n?Ju(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Gu(t,e,n){t.c=n?Ju(e,!0):e}function Yu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function $u(t,e,n){e instanceof sc?(t.b=e,function(t,e){e&&!t.f&&(ac(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(uc(this,e),lc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Zu(e,rc)),t.b=new sc(e,t.a))}function Qu(t,e,n){t.b.set(e,n)}function Xu(t){return Qu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^As()).toString(36)),t}function Ju(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Zu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,tc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}zu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Zu(e,ec,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Zu(e,ec,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Zu(n,"/"==n.charAt(0)?ic:nc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Zu(n,oc)),t.join("")};var ec=/[#\/\?@]/g,nc=/[#\?:]/g,ic=/[#\?]/g,rc=/[#\?@]/g,oc=/#/g;function sc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ac(t){t.a||(t.a=new Uu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function uc(t,e){ac(t),e=hc(t,e),Hu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Hu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Bu(t)))}function cc(t,e){return ac(t),e=hc(t,e),Hu(t.a.b,e)}function lc(t,e,n){uc(t,e),0<n.length&&(t.c=null,t.a.set(hc(t,e),Ls(n)),t.b+=n.length)}function hc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(vs=sc.prototype).add=function(t,e){ac(this),this.c=null,t=hc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},vs.forEach=function(t,e){ac(this),this.a.forEach(function(n,i){Ns(n,function(n){t.call(e,n,i,this)},this)},this)},vs.L=function(){ac(this);for(var t=this.a.K(),e=this.a.L(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},vs.K=function(t){ac(this);var e=[];if("string"==typeof t)cc(this,t)&&(e=js(e,this.a.get(hc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=js(e,t[n])}return e},vs.set=function(t,e){return ac(this),this.c=null,cc(this,t=hc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},vs.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},vs.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.K(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.c=t.join("&")};var dc=function(){return function(t,e){this.b=t,this.a=e}}();function fc(t){this.g=t||pc,t=_s.PerformanceNavigationTiming?0<(t=_s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(_s.ia&&_s.ia.ya&&_s.ia.ya()&&_s.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var pc=10;function mc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function gc(t){return t.b?1:t.a?t.a.size:0}function vc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function bc(t,e){t.a?t.a.add(e):t.b=e}function yc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function _c(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var r=gs(t.a.values()),o=r.next();!o.done;o=r.next())i=i.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}return Ls(t.c)}function wc(){}function Cc(){this.a=new wc}function Oc(t,e,n){var i=n||"";try{Vu(t,function(t,n){var r=t;Os(t)&&(r=Va(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(x_){throw e.push(i+"type="+encodeURIComponent("_badmap")),x_}}function Ec(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}fc.prototype.cancel=function(){var t,e;if(this.c=_c(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=gs(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(r){t={error:r}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},wc.prototype.stringify=function(t){return _s.JSON.stringify(t,void 0)},wc.prototype.parse=function(t){return _s.JSON.parse(t,void 0)};var Sc=_s.JSON.parse;function Tc(t){La.call(this),this.headers=new Uu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=xc,this.D=this.F=!1}Ds(Tc,La);var xc="",Ic=/^https?$/i,kc=["POST","PUT"];function Ac(t){return"content-type"==t.toLowerCase()}function Dc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Rc(t),Nc(t)}function Rc(t){t.u||(t.u=!0,Fa(t,"complete"),Fa(t,"error"))}function Pc(t){if(t.b&&void 0!==ys&&(!t.s[1]||4!=Lc(t)||2!=t.W()))if(t.l&&4==Lc(t))Ja(t.za,0,t);else if(Fa(t,"readystatechange"),4==Lc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.B).match(qu)[1]||null;if(!o&&_s.self&&_s.self.location){var s=_s.self.location.protocol;o=s.substr(0,s.length-1)}r=!Ic.test(o?o.toLowerCase():"")}e=r}if(e)Fa(t,"complete"),Fa(t,"success");else{t.h=6;try{var a=2<Lc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Rc(t)}}finally{Nc(t)}}}function Nc(t,e){if(t.a){jc(t);var n=t.a,i=t.s[0]?ws:null;t.a=null,t.s=null,e||Fa(t,"ready");try{n.onreadystatechange=i}catch(x_){}}}function jc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(_s.clearTimeout(t.m),t.m=null)}function Lc(t){return t.a?t.a.readyState:0}function Fc(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return zs(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Qu(t,e,n))}function Mc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Vc(t){this.pa=0,this.g=[],this.c=new ou,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Mc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Mc("baseRetryDelayMs",5e3,t),this.Ra=Mc("retryDelaySeedMs",1e4,t),this.Ma=Mc("forwardChannelMaxRetries",2,t),this.ma=Mc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new fc(t&&t.concurrentRequestLimit),this.ka=new Cc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Uc(t){if(Hc(t),3==t.v){var e=t.R++,n=Ku(t.B);Qu(n,"SID",t.J),Qu(n,"RID",e),Qu(n,"TYPE","terminate"),Wc(t,n),(e=new Su(t,t.c,e,void 0)).H=2,e.i=Xu(Ku(n)),n=!1,_s.navigator&&_s.navigator.sendBeacon&&(n=_s.navigator.sendBeacon(e.i.toString(),"")),!n&&_s.Image&&((new Image).src=e.i,n=!0),n||(e.a=rl(e.g,null),e.a.ba(e.i)),e.u=As(),Pu(e)}nl(t)}function Bc(t){t.a&&(Qc(t),t.a.cancel(),t.a=null)}function Hc(t){Bc(t),t.j&&(_s.clearTimeout(t.j),t.j=null),Jc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&_s.clearTimeout(t.h),t.h=null)}function qc(t,e){t.g.push(new dc(t.Oa++,e)),3==t.v&&zc(t)}function zc(t){mc(t.b)||t.h||(t.h=!0,Wa(t.Ba,t),t.u=0)}function Kc(t,e){var n;n=e?e.f:t.R++;var i=Ku(t.B);Qu(i,"SID",t.J),Qu(i,"RID",n),Qu(i,"AID",t.P),Wc(t,i),t.i&&t.l&&Fc(i,t.i,t.l),n=new Su(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Gc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),bc(t.b,n),ku(n,i,e)}function Wc(t,e){t.f&&Vu({},function(t,n){Qu(e,n,t)})}function Gc(t,e,n){n=Math.min(t.g.length,n);var i=t.f?Is(t.f.Ja,t.f,t):null;t:for(var r=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=r[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=r[u].b,l=r[u].a;if(0>(c-=o))o=Math.max(0,r[u].b-100),a=!1;else try{Oc(l,s,"req"+c+"_")}catch(jl){i&&i(l)}}if(a){i=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,i}function Yc(t){t.a||t.j||(t.T=1,Wa(t.Aa,t),t.o=0)}function $c(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=mu(Is(t.Aa,t),tl(t,t.o)),t.o++,0))}function Qc(t){null!=t.s&&(_s.clearTimeout(t.s),t.s=null)}function Xc(t){t.a=new Su(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ku(t.la);Qu(e,"RID","rpc"),Qu(e,"SID",t.J),Qu(e,"CI",t.H?"0":"1"),Qu(e,"AID",t.P),Wc(t,e),Qu(e,"TYPE","xmlhttp"),t.i&&t.l&&Fc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Xu(Ku(e)),n.j=null,n.I=!0,Au(n,t)}function Jc(t){null!=t.m&&(_s.clearTimeout(t.m),t.m=null)}function Zc(t,e){var n=null;if(t.a==e){Jc(t),Qc(t),t.a=null;var i=2}else{if(!vc(t.b,e))return;n=e.s,yc(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==i){n=e.j?e.j.length:0,e=As()-e.u;var r=t.u;Fa(i=cu(),new pu(i,n,e,r)),zc(t)}else Yc(t);else if(3==(r=e.h)||0==r&&0<t.I||!(1==i&&function(t,e){return!(gc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=mu(Is(t.Ba,t,e),tl(t,t.u)),t.u++,0)))}(t,e)||2==i&&$c(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),r){case 1:el(t,5);break;case 4:el(t,10);break;case 3:el(t,6);break;default:el(t,2)}}function tl(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function el(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var i=Is(t.Ya,t);n||(n=new zu("//www.google.com/images/cleardot.gif"),_s.location&&"http"==_s.location.protocol||Wu(n,"https"),Xu(n)),function(t,e){var n=new ou;if(_s.Image){var i=new Image;i.onload=ks(Ec,n,i,"TestLoadImage: loaded",!0,e),i.onerror=ks(Ec,n,i,"TestLoadImage: error",!1,e),i.onabort=ks(Ec,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=ks(Ec,n,i,"TestLoadImage: timeout",!1,e),_s.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else fu(2);t.v=0,t.f&&t.f.ra(e),nl(t),Hc(t)}function nl(t){t.v=0,t.I=-1,t.f&&(0==_c(t.b).length&&0==t.g.length||(t.b.c.length=0,Ls(t.g),t.g.length=0),t.f.qa())}function il(t,e,n){var i=function(t){return t instanceof zu?Ku(t):new zu(t,void 0)}(n);if(""!=i.c)e&&Gu(i,e+"."+i.c),Yu(i,i.h);else{var r=_s.location;i=function(t,e,n,i){var r=new zu(null,void 0);return t&&Wu(r,t),e&&Gu(r,e),n&&Yu(r,n),i&&(r.g=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.V&&zs(t.V,function(t,e){Qu(i,e,t)}),n=t.na,(e=t.A)&&n&&Qu(i,e,n),Qu(i,"VER",t.ha),Wc(t,i),i}function rl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tc(t.Na)).F=t.C,e}function ol(){}function sl(){if(Js&&!(10<=Number(ca)))throw Error("Environmental error: no available transport.")}function al(t,e){La.call(this),this.a=new Vc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Fs(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fs(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ll(this)}function ul(t){Cu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function cl(){Ou.call(this),this.status=1}function ll(t){this.a=t}(vs=Tc.prototype).ba=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:_u),this.a.onreadystatechange=Is(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Dc(this,o)}t=n||"";var r=new Uu(this.headers);i&&Vu(i,function(t,e){r.set(e,t)}),i=function(t){t:{for(var e=Ac,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.L()),n=_s.FormData&&t instanceof _s.FormData,!(0<=Ps(kc,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{jc(this),0<this.o&&((this.D=function(t){return Js&&ua(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Is(this.xa,this)):this.m=Ja(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Dc(this,o)}},vs.xa=function(){void 0!==ys&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Fa(this,"timeout"),this.abort(8))},vs.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Fa(this,"complete"),Fa(this,"abort"),Nc(this))},vs.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Nc(this,!0)),Tc.X.G.call(this)},vs.za=function(){this.j||(this.A||this.l||this.g?Pc(this):this.Ua())},vs.Ua=function(){Pc(this)},vs.W=function(){try{return 2<Lc(this)?this.a.status:-1}catch(Qs){return-1}},vs.$=function(){try{return this.a?this.a.responseText:""}catch(Qs){return""}},vs.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Sc(e)}},vs.ua=function(){return this.h},vs.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(vs=Vc.prototype).ha=8,vs.v=1,vs.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Su(this,this.c,t,void 0),i=this.l;if(this.O&&(i?Gs(i=Ks(i),this.O):i=this.O),null===this.i&&(n.B=i),this.da)t:{for(var r=e=0;r<this.g.length;r++){var o=this.g[r];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break t}if(4096===e||r===this.g.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=Gc(this,n,e),Qu(r=Ku(this.B),"RID",t),Qu(r,"CVER",22),this.A&&Qu(r,"X-HTTP-Session-Id",this.A),Wc(this,r),this.i&&i&&Fc(r,this.i,i),bc(this.b,n),this.Ia&&Qu(r,"TYPE","init"),this.da?(Qu(r,"$req",e),Qu(r,"SID","null"),n.U=!0,ku(n,r,null)):ku(n,r,e),this.v=2}}else 3==this.v&&(t?Kc(this,t):0==this.g.length||mc(this.b)||Kc(this))},vs.Aa=function(){if(this.j=null,Xc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=mu(Is(this.Ta,this),t)}},vs.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,fu(10),Bc(this),Xc(this))},vs.Sa=function(){null!=this.m&&(this.m=null,Bc(this),$c(this),fu(19))},vs.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),fu(2)):(this.c.info("Failed to ping google.com"),fu(1))},(vs=ol.prototype).ta=function(){},vs.sa=function(){},vs.ra=function(){},vs.qa=function(){},vs.Ja=function(){},sl.prototype.a=function(t,e){return new al(t,e)},Ds(al,La),al.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;fu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=il(t,null,t.fa),zc(t)},al.prototype.close=function(){Uc(this.a)},al.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,qc(this.a,e)}else this.l?((e={}).__data__=Va(t),qc(this.a,e)):qc(this.a,t)},al.prototype.G=function(){this.a.f=null,delete this.f,Uc(this.a),delete this.a,al.X.G.call(this)},Ds(ul,Cu),Ds(cl,Ou),Ds(ll,ol),ll.prototype.ta=function(){Fa(this.a,"a")},ll.prototype.sa=function(t){Fa(this.a,new ul(t))},ll.prototype.ra=function(t){Fa(this.a,new cl(t))},ll.prototype.qa=function(){Fa(this.a,"b")},sl.prototype.createWebChannel=sl.prototype.a,al.prototype.send=al.prototype.h,al.prototype.open=al.prototype.g,al.prototype.close=al.prototype.close,gu.NO_ERROR=0,gu.TIMEOUT=8,gu.HTTP_ERROR=6,vu.COMPLETE="complete",yu.EventType=wu,wu.OPEN="a",wu.CLOSE="b",wu.ERROR="c",wu.MESSAGE="d",La.prototype.listen=La.prototype.va,Tc.prototype.listenOnce=Tc.prototype.wa,Tc.prototype.getLastError=Tc.prototype.Qa,Tc.prototype.getLastErrorCode=Tc.prototype.ua,Tc.prototype.getStatus=Tc.prototype.W,Tc.prototype.getResponseJson=Tc.prototype.Pa,Tc.prototype.getResponseText=Tc.prototype.$,Tc.prototype.send=Tc.prototype.ba;var hl=gu,dl=vu,fl=au,pl=yu,ml=Tc,gl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();gl.o=-1;var vl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bl=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Object(Fr.c)(e,t),e}(Error),yl=new ps.b("@firebase/firestore");function _l(){return yl.logLevel}function wl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(yl.logLevel<=ps.a.DEBUG){var i=e.map(El);yl.debug.apply(yl,Object(Fr.f)(["Firestore (8.4.0): "+t],i))}}function Cl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(yl.logLevel<=ps.a.ERROR){var i=e.map(El);yl.error.apply(yl,Object(Fr.f)(["Firestore (8.4.0): "+t],i))}}function Ol(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(yl.logLevel<=ps.a.WARN){var i=e.map(El);yl.warn.apply(yl,Object(Fr.f)(["Firestore (8.4.0): "+t],i))}}function El(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(x_){return t}}function Sl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+t;throw Cl(e),new Error(e)}function Tl(t,e){t||Sl()}function xl(t,e){return t}function Il(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var kl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=Il(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n},t}();function Al(t,e){return t<e?-1:t>e?1:0}function Dl(t,e,n){return t.length===e.length&&t.every(function(t,i){return n(t,e[i])})}function Rl(t){return t+"\0"}var Pl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new bl(vl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new bl(vl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new bl(vl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bl(vl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Al(this.nanoseconds,t.nanoseconds):Al(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Nl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Pl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function jl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ll(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ml=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Sl(),void 0===n?n=t.length-e:n>t.length-e&&Sl(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Vl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fr.c)(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=[],r=0,o=t;r<o.length;r++){var s=o[r];if(s.indexOf("//")>=0)throw new bl(vl.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");i.push.apply(i,s.split("/").filter(function(t){return t.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(Ml),Ul=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fr.c)(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.isValidIdentifier=function(t){return Ul.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],i="",r=0,o=function(){if(0===i.length)throw new bl(vl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},s=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new bl(vl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[r+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new bl(vl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new bl(vl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Ml),Hl=function(){function t(t){this.fields=t,t.sort(Bl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Dl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ql=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Al(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();ql.EMPTY_BYTE_STRING=new ql("");var zl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kl(t){if(Tl(!!t),"string"==typeof t){var e=0,n=zl.exec(t);if(Tl(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wl(t.seconds),nanos:Wl(t.nanos)}}function Wl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gl(t){return"string"==typeof t?ql.fromBase64String(t):ql.fromUint8Array(t)}function Yl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $l(t){var e=t.mapValue.fields.__previous_value__;return Yl(e)?$l(e):e}function Ql(t){var e=Kl(t.mapValue.fields.__local_write_time__.timestampValue);return new Pl(e.seconds,e.nanos)}function Xl(t){return null==t}function Jl(t){return 0===t&&1/t==-1/0}function Zl(t){return"number"==typeof t&&Number.isInteger(t)&&!Jl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var th=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Vl.fromString(e))},t.fromName=function(e){return new t(Vl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Vl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Vl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Vl(e.slice()))},t}();function eh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yl(t)?4:10:Sl()}function nh(t,e){var n=eh(t);if(n!==eh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ql(t).isEqual(Ql(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Kl(t.timestampValue),i=Kl(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Gl(t.bytesValue).isEqual(Gl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Wl(t.geoPointValue.latitude)===Wl(e.geoPointValue.latitude)&&Wl(t.geoPointValue.longitude)===Wl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Wl(t.integerValue)===Wl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Wl(t.doubleValue),i=Wl(e.doubleValue);return n===i?Jl(n)===Jl(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return Dl(t.arrayValue.values||[],e.arrayValue.values||[],nh);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(jl(n)!==jl(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!nh(n[r],i[r])))return!1;return!0}(t,e);default:return Sl()}}function ih(t,e){return void 0!==(t.values||[]).find(function(t){return nh(t,e)})}function rh(t,e){var n=eh(t),i=eh(e);if(n!==i)return Al(n,i);switch(n){case 0:return 0;case 1:return Al(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Wl(t.integerValue||t.doubleValue),i=Wl(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return oh(t.timestampValue,e.timestampValue);case 4:return oh(Ql(t),Ql(e));case 5:return Al(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Gl(t),i=Gl(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var o=Al(n[r],i[r]);if(0!==o)return o}return Al(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Al(Wl(t.latitude),Wl(e.latitude));return 0!==n?n:Al(Wl(t.longitude),Wl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var o=rh(n[r],i[r]);if(o)return o}return Al(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(var s=0;s<i.length&&s<o.length;++s){var a=Al(i[s],o[s]);if(0!==a)return a;var u=rh(n[i[s]],r[o[s]]);if(0!==u)return u}return Al(i.length,o.length)}(t.mapValue,e.mapValue);default:throw Sl()}}function oh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Al(t,e);var n=Kl(t),i=Kl(e),r=Al(n.seconds,i.seconds);return 0!==r?r:Al(n.nanos,i.nanos)}function sh(t){return ah(t)}function ah(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Kl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gl(t.bytesValue).toBase64():"referenceValue"in t?th.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,i=0,r=t.values||[];i<r.length;i++)n?n=!1:e+=",",e+=ah(r[i]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,i=0,r=Object.keys(t.fields||{}).sort();i<r.length;i++){var o=r[i];n?n=!1:e+=",",e+=o+":"+ah(t.fields[o])}return e+"}"}(t.mapValue):Sl();var e}function uh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ch(t){return!!t&&"integerValue"in t}function lh(t){return!!t&&"arrayValue"in t}function hh(t){return!!t&&"nullValue"in t}function dh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fh(t){return!!t&&"mapValue"in t}var ph=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Bl.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return nh(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,i=0;i<t.length-1;++i){var r=t.get(i),o=n.get(r);o instanceof Map?n=o:o&&10===eh(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(r,o),n=o):(o=new Map,n.set(r,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var i=this,r=!1,o=t.extractNestedValue(this.partialValue,e),s=fh(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=i.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,r=!0)}else null!==t?(s[n]=t,r=!0):s.hasOwnProperty(n)&&(delete s[n],r=!0)}),r?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Bl.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,i=0;i<e.length-1;++i){if(!n.mapValue.fields)return null;if(!fh(n=n.mapValue.fields[e.get(i)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function mh(t){var e=[];return Ll(t.fields||{},function(t,n){var i=new Bl([t]);if(fh(n)){var r=mh(n.mapValue).fields;if(0===r.length)e.push(i);else for(var o=0,s=r;o<s.length;o++)e.push(i.child(s[o]))}else e.push(i)}),new Hl(e)}var gh=function(){function t(t,e,n,i,r){this.key=t,this.documentType=e,this.version=n,this.data=i,this.documentState=r}return t.newInvalidDocument=function(e){return new t(e,0,Nl.min(),ph.empty(),0)},t.newFoundDocument=function(e,n,i){return new t(e,1,n,i,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ph.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ph.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ph.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ph.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),vh=function(t,e,n,i,r,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.h=null};function bh(t,e,n,i,r,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),new vh(t,e,n,i,r,o,s)}function yh(t){var e=xl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+sh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Xl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Rh(e.startAt)),e.endAt&&(n+="|ub:",n+=Rh(e.endAt)),e.h=n}return e.h}function _h(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Nh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if((r=t.filters[i]).op!==(o=e.filters[i]).op||!r.field.isEqual(o.field)||!nh(r.value,o.value))return!1;var r,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lh(t.startAt,e.startAt)&&Lh(t.endAt,e.endAt)}function wh(t){return th.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ch=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return Object(Fr.c)(e,t),e.create=function(t,n,i){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,i):new Oh(t,n,i):"array-contains"===n?new xh(t,i):"in"===n?new Ih(t,i):"not-in"===n?new kh(t,i):"array-contains-any"===n?new Ah(t,i):new e(t,n,i)},e.l=function(t,e,n){return"in"===e?new Eh(t,n):new Sh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(rh(e,this.value)):null!==e&&eh(this.value)===eh(e)&&this.m(rh(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Sl()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Oh=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=th.fromName(i.referenceValue),r}return Object(Fr.c)(e,t),e.prototype.matches=function(t){var e=th.comparator(t.key,this.key);return this.m(e)},e}(Ch),Eh=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"in",n)||this).keys=Th(0,n),i}return Object(Fr.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ch),Sh=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"not-in",n)||this).keys=Th(0,n),i}return Object(Fr.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ch);function Th(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return th.fromName(t.referenceValue)})}var xh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Fr.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return lh(e)&&ih(e.arrayValue,this.value)},e}(Ch),Ih=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Fr.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ih(this.value.arrayValue,e)},e}(Ch),kh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Fr.c)(e,t),e.prototype.matches=function(t){if(ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ih(this.value.arrayValue,e)},e}(Ch),Ah=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Fr.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!lh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return ih(e.value.arrayValue,t)})},e}(Ch),Dh=function(t,e){this.position=t,this.before=e};function Rh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return sh(t)}).join(",")}var Ph=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Nh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function jh(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var o=e[r],s=t.position[r];if(i=o.field.isKeyField()?th.comparator(th.fromName(s.referenceValue),n.key):rh(s,n.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function Lh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!nh(t.position[n],e.position[n]))return!1;return!0}var Fh=function(t,e,n,i,r,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Mh(t,e,n,i,r,o,s,a){return new Fh(t,e,n,i,r,o,s,a)}function Vh(t){return new Fh(t)}function Uh(t){return!Xl(t.limit)&&"F"===t.limitType}function Bh(t){return!Xl(t.limit)&&"L"===t.limitType}function Hh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function qh(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function zh(t){return null!==t.collectionGroup}function Kh(t){var e=xl(t);if(null===e.p){e.p=[];var n=qh(e),i=Hh(e);if(null!==n&&null===i)n.isKeyField()||e.p.push(new Ph(n)),e.p.push(new Ph(Bl.keyField(),"asc"));else{for(var r=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(r=!0)}if(!r){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ph(Bl.keyField(),u))}}}return e.p}function Wh(t){var e=xl(t);if(!e.T)if("F"===e.limitType)e.T=bh(e.path,e.collectionGroup,Kh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,r=Kh(e);i<r.length;i++){var o=r[i];n.push(new Ph(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Dh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Dh(e.startAt.position,!e.startAt.before):null;e.T=bh(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Gh(t,e,n){return new Fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yh(t,e){return _h(Wh(t),Wh(e))&&t.limitType===e.limitType}function $h(t){return yh(Wh(t))+"|lt:"+t.limitType}function Qh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+sh(e.value);var e}).join(", ")+"]"),Xl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Rh(t.startAt)),t.endAt&&(e+=", endAt: "+Rh(t.endAt)),"Target("+e+")"}(Wh(t))+"; limitType="+t.limitType+")"}function Xh(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):th.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,i=t.explicitOrderBy;n<i.length;n++){var r=i[n];if(!r.field.isKeyField()&&null===e.data.field(r.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,i=t.filters;n<i.length;n++)if(!i[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!jh(t.startAt,Kh(t),e)||t.endAt&&jh(t.endAt,Kh(t),e))}(t,e)}function Jh(t){return function(e,n){for(var i=!1,r=0,o=Kh(t);r<o.length;r++){var s=o[r],a=Zh(s,e,n);if(0!==a)return a;i=i||s.field.isKeyField()}return 0}}function Zh(t,e,n){var i=t.field.isKeyField()?th.comparator(e.key,n.key):function(t,e,n){var i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?rh(i,r):Sl()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Sl()}}function td(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jl(e)?"-0":e}}function ed(t){return{integerValue:""+t}}function nd(t,e){return Zl(e)?ed(e):td(t,e)}var id=function(){this._=void 0};function rd(t,e,n){return t instanceof ad?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ud?cd(t,e):t instanceof ld?hd(t,e):function(t,e){var n=sd(t,e),i=fd(n)+fd(t.A);return ch(n)&&ch(t.A)?ed(i):td(t.R,i)}(t,e)}function od(t,e,n){return t instanceof ud?cd(t,e):t instanceof ld?hd(t,e):n}function sd(t,e){return t instanceof dd?ch(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ad=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fr.c)(e,t),e}(id),ud=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Fr.c)(e,t),e}(id);function cd(t,e){for(var n=pd(e),i=function(t){n.some(function(e){return nh(e,t)})||n.push(t)},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var ld=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Fr.c)(e,t),e}(id);function hd(t,e){for(var n=pd(e),i=function(t){n=n.filter(function(e){return!nh(e,t)})},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var dd=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).R=e,i.A=n,i}return Object(Fr.c)(e,t),e}(id);function fd(t){return Wl(t.integerValue||t.doubleValue)}function pd(t){return lh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var md=function(t,e){this.field=t,this.transform=e},gd=function(t,e){this.version=t,this.transformResults=e},vd=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function bd(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var yd=function(){};function _d(t,e,n){t instanceof Sd?function(t,e,n){var i=t.value.clone(),r=Id(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof Td?function(t,e,n){if(bd(t.precondition,e)){var i=Id(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(xd(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function wd(t,e,n){t instanceof Sd?function(t,e,n){if(bd(t.precondition,e)){var i=t.value.clone(),r=kd(t.fieldTransforms,n,e);i.setAll(r),e.convertToFoundDocument(Ed(e),i).setHasLocalMutations()}}(t,e,n):t instanceof Td?function(t,e,n){if(bd(t.precondition,e)){var i=kd(t.fieldTransforms,n,e),r=e.data;r.setAll(xd(t)),r.setAll(i),e.convertToFoundDocument(Ed(e),r).setHasLocalMutations()}}(t,e,n):function(t,e){bd(t.precondition,e)&&e.convertToNoDocument(Nl.min())}(t,e)}function Cd(t,e){for(var n=null,i=0,r=t.fieldTransforms;i<r.length;i++){var o=r[i],s=e.data.field(o.field),a=sd(o.transform,s||null);null!=a&&(null==n&&(n=ph.empty()),n.set(o.field,a))}return n||null}function Od(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Dl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ud&&e instanceof ud||t instanceof ld&&e instanceof ld?Dl(t.elements,e.elements,nh):t instanceof dd&&e instanceof dd?nh(t.A,e.A):t instanceof ad&&e instanceof ad}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Ed(t){return t.isFoundDocument()?t.version:Nl.min()}var Sd=function(t){function e(e,n,i,r){void 0===r&&(r=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=i,o.fieldTransforms=r,o.type=0,o}return Object(Fr.c)(e,t),e}(yd),Td=function(t){function e(e,n,i,r,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=i,s.precondition=r,s.fieldTransforms=o,s.type=1,s}return Object(Fr.c)(e,t),e}(yd);function xd(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}}),e}function Id(t,e,n){var i=new Map;Tl(t.length===n.length);for(var r=0;r<n.length;r++){var o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,od(s,a,n[r]))}return i}function kd(t,e,n){for(var i=new Map,r=0,o=t;r<o.length;r++){var s=o[r],a=s.transform,u=n.data.field(s.field);i.set(s.field,rd(a,u,e))}return i}var Ad,Dd,Rd=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=2,i.fieldTransforms=[],i}return Object(Fr.c)(e,t),e}(yd),Pd=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=3,i.fieldTransforms=[],i}return Object(Fr.c)(e,t),e}(yd),Nd=function(t){this.count=t};function jd(t){switch(t){case vl.OK:return Sl();case vl.CANCELLED:case vl.UNKNOWN:case vl.DEADLINE_EXCEEDED:case vl.RESOURCE_EXHAUSTED:case vl.INTERNAL:case vl.UNAVAILABLE:case vl.UNAUTHENTICATED:return!1;case vl.INVALID_ARGUMENT:case vl.NOT_FOUND:case vl.ALREADY_EXISTS:case vl.PERMISSION_DENIED:case vl.FAILED_PRECONDITION:case vl.ABORTED:case vl.OUT_OF_RANGE:case vl.UNIMPLEMENTED:case vl.DATA_LOSS:return!0;default:return Sl()}}function Ld(t){if(void 0===t)return Cl("GRPC error has no .code"),vl.UNKNOWN;switch(t){case Ad.OK:return vl.OK;case Ad.CANCELLED:return vl.CANCELLED;case Ad.UNKNOWN:return vl.UNKNOWN;case Ad.DEADLINE_EXCEEDED:return vl.DEADLINE_EXCEEDED;case Ad.RESOURCE_EXHAUSTED:return vl.RESOURCE_EXHAUSTED;case Ad.INTERNAL:return vl.INTERNAL;case Ad.UNAVAILABLE:return vl.UNAVAILABLE;case Ad.UNAUTHENTICATED:return vl.UNAUTHENTICATED;case Ad.INVALID_ARGUMENT:return vl.INVALID_ARGUMENT;case Ad.NOT_FOUND:return vl.NOT_FOUND;case Ad.ALREADY_EXISTS:return vl.ALREADY_EXISTS;case Ad.PERMISSION_DENIED:return vl.PERMISSION_DENIED;case Ad.FAILED_PRECONDITION:return vl.FAILED_PRECONDITION;case Ad.ABORTED:return vl.ABORTED;case Ad.OUT_OF_RANGE:return vl.OUT_OF_RANGE;case Ad.UNIMPLEMENTED:return vl.UNIMPLEMENTED;case Ad.DATA_LOSS:return vl.DATA_LOSS;default:return Sl()}}(Dd=Ad||(Ad={}))[Dd.OK=0]="OK",Dd[Dd.CANCELLED=1]="CANCELLED",Dd[Dd.UNKNOWN=2]="UNKNOWN",Dd[Dd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dd[Dd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dd[Dd.NOT_FOUND=5]="NOT_FOUND",Dd[Dd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dd[Dd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dd[Dd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dd[Dd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dd[Dd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dd[Dd.ABORTED=10]="ABORTED",Dd[Dd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dd[Dd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dd[Dd.INTERNAL=13]="INTERNAL",Dd[Dd.UNAVAILABLE=14]="UNAVAILABLE",Dd[Dd.DATA_LOSS=15]="DATA_LOSS";var Fd=function(){function t(t,e){this.comparator=t,this.root=e||Vd.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vd.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vd.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Md(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Md(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Md(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Md(this.root,t,this.comparator,!0)},t}(),Md=function(){function t(t,e,n,i){this.isReverse=i,this.nodeStack=[];for(var r=1;!t.isEmpty();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Vd=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Sl();if(this.right.isRed())throw Sl();var t=this.left.check();if(t!==this.right.check())throw Sl();return t+(this.isRed()?0:1)},t}();Vd.EMPTY=null,Vd.RED=!0,Vd.BLACK=!1,Vd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Sl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Sl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Sl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Sl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Sl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Vd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Ud=function(){function t(t){this.comparator=t,this.data=new Fd(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Bd(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Bd(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Bd=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Hd=new Fd(th.comparator);function qd(){return Hd}var zd=new Fd(th.comparator);function Kd(){return zd}var Wd=new Fd(th.comparator);function Gd(){return Wd}var Yd=new Ud(th.comparator);function $d(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Yd,i=0,r=t;i<r.length;i++){var o=r[i];n=n.add(o)}return n}var Qd=new Ud(Al);function Xd(){return Qd}var Jd=function(){function t(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,Zd.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Nl.min(),i,Xd(),qd(),$d())},t}(),Zd=function(){function t(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ql.EMPTY_BYTE_STRING,n,$d(),$d(),$d())},t}(),tf=function(t,e,n,i){this.v=t,this.removedTargetIds=e,this.key=n,this.P=i},ef=function(t,e){this.targetId=t,this.V=e},nf=function(t,e,n,i){void 0===n&&(n=ql.EMPTY_BYTE_STRING),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},rf=function(){function t(){this.S=0,this.D=af(),this.C=ql.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=$d(),e=$d(),n=$d();return this.D.forEach(function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Sl()}}),new Zd(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=af()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),of=function(){function t(t){this.W=t,this.G=new Map,this.H=qd(),this.J=sf(),this.Y=new Ud(Al)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var i=n[e];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var r=0,o=t.removedTargetIds;r<o.length;r++)this.tt(i=o[r],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var i=e.nt(n);switch(t.state){case 0:e.st(n)&&i.$(t.resumeToken);break;case 1:i.K(),i.k||i.L(),i.$(t.resumeToken);break;case 2:i.K(),i.k||e.removeTarget(n);break;case 3:e.st(n)&&(i.j(),i.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),i.$(t.resumeToken));break;default:Sl()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,i){n.st(i)&&e(i)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,i=this.ot(e);if(i){var r=i.target;if(wh(r))if(0===n){var o=new th(r.path);this.tt(e,o,gh.newNoDocument(o,Nl.min()))}else Tl(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(i,r){var o=e.ot(r);if(o){if(i.current&&wh(o.target)){var s=new th(o.target.path);null!==e.H.get(s)||e.at(r,s)||e.tt(r,s,gh.newNoDocument(s,t))}i.O&&(n.set(r,i.M()),i.L())}});var i=$d();this.J.forEach(function(t,n){var r=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(r=!1,!1)}),r&&(i=i.add(t))});var r=new Jd(t,n,this.Y,this.H,i);return this.H=qd(),this.J=sf(),this.Y=new Ud(Al),r},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var i=this.nt(t);this.at(t,e)?i.B(e,1):i.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new rf,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Ud(Al),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||wl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new rf),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function sf(){return new Fd(th.comparator)}function af(){return new Fd(th.comparator)}var uf={asc:"ASCENDING",desc:"DESCENDING"},cf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lf=function(t,e){this.databaseId=t,this.I=e};function hf(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function df(t,e){return t.I?e.toBase64():e.toUint8Array()}function ff(t,e){return hf(t,e.toTimestamp())}function pf(t){return Tl(!!t),Nl.fromTimestamp(function(t){var e=Kl(t);return new Pl(e.seconds,e.nanos)}(t))}function mf(t,e){return function(t){return new Vl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function gf(t){var e=Vl.fromString(t);return Tl(Uf(e)),e}function vf(t,e){return mf(t.databaseId,e.path)}function bf(t,e){var n=gf(e);if(n.get(1)!==t.databaseId.projectId)throw new bl(vl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new bl(vl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new th(Cf(n))}function yf(t,e){return mf(t.databaseId,e)}function _f(t){var e=gf(t);return 4===e.length?Vl.emptyPath():Cf(e)}function wf(t){return new Vl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Cf(t){return Tl(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Of(t,e,n){return{name:vf(t,e),fields:n.toProto().mapValue.fields}}function Ef(t,e,n){var i=bf(t,e.name),r=pf(e.updateTime),o=new ph({mapValue:{fields:e.fields}}),s=gh.newFoundDocument(i,r,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Sf(t,e){var n;if(e instanceof Sd)n={update:Of(t,e.key,e.value)};else if(e instanceof Rd)n={delete:vf(t,e.key)};else if(e instanceof Td)n={update:Of(t,e.key,e.data),updateMask:Vf(e.fieldMask)};else{if(!(e instanceof Pd))return Sl();n={verify:vf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof ad)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ud)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ld)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof dd)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Sl()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ff(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Sl()}(t,e.precondition)),n}function Tf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?vd.updateTime(pf(t.updateTime)):void 0!==t.exists?vd.exists(t.exists):vd.none()}(e.currentDocument):vd.none(),i=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Tl("REQUEST_TIME"===e.setToServerValue),n=new ad):"appendMissingElements"in e?n=new ud(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new ld(e.removeAllFromArray.values||[]):"increment"in e?n=new dd(t,e.increment):Sl();var i=Bl.fromServerFormat(e.fieldPath);return new md(i,n)}(t,e)}):[];if(e.update){var r=bf(t,e.update.name),o=new ph({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Hl((t.fieldPaths||[]).map(function(t){return Bl.fromServerFormat(t)}))}(e.updateMask);return new Td(r,o,s,n,i)}return new Sd(r,o,n,i)}if(e.delete){var a=bf(t,e.delete);return new Rd(a,n)}if(e.verify){var u=bf(t,e.verify);return new Pd(u,n)}return Sl()}function xf(t,e){return{documents:[yf(t,e.path)]}}function If(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=yf(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=yf(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var r=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(dh(t.value))return{unaryFilter:{field:jf(t.field),op:"IS_NAN"}};if(hh(t.value))return{unaryFilter:{field:jf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(dh(t.value))return{unaryFilter:{field:jf(t.field),op:"IS_NOT_NAN"}};if(hh(t.value))return{unaryFilter:{field:jf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jf(t.field),op:Nf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(n.structuredQuery.where=r);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:jf(t.field),direction:Pf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Xl(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Df(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Df(e.endAt)),n}function kf(t){var e=_f(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Tl(1===i);var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Af(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Ph(Lf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Xl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Rf(n.startAt));var l=null;return n.endAt&&(l=Rf(n.endAt)),Mh(e,r,a,s,u,"F",c,l)}function Af(t){return t?void 0!==t.unaryFilter?[Mf(t)]:void 0!==t.fieldFilter?[Ff(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Af(t)}).reduce(function(t,e){return t.concat(e)}):Sl():[]}function Df(t){return{before:t.before,values:t.position}}function Rf(t){return new Dh(t.values||[],!!t.before)}function Pf(t){return uf[t]}function Nf(t){return cf[t]}function jf(t){return{fieldPath:t.canonicalString()}}function Lf(t){return Bl.fromServerFormat(t.fieldPath)}function Ff(t){return Ch.create(Lf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Sl()}}(t.fieldFilter.op),t.fieldFilter.value)}function Mf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Lf(t.unaryFilter.field);return Ch.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Lf(t.unaryFilter.field);return Ch.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Lf(t.unaryFilter.field);return Ch.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=Lf(t.unaryFilter.field);return Ch.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Sl()}}function Vf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Uf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Bf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=qf(e)),e=Hf(t.get(n),e);return qf(e)}function Hf(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var o=t.charAt(r);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function qf(t){return t+"\x01\x01"}function zf(t){var e=t.length;if(Tl(e>=2),2===e)return Tl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Vl.emptyPath();for(var n=e-2,i=[],r="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Sl(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===r.length?u=a:(u=r+=a,r=""),i.push(u);break;case"\x10":r+=t.substring(o,s),r+="\0";break;case"\x11":r+=t.substring(o,s+1);break;default:Sl()}o=s+2}return new Vl(i)}var Kf=function(t,e){this.seconds=t,this.nanoseconds=e},Wf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Wf.store="owner",Wf.key="owner";var Gf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Gf.store="mutationQueues",Gf.keyPath="userId";var Yf=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};Yf.store="mutations",Yf.keyPath="batchId",Yf.userMutationsIndex="userMutationsIndex",Yf.userMutationsKeyPath=["userId","batchId"];var $f=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Bf(e)]},t.key=function(t,e,n){return[t,Bf(e),n]},t}();$f.store="documentMutations",$f.PLACEHOLDER=new $f;var Qf=function(t,e){this.path=t,this.readTime=e},Xf=function(t,e){this.path=t,this.version=e},Jf=function(t,e,n,i,r,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=o};Jf.store="remoteDocuments",Jf.readTimeIndex="readTimeIndex",Jf.readTimeIndexPath="readTime",Jf.collectionReadTimeIndex="collectionReadTimeIndex",Jf.collectionReadTimeIndexPath=["parentPath","readTime"];var Zf=function(t){this.byteSize=t};Zf.store="remoteDocumentGlobal",Zf.key="remoteDocumentGlobalKey";var tp=function(t,e,n,i,r,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=s};tp.store="targets",tp.keyPath="targetId",tp.queryTargetsIndexName="queryTargetsIndex",tp.queryTargetsKeyPath=["canonicalId","targetId"];var ep=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ep.store="targetDocuments",ep.keyPath=["targetId","path"],ep.documentTargetsIndex="documentTargetsIndex",ep.documentTargetsKeyPath=["path","targetId"];var np=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};np.key="targetGlobalKey",np.store="targetGlobal";var ip=function(t,e){this.collectionId=t,this.parent=e};ip.store="collectionParents",ip.keyPath=["collectionId","parent"];var rp=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};rp.store="clientMetadata",rp.keyPath="clientId";var op=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};op.store="bundles",op.keyPath="bundleId";var sp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};sp.store="namedQueries",sp.keyPath="name";var ap=Object(Fr.f)(Object(Fr.f)([],Object(Fr.f)(Object(Fr.f)([],Object(Fr.f)(Object(Fr.f)([],Object(Fr.f)(Object(Fr.f)([],[Gf.store,Yf.store,$f.store,Jf.store,tp.store,Wf.store,np.store,ep.store]),[rp.store])),[Zf.store])),[ip.store])),[op.store,sp.store]),up="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",cp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),lp=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},hp=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&Sl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,r){i.nextCallback=function(n){i.wrapSuccess(e,n).next(t,r)},i.catchCallback=function(e){i.wrapFailure(n,e).next(t,r)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var i=0,r=0,o=!1;e.forEach(function(e){++i,e.next(function(){++r,o&&r===i&&t()},function(t){return n(t)})}),o=!0,r===i&&t()})},t.or=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},r=0,o=e;r<o.length;r++)i(o[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach(function(t,r){i.push(e.call(n,t,r))}),this.waitFor(i)},t}(),dp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new lp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new mp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var i=_p(e.target.error);n.ft.reject(new mp(t,i))}}return t.open=function(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(e){throw new mp(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(wl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new vp(e)},t}(),fp=function(){function t(e,n,i){this.name=e,this.version=n,this.wt=i,12.2===t._t(Object(fs.q)())&&Cl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return wl("SimpleDb","Removing database:",t),bp(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(fs.q)(),n=t._t(e),i=0<n&&n<10,r=t.Et(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n=this;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(wl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,i){var r=indexedDB.open(n.name,n.version);r.onsuccess=function(t){e(t.target.result)},r.onblocked=function(){i(new mp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(e){var n=e.target.error;i("VersionError"===n.name?new bl(vl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new mp(t,n))},r.onupgradeneeded=function(t){wl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,r.transaction,t.oldVersion,n.version).next(function(){wl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return Object(Fr.b)(this,void 0,void 0,function(){var r,o,s,a,u;return Object(Fr.d)(this,function(c){switch(c.label){case 0:r="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Fr.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=dp.open(a.db,t,r?"readonly":"readwrite",n),s=i(e).catch(function(t){return e.abort(t),hp.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return wl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),pp=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return bp(this.Pt.delete())},t}(),mp=function(t){function e(e,n){var i=this;return(i=t.call(this,vl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",i}return Object(Fr.c)(e,t),e}(bl);function gp(t){return"IndexedDbTransactionError"===t.name}var vp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(wl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(wl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),bp(n)},t.prototype.add=function(t){return wl("SimpleDb","ADD",this.store.name,t,t),bp(this.store.add(t))},t.prototype.get=function(t){var e=this;return bp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),wl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return wl("SimpleDb","DELETE",this.store.name,t),bp(this.store.delete(t))},t.prototype.count=function(){return wl("SimpleDb","COUNT",this.store.name),bp(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.xt(n,function(t,e){i.push(e)}).next(function(){return i})},t.prototype.Ft=function(t,e){wl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var i=this.cursor(n);return this.xt(i,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.xt(i,e)},t.prototype.$t=function(t){var e=this.cursor({});return new hp(function(n,i){e.onerror=function(t){var e=_p(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next(function(t){t?i.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new hp(function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var o=new pp(r),s=e(r.primaryKey,r.value,o);if(s instanceof hp){var a=s.catch(function(t){return o.done(),hp.reject(t)});n.push(a)}o.isDone?i():null===o.Dt?r.continue():r.continue(o.Dt)}else i()}}).next(function(){return hp.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function bp(t){return new hp(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=_p(t.target.error);n(e)}})}var yp=!1;function _p(t){var e=fp._t(Object(fs.q)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new bl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return yp||(yp=!0,setTimeout(function(){throw i},0)),i}}return t}var wp=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Mt=e,i.currentSequenceNumber=n,i}return Object(Fr.c)(e,t),e}(cp);function Cp(t,e){var n=xl(t);return fp.It(n.Mt,e)}var Op=function(){function t(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,i=0;i<this.mutations.length;i++){var r=this.mutations[i];r.key.isEqual(t.key)&&_d(r,t,n[i])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&wd(o,t,this.localWriteTime);for(var i=0,r=this.mutations;i<r.length;i++){var o;(o=r[i]).key.isEqual(t.key)&&wd(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var i=t.get(n.key),r=i;e.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Nl.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},$d())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Dl(this.mutations,t.mutations,function(t,e){return Od(t,e)})&&Dl(this.baseMutations,t.baseMutations,function(t,e){return Od(t,e)})},t}(),Ep=function(){function t(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}return t.from=function(e,n,i){Tl(e.mutations.length===i.length);for(var r=Gd(),o=e.mutations,s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)},t}(),Sp=function(){function t(t,e,n,i,r,o,s){void 0===r&&(r=Nl.min()),void 0===o&&(o=Nl.min()),void 0===s&&(s=ql.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Tp=function(t){this.Lt=t};function xp(t,e){if(e.document)return Ef(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=th.fromSegments(e.noDocument.path),i=Rp(e.noDocument.readTime),r=gh.newNoDocument(n,i);return e.hasCommittedMutations?r.setHasCommittedMutations():r}if(e.unknownDocument){var o=th.fromSegments(e.unknownDocument.path);return i=Rp(e.unknownDocument.version),gh.newUnknownDocument(o,i)}return Sl()}function Ip(t,e,n){var i=kp(n),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:vf(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:hf(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Jf(null,null,o,s,i,r)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Dp(e.version);return s=e.hasCommittedMutations,new Jf(null,new Qf(a,u),null,s,i,r)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Dp(e.version);return new Jf(new Xf(c,l),null,null,!0,i,r)}return Sl()}function kp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ap(t){var e=new Pl(t[0],t[1]);return Nl.fromTimestamp(e)}function Dp(t){var e=t.toTimestamp();return new Kf(e.seconds,e.nanoseconds)}function Rp(t){var e=new Pl(t.seconds,t.nanoseconds);return Nl.fromTimestamp(e)}function Pp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Tf(t.Lt,e)}),i=0;i<e.mutations.length-1;++i)i+1<e.mutations.length&&void 0!==e.mutations[i+1].transform&&(e.mutations[i].updateTransforms=e.mutations[i+1].transform.fieldTransforms,e.mutations.splice(i+1,1),++i);var r=e.mutations.map(function(e){return Tf(t.Lt,e)}),o=Pl.fromMillis(e.localWriteTimeMs);return new Op(e.batchId,o,n,r)}function Np(t){var e,n,i=Rp(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?Rp(t.lastLimboFreeSnapshotVersion):Nl.min();return void 0!==t.query.documents?(Tl(1===(n=t.query).documents.length),e=Wh(Vh(_f(n.documents[0])))):e=function(t){return Wh(kf(t))}(t.query),new Sp(e,t.targetId,0,t.lastListenSequenceNumber,i,r,ql.fromBase64String(t.resumeToken))}function jp(t,e){var n,i=Dp(e.snapshotVersion),r=Dp(e.lastLimboFreeSnapshotVersion);n=wh(e.target)?xf(t.Lt,e.target):If(t.Lt,e.target);var o=e.resumeToken.toBase64();return new tp(e.targetId,yh(e.target),i,o,e.sequenceNumber,r,n)}function Lp(t){var e=kf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Gh(e,e.limit,"L"):e}var Fp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Mp(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Rp(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Mp(t).put({bundleId:(n=e).id,createTime:Dp(pf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Vp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Lp(e.bundledQuery),readTime:Rp(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Vp(t).put(function(t){return{name:t.name,readTime:Dp(pf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Mp(t){return Cp(t,op.store)}function Vp(t){return Cp(t,sp.store)}var Up=function(){function t(){this.Bt=new Bp}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),hp.resolve()},t.prototype.getCollectionParents=function(t,e){return hp.resolve(this.Bt.getEntries(e))},t}(),Bp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Ud(Vl.comparator),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ud(Vl.comparator)).toArray()},t}(),Hp=function(){function t(){this.qt=new Bp}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:i,parent:Bf(r)};return qp(t).put(o)}return hp.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[Rl(e),""],!1,!0);return qp(t).Nt(i).next(function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.collectionId!==e)break;n.push(zf(o.parent))}return n})},t}();function qp(t){return Cp(t,ip.store)}var zp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Wp(t,e,n){var i=t.store(Yf.store),r=t.store($f.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=i.Ot({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Tl(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=$f.key(e,d.key.path,n.batchId);o.push(r.delete(f)),c.push(d.key)}return hp.waitFor(o).next(function(){return c})}function Gp(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Sl();e=t.noDocument}return JSON.stringify(e).length}Kp.DEFAULT_COLLECTION_PERCENTILE=10,Kp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kp.DEFAULT=new Kp(41943040,Kp.DEFAULT_COLLECTION_PERCENTILE,Kp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kp.DISABLED=new Kp(-1,0,0);var Yp=function(){function t(t,e,n,i){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=i,this.Qt={}}return t.Kt=function(e,n,i,r){return Tl(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,i,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qp(t).Ot({index:Yf.userMutationsIndex,range:n},function(t,n,i){e=!1,i.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,i){var r=this,o=Xp(t),s=Qp(t);return s.add({}).next(function(a){Tl("number"==typeof a);for(var u=new Op(a,e,n,i),c=function(t,e,n){var i=n.baseMutations.map(function(e){return Sf(t.Lt,e)}),r=n.mutations.map(function(e){return Sf(t.Lt,e)});return new Yf(e,n.batchId,n.localWriteTime.toMillis(),i,r)}(r.R,r.userId,u),l=[],h=new Ud(function(t,e){return Al(t.canonicalString(),e.canonicalString())}),d=0,f=i;d<f.length;d++){var p=f[d],m=$f.key(r.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(m,$f.PLACEHOLDER))}return h.forEach(function(e){l.push(r.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){r.Qt[a]=u.keys()}),hp.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Qp(t).get(e).next(function(t){return t?(Tl(t.userId===n.userId),Pp(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?hp.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var i=t.keys();return n.Qt[e]=i,i}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return Qp(t).Ot({index:Yf.userMutationsIndex,range:r},function(t,e,r){e.userId===n.userId&&(Tl(e.batchId>=i),o=Pp(n.R,e)),r.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Qp(t).Ot({index:Yf.userMutationsIndex,range:e,reverse:!0},function(t,e,i){n=e.batchId,i.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qp(t).Nt(Yf.userMutationsIndex,n).next(function(t){return t.map(function(t){return Pp(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=$f.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Xp(t).Ot({range:r},function(i,r,s){var a=i[0],u=i[2],c=zf(i[1]);if(a===n.userId&&e.path.isEqual(c))return Qp(t).get(u).next(function(t){if(!t)throw Sl();Tl(t.userId===n.userId),o.push(Pp(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new Ud(Al),r=[];return e.forEach(function(e){var o=$f.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Xp(t).Ot({range:s},function(t,r,o){var s=t[0],a=t[2],u=zf(t[1]);s===n.userId&&e.path.isEqual(u)?i=i.add(a):o.done()});r.push(a)}),hp.waitFor(r).next(function(){return n.Wt(t,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,i=e.path,r=i.length+1,o=$f.prefixForPath(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new Ud(Al);return Xp(t).Ot({range:s},function(t,e,o){var s=t[0],u=t[2],c=zf(t[1]);s===n.userId&&i.isPrefixOf(c)?c.length===r&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,i=[],r=[];return e.forEach(function(e){r.push(Qp(t).get(e).next(function(t){if(null===t)throw Sl();Tl(t.userId===n.userId),i.push(Pp(n.R,t))}))}),hp.waitFor(r).next(function(){return i})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Wp(t.Mt,this.userId,e).next(function(i){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),hp.forEach(i,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return hp.resolve();var i=IDBKeyRange.lowerBound($f.prefixForUser(e.userId)),r=[];return Xp(t).Ot({range:i},function(t,n,i){if(t[0]===e.userId){var o=zf(t[1]);r.push(o)}else i.done()}).next(function(){Tl(0===r.length)})})},t.prototype.containsKey=function(t,e){return $p(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Jp(t).get(this.userId).next(function(t){return t||new Gf(e.userId,-1,"")})},t}();function $p(t,e,n){var i=$f.prefixForPath(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return Xp(t).Ot({range:o,kt:!0},function(t,n,i){t[0]===e&&t[1]===r&&(s=!0),i.done()}).next(function(){return s})}function Qp(t){return Cp(t,Yf.store)}function Xp(t){return Cp(t,$f.store)}function Jp(t){return Cp(t,Gf.store)}var Zp=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),tm=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var i=new Zp(n.highestTargetId);return n.highestTargetId=i.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Nl.fromTimestamp(new Pl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var i=this;return this.Xt(t).next(function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.Zt(t,r)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(i){return i.targetCount+=1,n.ee(e,i),n.Zt(t,i)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return em(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Tl(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return em(t).Ot(function(s,a){var u=Np(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r++,o.push(i.removeTargetData(t,u)))}).next(function(){return hp.waitFor(o)}).next(function(){return r})},t.prototype.forEachTarget=function(t,e){return em(t).Ot(function(t,n){var i=Np(n);e(i)})},t.prototype.Xt=function(t){return nm(t).get(np.key).next(function(t){return Tl(null!==t),t})},t.prototype.Zt=function(t,e){return nm(t).put(np.key,e)},t.prototype.te=function(t,e){return em(t).put(jp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=yh(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return em(t).Ot({range:i,index:tp.queryTargetsIndexName},function(t,n,i){var o=Np(n);_h(e,o.target)&&(r=o,i.done())}).next(function(){return r})},t.prototype.addMatchingKeys=function(t,e,n){var i=this,r=[],o=im(t);return e.forEach(function(e){var s=Bf(e.path);r.push(o.put(new ep(n,s))),r.push(i.referenceDelegate.addReference(t,n,e))}),hp.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var i=this,r=im(t);return hp.forEach(e,function(e){var o=Bf(e.path);return hp.waitFor([r.delete([n,o]),i.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=im(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=im(t),r=$d();return i.Ot({range:n,kt:!0},function(t,e,n){var i=zf(t[1]),o=new th(i);r=r.add(o)}).next(function(){return r})},t.prototype.containsKey=function(t,e){var n=Bf(e.path),i=IDBKeyRange.bound([n],[Rl(n)],!1,!0),r=0;return im(t).Ot({index:ep.documentTargetsIndex,kt:!0,range:i},function(t,e,n){0!==t[0]&&(r++,n.done())}).next(function(){return r>0})},t.prototype.lt=function(t,e){return em(t).get(e).next(function(t){return t?Np(t):null})},t}();function em(t){return Cp(t,tp.store)}function nm(t){return Cp(t,np.store)}function im(t){return Cp(t,ep.store)}function rm(t){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(e){if(t.code!==vl.FAILED_PRECONDITION||t.message!==up)throw t;return wl("LocalStore","Unexpectedly lost primary lease"),[2]})})}function om(t,e){var n=t[1],i=e[1],r=Al(t[0],e[0]);return 0===r?Al(n,i):r}var sm=function(){function t(t){this.ne=t,this.buffer=new Ud(om),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();om(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),am=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;wl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Fr.b)(e,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return gp(e=n.sent())?(wl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,rm(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),um=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return hp.resolve(gl.o);var i=new sm(e);return this.ae.forEachTarget(t,function(t){return i.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return i.re(t)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(wl("LruGarbageCollector","Garbage collection skipped; disabled"),hp.resolve(zp)):this.getCacheSize(t).next(function(i){return i<n.params.cacheSizeCollectionThreshold?(wl("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),zp):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,i,r,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(wl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),i=c.params.maximumSequenceNumbersToCollect):i=e,o=Date.now(),c.nthSequenceNumber(t,i)}).next(function(i){return n=i,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return r=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),_l()<=ps.a.DEBUG&&wl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+i+" in "+(s-o)+"ms\n\tRemoved "+r+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),hp.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})})},t}(),cm=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new um(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return lm(t,n)},t.prototype.removeReference=function(t,e,n){return lm(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return lm(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Jp(t).$t(function(i){return $p(t,i,e).next(function(t){return t&&(n=!0),hp.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,i.getEntry(t,s).next(function(){return i.removeEntry(s),im(t).delete([0,Bf(s.path)])})});r.push(u)}}).next(function(){return hp.waitFor(r)}).next(function(){return i.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return lm(t,e)},t.prototype.we=function(t,e){var n,i=im(t),r=gl.o;return i.Ot({index:ep.documentTargetsIndex},function(t,i){var o=i.path,s=i.sequenceNumber;0===t[0]?(r!==gl.o&&e(new th(zf(n)),r),r=s,n=o):r=gl.o}).next(function(){r!==gl.o&&e(new th(zf(n)),r)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function lm(t,e){return im(t).put(function(t,e){return new ep(0,Bf(t.path),e)}(e,t.currentSequenceNumber))}var hm=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),i=this.inner[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){Ll(this.inner,function(e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Fl(this.inner)},t}(),dm=function(){function t(){this.changes=new hm(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Nl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:gh.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?hp.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),fm=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return gm(t).put(vm(e),n)},t.prototype.removeEntry=function(t,e){var n=gm(t),i=vm(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(i){return i.byteSize+=e,n.me(t,i)})},t.prototype.getEntry=function(t,e){var n=this;return gm(t).get(vm(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return gm(t).get(vm(e)).next(function(t){return{document:n.ye(e,t),size:Gp(t)}})},t.prototype.getEntries=function(t,e){var n=this,i=qd();return this.pe(t,e,function(t,e){var r=n.ye(t,e);i=i.insert(t,r)}).next(function(){return i})},t.prototype.Ee=function(t,e){var n=this,i=qd(),r=new Fd(th.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);i=i.insert(t,o),r=r.insert(t,Gp(e))}).next(function(){return{documents:i,Te:r}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return hp.resolve();var i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),r=e.getIterator(),o=r.getNext();return gm(t).Ot({range:i},function(t,e,i){for(var s=th.fromSegments(t);o&&th.comparator(o,s)<0;)n(o,null),o=r.getNext();o&&o.isEqual(s)&&(n(o,e),o=r.hasNext()?r.getNext():null),o?i.Ct(o.path.toArray()):i.done()}).next(function(){for(;o;)n(o,null),o=r.hasNext()?r.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var i=this,r=qd(),o=e.path.length+1,s={};if(n.isEqual(Nl.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=kp(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Jf.collectionReadTimeIndex}return gm(t).Ot(s,function(t,n,s){if(t.length===o){var a=xp(i.R,n);e.path.isPrefixOf(a.key.path)?Xh(e,a)&&(r=r.insert(a.key,a)):s.done()}}).next(function(){return r})},t.prototype.newChangeBuffer=function(t){return new pm(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return mm(t).get(Zf.key).next(function(t){return Tl(!!t),t})},t.prototype.me=function(t,e){return mm(t).put(Zf.key,e)},t.prototype.ye=function(t,e){if(e){var n=xp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Nl.min()))return n}return gh.newInvalidDocument(t)},t}(),pm=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Ie=e,i.trackRemovals=n,i.Ae=new hm(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),i}return Object(Fr.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],i=0,r=new Ud(function(t,e){return Al(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Ip(e.Ie.R,s.document,e.getReadTime(o));r=r.add(o.path.popLast());var c=Gp(u);i+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(i-=a,e.trackRemovals){var l=Ip(e.Ie.R,gh.newNoDocument(o,Nl.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),r.forEach(function(i){n.push(e.Ie.Ut.addToCollectionParentIndex(t,i))}),n.push(this.Ie.updateMetadata(t,i)),hp.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(dm);function mm(t){return Cp(t,Zf.store)}function gm(t){return Cp(t,Jf.store)}function vm(t){return t.path.toArray()}var bm=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,i){var r=this;Tl(n<i&&n>=0&&i<=11);var o=new dp("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore(Wf.store)}(t),function(t){t.createObjectStore(Gf.store,{keyPath:Gf.keyPath}),t.createObjectStore(Yf.store,{keyPath:Yf.keyPath,autoIncrement:!0}).createIndex(Yf.userMutationsIndex,Yf.userMutationsKeyPath,{unique:!0}),t.createObjectStore($f.store)}(t),ym(t),function(t){t.createObjectStore(Jf.store)}(t));var s=hp.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(ep.store),t.deleteObjectStore(tp.store),t.deleteObjectStore(np.store)}(t),ym(t)),s=s.next(function(){return function(t){var e=t.store(np.store),n=new np(0,0,Nl.min().toTimestamp(),0);return e.put(np.key,n)}(o)})),n<4&&i>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Yf.store).Nt().next(function(n){t.deleteObjectStore(Yf.store),t.createObjectStore(Yf.store,{keyPath:Yf.keyPath,autoIncrement:!0}).createIndex(Yf.userMutationsIndex,Yf.userMutationsKeyPath,{unique:!0});var i=e.store(Yf.store),r=n.map(function(t){return i.put(t)});return hp.waitFor(r)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(rp.store,{keyPath:rp.keyPath})}(t)})),n<5&&i>=5&&(s=s.next(function(){return r.Re(o)})),n<6&&i>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Zf.store)}(t),r.be(o)})),n<7&&i>=7&&(s=s.next(function(){return r.ve(o)})),n<8&&i>=8&&(s=s.next(function(){return r.Pe(t,o)})),n<9&&i>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Jf.store);e.createIndex(Jf.readTimeIndex,Jf.readTimeIndexPath,{unique:!1}),e.createIndex(Jf.collectionReadTimeIndex,Jf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&i>=10&&(s=s.next(function(){return r.Ve(o)})),n<11&&i>=11&&(s=s.next(function(){!function(t){t.createObjectStore(op.store,{keyPath:op.keyPath})}(t),function(t){t.createObjectStore(sp.store,{keyPath:sp.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Jf.store).Ot(function(t,n){e+=Gp(n)}).next(function(){var n=new Zf(e);return t.store(Zf.store).put(Zf.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Gf.store),i=t.store(Yf.store);return n.Nt().next(function(n){return hp.forEach(n,function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.Nt(Yf.userMutationsIndex,r).next(function(i){return hp.forEach(i,function(i){Tl(i.userId===n.userId);var r=Pp(e.R,i);return Wp(t,n.userId,r).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(ep.store),n=t.store(Jf.store);return t.store(np.store).get(np.key).next(function(t){var i=[];return n.Ot(function(n,r){var o=new Vl(n),s=function(t){return[0,Bf(t)]}(o);i.push(e.get(s).next(function(n){return n?hp.resolve():function(n){return e.put(new ep(0,Bf(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return hp.waitFor(i)})})},t.prototype.Pe=function(t,e){t.createObjectStore(ip.store,{keyPath:ip.keyPath});var n=e.store(ip.store),i=new Bp,r=function(t){if(i.add(t)){var e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:Bf(r)})}};return e.store(Jf.store).Ot({kt:!0},function(t,e){var n=new Vl(t);return r(n.popLast())}).next(function(){return e.store($f.store).Ot({kt:!0},function(t,e){var n=zf(t[1]);return r(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(tp.store);return n.Ot(function(t,i){var r=Np(i),o=jp(e.R,r);return n.put(o)})},t}();function ym(t){t.createObjectStore(ep.store,{keyPath:ep.keyPath}).createIndex(ep.documentTargetsIndex,ep.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(tp.store,{keyPath:tp.keyPath}).createIndex(tp.queryTargetsIndexName,tp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(np.store)}var _m="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wm=function(){function t(e,n,i,r,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new bl(vl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cm(this,r),this.Le=n+"main",this.R=new Tp(u),this.Be=new fp(this.Le,11,new bm(this.R)),this.qe=new tm(this.referenceDelegate,this.R),this.Ut=new Hp,this.Ue=function(t,e){return new fm(t,e)}(this.R,this.Ut),this.Qe=new Fp,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Cl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new bl(vl.FAILED_PRECONDITION,_m);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new gl(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Fr.b)(e,void 0,void 0,function(){return Object(Fr.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Fr.b)(e,void 0,void 0,function(){return Object(Fr.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Fr.b)(e,void 0,void 0,function(){return Object(Fr.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Om(e).put(new rp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(gp(e))return wl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return wl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Cm(t).get(Wf.key).next(function(t){return hp.resolve(e.tn(t))})},t.prototype.en=function(t){return Om(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t,e,n,i=this;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Cp(t,rp.store);return e.Nt().next(function(t){var n=i.rn(t,18e5),r=t.filter(function(t){return-1===n.indexOf(t)});return hp.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=r.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));r.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?hp.resolve(!0):Cm(t).get(Wf.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new bl(vl.FAILED_PRECONDITION,_m);return!1}}return!(!e.networkEnabled||!e.inForeground)||Om(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&wl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t=this;return Object(Fr.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Wf.store,rp.store],function(e){var n=new wp(e,gl.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Om(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Yp.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var i,r=this;return wl("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",ap,function(o){return i=new wp(o,r.Ne?r.Ne.next():gl.o),"readwrite-primary"===e?r.Je(i).next(function(t){return!!t||r.Ye(i)}).next(function(e){if(!e)throw Cl("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable(function(){return r.Me(!1)}),new bl(vl.FAILED_PRECONDITION,up);return n(i)}).next(function(t){return r.Ze(i).next(function(){return t})}):r.dn(i).next(function(){return n(i)})}).then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Cm(t).get(Wf.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new bl(vl.FAILED_PRECONDITION,_m)})},t.prototype.Ze=function(t){var e=new Wf(this.clientId,this.allowTabSynchronization,Date.now());return Cm(t).put(Wf.key,e)},t.yt=function(){return fp.yt()},t.prototype.Xe=function(t){var e=this,n=Cm(t);return n.get(Wf.key).next(function(t){return e.tn(t)?(wl("IndexedDbPersistence","Releasing primary lease."),n.delete(Wf.key)):hp.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Cl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return wl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Cl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Cl("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Cm(t){return Cp(t,Wf.store)}function Om(t){return Cp(t,rp.store)}function Em(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Sm=function(t,e){this.progress=t,this.wn=e},Tm=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(i){return n.yn(t,e,i)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,i=n;e<i.length;e++)i[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var i=0,r=e;i<r.length;i++)r[i].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return th.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):zh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new th(e)).next(function(t){var e=Kd();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var i=this,r=e.collectionGroup,o=Kd();return this.Ut.getCollectionParents(t,r).next(function(s){return hp.forEach(s,function(s){var a=function(t,e){return new Fh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(r));return i.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var i,r,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return i=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,r=e,i).next(function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=i.get(c);null==l&&(l=gh.newInvalidDocument(c),i=i.insert(c,l)),wd(u,l,o.localWriteTime),l.isFoundDocument()||(i=i.remove(c))}})}).next(function(){return i.forEach(function(t,n){Xh(e,n)||(i=i.remove(t))}),i})},t.prototype.Rn=function(t,e,n){for(var i=$d(),r=0,o=e;r<o.length;r++)for(var s=0,a=o[r].mutations;s<a.length;s++){var u=a[s];u instanceof Td&&null===n.get(u.key)&&(i=i.add(u.key))}var c=n;return this.Ue.getEntries(t,i).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),xm=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=i}return t.Pn=function(e,n){for(var i=$d(),r=$d(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),Im=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,i){var r=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Nl.min())?this.Dn(t,e):this.Sn.pn(t,i).next(function(o){var s=r.Cn(e,o);return(Uh(e)||Bh(e))&&r.Nn(e.limitType,s,i,n)?r.Dn(t,e):(_l()<=ps.a.DEBUG&&wl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Qh(e)),r.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Ud(Jh(t));return e.forEach(function(e,i){Xh(t,i)&&(n=n.add(i))}),n},t.prototype.Nn=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)},t.prototype.Dn=function(t,e){return _l()<=ps.a.DEBUG&&wl("QueryEngine","Using full collection scan to execute query:",Qh(e)),this.Sn.getDocumentsMatchingQuery(t,e,Nl.min())},t}(),km=function(){function t(t,e,n,i){this.persistence=t,this.xn=e,this.R=i,this.Fn=new Fd(Al),this.kn=new hm(function(t){return yh(t)},_h),this.On=Nl.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Tm(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Am(t,e,n,i){return new km(t,e,n,i)}function Dm(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o;return Object(Fr.d)(this,function(s){switch(s.label){case 0:return n=xl(t),i=n._n,r=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,i=n.persistence.getMutationQueue(e),r=new Tm(n.$n,i,n.persistence.getIndexManager()),i.getAllMutationBatches(t)}).next(function(e){for(var n=[],i=[],s=$d(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];i.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)s=s.add(g[m].key)}return r.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:i}})})})];case 1:return o=s.sent(),[2,(n._n=i,n.Mn=r,n.xn.Vn(n.Mn),o)]}})})}function Rm(t,e){var n=xl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var i=e.batch.keys(),r=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){var r=n.batch,o=r.keys(),s=hp.resolve();return o.forEach(function(t){s=s.next(function(){return i.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Tl(null!==o),e.version.compareTo(o)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&i.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,r)})}(n,t,e,r).next(function(){return r.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,i)})})}function Pm(t){var e=xl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Nm(t,e){var n=xl(t),i=e.snapshotVersion,r=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});r=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=r.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,i).withSequenceNumber(t.currentSequenceNumber);r=r.insert(o,c),function(t,e,n){return Tl(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=qd();if(e.documentUpdates.forEach(function(i,r){e.resolvedLimboDocuments.has(i)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))}),s.push(jm(t,o,e.documentUpdates,i,void 0).next(function(t){a=t})),!i.isEqual(Nl.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,i)});s.push(u)}return hp.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=r,t})}function jm(t,e,n,i,r){var o=$d();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=qd();return n.forEach(function(n,s){var a=t.get(n),u=(null==r?void 0:r.get(n))||i;s.isNoDocument()&&s.version.isEqual(Nl.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):wl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Lm(t,e){var n=xl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Fm(t,e){var n=xl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var i;return n.qe.getTargetData(t,e).next(function(r){return r?hp.resolve(i=r):n.qe.allocateTargetId(t).next(function(r){return i=new Sp(e,r,0,t.currentSequenceNumber),n.qe.addTargetData(t,i).next(function(){return i})})})}).then(function(t){var i=n.Fn.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Mm(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r,o,s;return Object(Fr.d)(this,function(a){switch(a.label){case 0:i=xl(t),r=i.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",o,function(t){return i.persistence.referenceDelegate.removeTarget(t,r)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!gp(s=a.sent()))throw s;return wl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return i.Fn=i.Fn.remove(e),i.kn.delete(r.target),[2]}})})}function Vm(t,e,n){var i=xl(t),r=Nl.min(),o=$d();return i.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var i=xl(t),r=i.kn.get(n);return void 0!==r?hp.resolve(i.Fn.get(r)):i.qe.getTargetData(e,n)}(i,t,Wh(e)).next(function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return i.xn.getDocumentsMatchingQuery(t,e,n?r:Nl.min(),n?o:$d())}).next(function(t){return{documents:t,Bn:o}})})}function Um(t,e){var n=xl(t),i=xl(n.qe),r=n.Fn.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",function(t){return i.lt(t,e).next(function(t){return t?t.target:null})})}function Bm(t){var e=xl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var i=xl(t),r=qd(),o=kp(n),s=gm(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:Jf.readTimeIndex,range:a},function(t,e){var n=xp(i.R,e);r=r.insert(n.key,n),o=e.readTime}).next(function(){return{wn:r,readTime:Ap(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function Hm(t){return Object(Fr.b)(this,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(n){return[2,(e=xl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=gm(t),n=Nl.min();return e.Ot({index:Jf.readTimeIndex,reverse:!0},function(t,e,i){e.readTime&&(n=Ap(e.readTime)),i.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function qm(t,e,n,i){return Object(Fr.b)(this,void 0,void 0,function(){var r,o,s,a,u,c,l,h,d,f;return Object(Fr.d)(this,function(p){switch(p.label){case 0:for(r=xl(t),o=$d(),s=qd(),a=Gd(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=r.$n.newChangeBuffer({trackRemovals:!0}),[4,Fm(r,function(t){return Wh(Vh(Vl.fromString("__bundle__/docs/"+t)))}(i))];case 1:return f=p.sent(),[2,r.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return jm(t,d,s,Nl.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return r.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return r.qe.addMatchingKeys(t,o,f.targetId)}).next(function(){return r.Mn.En(t,e)}).next(function(){return e})})})]}})})}function zm(t,e,n){return void 0===n&&(n=$d()),Object(Fr.b)(this,void 0,void 0,function(){var i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return[4,Fm(t,Wh(Lp(e.bundledQuery)))];case 1:return i=o.sent(),[2,(r=xl(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=pf(e.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.Qe.saveNamedQuery(t,e);var s=i.withResumeToken(ql.EMPTY_BYTE_STRING,o);return r.Fn=r.Fn.insert(s.targetId,s),r.qe.updateTargetData(t,s).next(function(){return r.qe.removeMatchingKeysForTargetId(t,i.targetId)}).next(function(){return r.qe.addMatchingKeys(t,n,i.targetId)}).next(function(){return r.Qe.saveNamedQuery(t,e)})})]}})})}var Km=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return hp.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:pf(n.createTime)}),hp.resolve()},t.prototype.getNamedQuery=function(t,e){return hp.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Lp(t.bundledQuery),readTime:pf(t.readTime)}}(e)),hp.resolve()},t}(),Wm=function(){function t(){this.Wn=new Ud(Gm.Gn),this.zn=new Ud(Gm.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Gm(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Gm(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new th(new Vl([])),i=new Gm(n,t),r=new Gm(n,t+1),o=[];return this.zn.forEachInRange([i,r],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new th(new Vl([])),n=new Gm(e,t),i=new Gm(e,t+1),r=$d();return this.zn.forEachInRange([n,i],function(t){r=r.add(t.key)}),r},t.prototype.containsKey=function(t){var e=new Gm(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Gm=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return th.comparator(t.key,e.key)||Al(t.ns,e.ns)},t.Hn=function(t,e){return Al(t.ns,e.ns)||th.comparator(t.key,e.key)},t}(),Ym=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Ud(Gm.Gn)}return t.prototype.checkEmpty=function(t){return hp.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,i){var r=this.ss;this.ss++;var o=new Op(r,e,n,i);this._n.push(o);for(var s=0,a=i;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Gm(u.key,r)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return hp.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return hp.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),i=n<0?0:n;return hp.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return hp.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return hp.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=new Gm(e,0),r=new Gm(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([i,r],function(t){var e=n.os(t.ns);o.push(e)}),hp.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new Ud(Al);return e.forEach(function(t){var e=new Gm(t,0),r=new Gm(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,r],function(t){i=i.add(t.ns)})}),hp.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,i=n.length+1,r=n;th.isDocumentKey(r)||(r=r.child(""));var o=new Gm(new th(r),0),s=new Ud(Al);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(s=s.add(t.ns)),!0)},o),hp.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var i=e.os(t);null!==i&&n.push(i)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Tl(0===this.hs(e.batchId,"removed")),this._n.shift();var i=this.rs;return hp.forEach(e.mutations,function(r){var o=new Gm(r.key,e.batchId);return i=i.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(function(){n.rs=i})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Gm(e,0),i=this.rs.firstAfterOrEqual(n);return hp.resolve(e.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(t){return hp.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),$m=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Fd(th.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.ls(e);return this.docs=this.docs.insert(i,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return hp.resolve(n?n.document.clone():gh.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,i=qd();return e.forEach(function(t){var e=n.docs.get(t);i=i.insert(t,e?e.document.clone():gh.newInvalidDocument(t))}),hp.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var i=qd(),r=new th(e.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Xh(e,u)&&(i=i.insert(u.key,u.clone()))}return hp.resolve(i)},t.prototype.fs=function(t,e){return hp.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Qm(this)},t.prototype.getSize=function(t){return hp.resolve(this.size)},t}(),Qm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Fr.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(i,r){r.document.isValidDocument()?n.push(e.Ie.addEntry(t,r.document,e.getReadTime(i))):e.Ie.removeEntry(i)}),hp.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(dm),Xm=function(){function t(t){this.persistence=t,this.ds=new hm(function(t){return yh(t)},_h),this.lastRemoteSnapshotVersion=Nl.min(),this.highestTargetId=0,this.ws=0,this._s=new Wm,this.targetCount=0,this.ys=Zp.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),hp.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return hp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return hp.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),hp.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),hp.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Zp(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,hp.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),hp.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,hp.resolve()},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i.ds.delete(s),o.push(i.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),hp.waitFor(o).next(function(){return r})},t.prototype.getTargetCount=function(t){return hp.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return hp.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),hp.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach(function(e){r.push(i.markPotentiallyOrphaned(t,e))}),hp.waitFor(r)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),hp.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return hp.resolve(n)},t.prototype.containsKey=function(t,e){return hp.resolve(this._s.containsKey(e))},t}(),Jm=function(){function t(t,e){var n=this;this.gs={},this.Ne=new gl(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Xm(this),this.Ut=new Up,this.Ue=function(t,e){return new $m(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Tp(e),this.Qe=new Km(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Ym(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var i=this;wl("MemoryPersistence","Starting transaction:",t);var r=new Zm(this.Ne.next());return this.referenceDelegate.Es(),n(r).next(function(t){return i.referenceDelegate.Ts(r).next(function(){return t})}).toPromise().then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return hp.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Zm=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Fr.c)(e,t),e}(cp),tg=function(){function t(t){this.persistence=t,this.As=new Wm,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Sl()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),hp.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),hp.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),hp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return i.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hp.forEach(this.vs,function(i){var r=th.fromPath(i);return e.Ps(t,r).next(function(t){t||n.removeEntry(r)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return hp.or([function(){return hp.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),eg=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function ng(t,e){return"firestore_clients_"+t+"_"+e}function ig(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function rg(t,e){return"firestore_targets_"+t+"_"+e}eg.UNAUTHENTICATED=new eg(null),eg.GOOGLE_CREDENTIALS=new eg("google-credentials-uid"),eg.FIRST_PARTY=new eg("first-party-uid");var og=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.Vs=function(e,n,i){var r,o=JSON.parse(i),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(r=new bl(o.error.code,o.error.message)),s?new t(e,n,o.state,r):(Cl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),sg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var i,r=JSON.parse(n),o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new bl(r.error.code,r.error.message)),o?new t(e,r.state,i):(Cl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ag=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Xd(),s=0;r&&s<i.activeTargetIds.length;++s)r=Zl(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new t(e,o):(Cl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ug=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Cl("SharedClientState","Failed to parse online state: "+e),null)},t}(),cg=function(){function t(){this.activeTargetIds=Xd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),lg=function(){function t(t,e,n,i,r){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Fd(Al),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.$s=ng(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new cg),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t,e,n,i,r,o,s,a,u,c,l=this;return Object(Fr.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Ns&&(r=this.getItem(ng(this.persistenceKey,i)))&&(o=ag.Vs(i,r))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,i){i.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(rg(this.persistenceKey,t));if(n){var i=sg.Vs(t,n);i&&(e=i.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(rg(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var i=this;e.forEach(function(t){i.Hs(t)}),this.currentUser=t,n.forEach(function(t){i.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return wl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){wl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){wl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(wl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Cl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Fr.b)(e,void 0,void 0,function(){var t,e,i,r,o,s;return Object(Fr.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(i=this.si(n.key,n.newValue)))return[2,this.ii(i)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(r=this.ri(n.key,n.newValue)))return[2,this.oi(r)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=gl.o;if(null!=t)try{var n=JSON.parse(t);Tl("number"==typeof n),e=n}catch(t){Cl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==gl.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var i=new og(this.currentUser,t,e,n),r=ig(this.persistenceKey,this.currentUser,t);this.setItem(r,i.Ss())},t.prototype.Hs=function(t){var e=ig(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var i=rg(this.persistenceKey,t),r=new sg(t,e,n);this.setItem(i,r.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return ag.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),i=Number(n[1]);return og.Vs(new eg(void 0!==n[2]?n[2]:null),i,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),i=Number(n[1]);return sg.Vs(i,e)},t.prototype.js=function(t){return ug.Vs(t)},t.prototype.ii=function(t){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(wl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,i=e?this.ks.insert(t,e):this.ks.remove(t),r=this.Gs(this.ks),o=this.Gs(i),s=[],a=[];return o.forEach(function(t){r.has(t)||s.push(t)}),r.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=i})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Xd();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),hg=function(){function t(){this.li=new cg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new cg,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),dg=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),fg=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){wl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){wl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),pg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},mg=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),gg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Fr.c)(e,t),e.prototype.ki=function(t,e,n,i){return new Promise(function(r,o){var s=new ml;s.listenOnce(dl.COMPLETE,function(){try{switch(s.getLastErrorCode()){case hl.NO_ERROR:var e=s.getResponseJson();wl("Connection","XHR received:",JSON.stringify(e)),r(e);break;case hl.TIMEOUT:wl("Connection",'RPC "'+t+'" timed out'),o(new bl(vl.DEADLINE_EXCEEDED,"Request time out"));break;case hl.HTTP_ERROR:var n=s.getStatus();if(wl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var i=s.getResponseJson().error;if(i&&i.status&&i.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(vl).indexOf(e)>=0?e:vl.UNKNOWN}(i.status);o(new bl(a,i.message))}else o(new bl(vl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new bl(vl.UNAVAILABLE,"Connection failed."));break;default:Sl()}}finally{wl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(i);s.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new sl,r=cu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(fs.y)()||Object(fs.B)()||Object(fs.u)()||Object(fs.w)()||Object(fs.C)()||Object(fs.t)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");wl("Connection","Creating WebChannel: "+s,o);var a=i.createWebChannel(s,o),u=!1,c=!1,l=new mg({Ei:function(t){c?wl("Connection","Not sending because WebChannel is closed:",t):(u||(wl("Connection","Opening WebChannel transport."),a.open(),u=!0),wl("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,pl.EventType.OPEN,function(){c||wl("Connection","WebChannel transport opened.")}),h(a,pl.EventType.CLOSE,function(){c||(c=!0,wl("Connection","WebChannel transport closed"),l.Vi())}),h(a,pl.EventType.ERROR,function(t){c||(c=!0,Ol("Connection","WebChannel transport errored:",t),l.Vi(new bl(vl.UNAVAILABLE,"The operation could not be completed")))}),h(a,pl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Tl(!!n);var i=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(i){wl("Connection","WebChannel received error:",i);var r=i.status,o=function(t){var e=Ad[t];if(void 0!==e)return Ld(e)}(r),s=i.message;void 0===o&&(o=vl.INTERNAL,s="Unknown error status: "+r+" with message "+i.message),c=!0,l.Vi(new bl(o,s)),a.close()}else wl("Connection","WebChannel received:",n),l.Si(n)}}),h(r,fl.STAT_EVENT,function(t){10===t.stat?wl("Connection","Detected buffering proxy"):11===t.stat&&wl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,i){var r=this.xi(t,e);wl("RestConnection","Sending: ",r,n);var o={};return this.Fi(o,i),this.ki(t,r,o,n).then(function(t){return wl("RestConnection","Received: ",t),t},function(e){throw Ol("RestConnection",t+" failed with error: ",e,"url: ",r,"request:",n),e})},t.prototype.Oi=function(t,e,n,i){return this.Ni(t,e,n,i)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+pg[t]},t}());function vg(){return"undefined"!=typeof window?window:null}function bg(){return"undefined"!=typeof document?document:null}function yg(t){return new lf(t,!0)}var _g=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=i,this.Bi=r,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Qi),r=Math.max(0,n-i);r>0&&wl("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,r,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),wg=function(){function t(t,e,n,i,r,o){this.Se=t,this.zi=n,this.Hi=i,this.Ji=r,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new _g(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===vl.RESOURCE_EXHAUSTED?(Cl(e.toString()),Cl("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===vl.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new bl(vl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Fr.b)(t,void 0,void 0,function(){return Object(Fr.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return wl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(wl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Cg=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,o)||this).R=r,s}return Object(Fr.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Sl()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Tl(void 0===e||"string"==typeof e),ql.fromBase64String(e||"")):(Tl(void 0===e||e instanceof Uint8Array),ql.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?vl.UNKNOWN:Ld(t.code);return new bl(e,t.message||"")}(a);n=new nf(i,r,o,s||null)}else if("documentChange"in e){r=bf(t,(i=e.documentChange).document.name),o=pf(i.document.updateTime);var a=new ph({mapValue:{fields:i.document.fields}}),u=(s=gh.newFoundDocument(r,o,a),i.targetIds||[]);n=new tf(u,i.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)r=bf(t,(i=e.documentDelete).document),o=i.readTime?pf(i.readTime):Nl.min(),a=gh.newNoDocument(r,o),n=new tf([],s=i.removedTargetIds||[],a.key,a);else if("documentRemove"in e)r=bf(t,(i=e.documentRemove).document),n=new tf([],o=i.removedTargetIds||[],r,null);else{if(!("filter"in e))return Sl();var c=e.filter;r=new Nd(i=c.count||0),n=new ef(o=c.targetId,r)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Nl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Nl.min():e.readTime?pf(e.readTime):Nl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=wf(this.R),e.addTarget=function(t,e){var n,i=e.target;return(n=wh(i)?{documents:xf(t,i)}:{query:If(t,i)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=df(t,e.resumeToken):e.snapshotVersion.compareTo(Nl.min())>0&&(n.readTime=hf(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Sl()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=wf(this.R),e.removeTarget=t,this.cr(e)},e}(wg),Og=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,o)||this).R=r,s.gr=!1,s}return Object(Fr.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Tl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Tl(void 0!==e),t.map(function(t){return function(t,e){var n=pf(t.updateTime?t.updateTime:e);return n.isEqual(Nl.min())&&(n=pf(e)),new gd(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=pf(t.commitTime);return this.listener.Tr(n,e)}return Tl(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=wf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Sf(e.R,t)})};this.cr(n)},e}(wg),Eg=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).credentials=e,r.Hi=n,r.R=i,r.Rr=!1,r}return Object(Fr.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new bl(vl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var i=this;return this.br(),this.credentials.getToken().then(function(r){return i.Hi.Ni(t,e,n,r)}).catch(function(t){throw t.code===vl.UNAUTHENTICATED&&i.credentials.invalidateToken(),t})},e.prototype.Oi=function(t,e,n){var i=this;return this.br(),this.credentials.getToken().then(function(r){return i.Hi.Oi(t,e,n,r)}).catch(function(t){throw t.code===vl.UNAUTHENTICATED&&i.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Rr=!1},e}(function(){}),Sg=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Cl(e),this.Vr=!1):wl("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Tg=function(t,e,n,i,r){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=r,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Fr.b)(o,void 0,void 0,function(){return Object(Fr.d)(this,function(t){switch(t.label){case 0:return jg(this)?(wl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return(e=xl(t)).$r.add(4),[4,Ig(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,xg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Sg(n,i)};function xg(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:if(!jg(t))return[3,4];e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ig(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function kg(t,e){var n=xl(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Ng(n)?Pg(n):Qg(n).er()&&Dg(n,e))}function Ag(t,e){var n=xl(t),i=Qg(n);n.Or.delete(e),i.er()&&Rg(n,e),0===n.Or.size&&(i.er()?i.ir():jg(n)&&n.Br.set("Unknown"))}function Dg(t,e){t.qr.U(e.targetId),Qg(t).mr(e)}function Rg(t,e){t.qr.U(e),Qg(t).yr(e)}function Pg(t){t.qr=new of({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Qg(t).start(),t.Br.Sr()}function Ng(t){return jg(t)&&!Qg(t).tr()&&t.Or.size>0}function jg(t){return 0===xl(t).$r.size}function Lg(t){t.qr=void 0}function Fg(t){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(e){return t.Or.forEach(function(e,n){Dg(t,e)}),[2]})})}function Mg(t,e){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(n){return Lg(t),Ng(t)?(t.Br.Nr(e),Pg(t)):t.Br.set("Unknown"),[2]})})}function Vg(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r,o;return Object(Fr.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof nf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o;return Object(Fr.d)(this,function(s){switch(s.label){case 0:n=e.cause,i=0,r=e.targetIds,s.label=1;case 1:return i<r.length?t.Or.has(o=r[i])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return i++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),wl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Ug(t,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof tf?t.qr.X(e):e instanceof ef?t.qr.rt(e):t.qr.et(e),n.isEqual(Nl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Pm(t.localStore)];case 8:return r=s.sent(),n.compareTo(r)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,i){if(n.resumeToken.approximateByteSize()>0){var r=t.Or.get(i);r&&t.Or.set(i,r.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(ql.EMPTY_BYTE_STRING,n.snapshotVersion)),Rg(t,e);var i=new Sp(n.target,e,1,n.sequenceNumber);Dg(t,i)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return wl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Ug(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Ug(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i=this;return Object(Fr.d)(this,function(r){switch(r.label){case 0:if(!gp(e))throw e;return t.$r.add(1),[4,Ig(t)];case 1:return r.sent(),t.Br.set("Offline"),n||(n=function(){return Pm(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Fr.b)(i,void 0,void 0,function(){return Object(Fr.d)(this,function(e){switch(e.label){case 0:return wl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,xg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Bg(t,e){return e().catch(function(n){return Ug(t,n,e)})}function Hg(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n,i,r,o;return Object(Fr.d)(this,function(s){switch(s.label){case 0:e=xl(t),n=Xg(e),i=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return jg(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Lm(e.localStore,i)];case 3:return null===(r=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(i=r.batchId,function(t,e){t.kr.push(e);var n=Xg(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,r),[3,6]);case 4:return o=s.sent(),[4,Ug(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return qg(e)&&zg(e),[2]}})})}function qg(t){return jg(t)&&!Xg(t).tr()&&t.kr.length>0}function zg(t){Xg(t).start()}function Kg(t){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(e){return Xg(t).Ar(),[2]})})}function Wg(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n,i;return Object(Fr.d)(this,function(r){for(e=Xg(t),n=0,i=t.kr;n<i.length;n++)e.Er(i[n].mutations);return[2]})})}function Gg(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return i=t.kr.shift(),r=Ep.from(i,e,n),[4,Bg(t,function(){return t.remoteSyncer.applySuccessfulWrite(r)})];case 1:return o.sent(),[4,Hg(t)];case 2:return o.sent(),[2]}})})}function Yg(t,e){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(n){switch(n.label){case 0:return e&&Xg(t).pr?[4,function(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return jd(i=e.code)&&i!==vl.ABORTED?(n=t.kr.shift(),Xg(t).sr(),[4,Bg(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return r.sent(),[4,Hg(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return qg(t)&&zg(t),[2]}})})}function $g(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return n=xl(t),e?(n.$r.delete(2),[4,xg(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Ig(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Qg(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var i=xl(t);return i.br(),new Cg(e,i.Hi,i.credentials,i.R,n)}(t.datastore,t.asyncQueue,{Ii:Fg.bind(null,t),Ri:Mg.bind(null,t),_r:Vg.bind(null,t)}),t.Mr.push(function(n){return Object(Fr.b)(e,void 0,void 0,function(){return Object(Fr.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Ng(t)?Pg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Lg(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Xg(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var i=xl(t);return i.br(),new Og(e,i.Hi,i.credentials,i.R,n)}(t.datastore,t.asyncQueue,{Ii:Kg.bind(null,t),Ri:Yg.bind(null,t),Ir:Wg.bind(null,t),Tr:Gg.bind(null,t)}),t.Mr.push(function(n){return Object(Fr.b)(e,void 0,void 0,function(){return Object(Fr.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Hg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(wl("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Jg=function(){function t(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new lp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,i,r,o){var s=new t(e,n,Date.now()+i,r,o);return s.start(i),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bl(vl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Zg(t,e){if(Cl("AsyncQueue",e+": "+t),gp(t))return new bl(vl.UNAVAILABLE,e+": "+t);throw t}var tv=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||th.comparator(e.key,n.key)}:function(t,e){return th.comparator(t.key,e.key)},this.keyedMap=Kd(),this.sortedSet=new Fd(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),ev=function(){function t(){this.Kr=new Fd(th.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Sl():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),nv=function(){function t(t,e,n,i,r,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,i,r){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,tv.emptySet(n),o,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),iv=function(){this.Wr=void 0,this.listeners=[]},rv=function(){this.queries=new hm(function(t){return $h(t)},Yh),this.onlineState="Unknown",this.Gr=new Set};function ov(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o,s,a,u;return Object(Fr.d)(this,function(c){switch(c.label){case 0:if(n=xl(t),r=!1,(o=n.queries.get(i=e.query))||(r=!0,o=new iv),!r)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(i)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Zg(a,"Initialization of query '"+Qh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(i,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&cv(n),[2]}})})}function sv(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o,s;return Object(Fr.d)(this,function(a){return n=xl(t),r=!1,(o=n.queries.get(i=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length),r?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function av(t,e){for(var n=xl(t),i=!1,r=0,o=e;r<o.length;r++){var s=o[r],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(i=!0);a.Wr=s}}i&&cv(n)}function uv(t,e,n){var i=xl(t),r=i.queries.get(e);if(r)for(var o=0,s=r.listeners;o<s.length;o++)s[o].onError(n);i.queries.delete(e)}function cv(t){t.Gr.forEach(function(t){t.next()})}var lv=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new nv(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=nv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),hv=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),dv=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return bf(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Ef(this.R,t.document,!1):gh.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return pf(t)},t}(),fv=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=pv(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new dv(this.R),i=0,r=t;i<r.length;i++){var o=r[i];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||$d()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t,e,n,i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return[4,qm(this.localStore,new dv(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,i=this.queries,o.label=2;case 2:return n<i.length?[4,zm(this.localStore,r=i[n],e.get(r.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Sm(Object.assign({},this.progress),t))]}})})},t}();function pv(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var mv=function(t){this.key=t},gv=function(t){this.key=t},vv=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=$d(),this.mutatedKeys=$d(),this.lo=Jh(t),this.fo=new tv(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,i=e?e.mo:new ev,r=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1,u=Uh(this.query)&&r.size===this.query.limit?r.last():null,c=Bh(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(function(t,e){var l=r.get(t),h=Xh(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(i.track({type:3,doc:h}),p=!0):n.yo(l,h)||(i.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(i.track({type:0,doc:h}),p=!0):l&&!h&&(i.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Uh(this.query)||Bh(this.query))for(;s.size>this.query.limit;){var l=Uh(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),i.track({type:1,doc:l})}return{fo:s,mo:i,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var i=this,r=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sl()}};return n(t)-n(e)}(t.type,e.type)||i.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new nv(this.query,t.fo,r,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ev,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=$d(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new gv(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new mv(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=$d();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return nv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),bv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},yv=function(t){this.key=t,this.bo=!1},_v=function(){function t(t,e,n,i,r,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new hm(function(t){return $h(t)},Yh),this.Vo=new Map,this.So=new Set,this.Do=new Fd(th.comparator),this.Co=new Map,this.No=new Wm,this.xo={},this.Fo=new Map,this.ko=Zp.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function wv(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o,s;return Object(Fr.d)(this,function(a){switch(a.label){case 0:return n=Qv(t),(r=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.Ro(),[3,4]):[3,1];case 1:return[4,Fm(n.localStore,Wh(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Cv(n,e,o.targetId,"current"===s)];case 3:i=a.sent(),n.isPrimaryClient&&kg(n.remoteStore,o),a.label=4;case 4:return[2,i]}})})}function Cv(t,e,n,i){return Object(Fr.b)(this,void 0,void 0,function(){var r,o,s,a,u,c;return Object(Fr.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,i){return function(t,e,n,i){return Object(Fr.b)(this,void 0,void 0,function(){var r,o,s;return Object(Fr.d)(this,function(a){switch(a.label){case 0:return(r=e.view._o(n)).Nn?[4,Vm(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,r)})]:[3,2];case 1:r=a.sent(),a.label=2;case 2:return o=i&&i.targetChanges.get(e.targetId),s=e.view.applyChanges(r,t.isPrimaryClient,o),[2,(jv(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,i)},[4,Vm(t.localStore,e,!0)];case 1:return r=l.sent(),o=new vv(e,r.Bn),s=o._o(r.documents),a=Zd.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),jv(t,n,u.To),c=new bv(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Ov(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return n=xl(t),i=n.Po.get(e),(r=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,r.filter(function(t){return!Yh(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Mm(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Ag(n.remoteStore,i.targetId),Pv(n,i.targetId)}).catch(rm)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Pv(n,i.targetId),[4,Mm(n.localStore,i.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Ev(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r,o,s;return Object(Fr.d)(this,function(a){switch(a.label){case 0:i=Xv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,i=xl(t),r=Pl.now(),o=e.reduce(function(t,e){return t.add(e.key)},$d());return i.persistence.runTransaction("Locally write mutations","readwrite",function(t){return i.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Cd(c,n.get(c.key));null!=l&&s.push(new Td(c.key,l,mh(l.toProto().mapValue),vd.exists(!0)))}return i._n.addMutationBatch(t,r,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(i.localStore,e)];case 2:return r=a.sent(),i.sharedClientState.addPendingMutation(r.batchId),function(t,e,n){var i=t.xo[t.currentUser.toKey()];i||(i=new Fd(Al)),i=i.insert(e,n),t.xo[t.currentUser.toKey()]=i}(i,r.batchId,n),[4,Mv(i,r.changes)];case 3:return a.sent(),[4,Hg(i.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Zg(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Sv(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:n=xl(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Nm(n.localStore,e)];case 2:return i=r.sent(),e.targetChanges.forEach(function(t,e){var i=n.Co.get(e);i&&(Tl(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.bo=!0:t.modifiedDocuments.size>0?Tl(i.bo):t.removedDocuments.size>0&&(Tl(i.bo),i.bo=!1))}),[4,Mv(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,rm(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function Tv(t,e,n){var i=xl(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){var r=[];i.Po.forEach(function(t,n){var i=n.view.zr(e);i.snapshot&&r.push(i.snapshot)}),function(t,e){var n=xl(t);n.onlineState=e;var i=!1;n.queries.forEach(function(t,n){for(var r=0,o=n.listeners;r<o.length;r++)o[r].zr(e)&&(i=!0)}),i&&cv(n)}(i.eventManager,e),r.length&&i.vo._r(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function xv(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r,o,s,a,u;return Object(Fr.d)(this,function(c){switch(c.label){case 0:return(i=xl(t)).sharedClientState.updateQueryState(e,"rejected",n),r=i.Co.get(e),(o=r&&r.key)?(s=(s=new Fd(th.comparator)).insert(o,gh.newNoDocument(o,Nl.min())),a=$d().add(o),u=new Jd(Nl.min(),new Map,new Ud(Al),s,a),[4,Sv(i,u)]):[3,2];case 1:return c.sent(),i.Do=i.Do.remove(o),i.Co.delete(e),Fv(i),[3,4];case 2:return[4,Mm(i.localStore,e,!1).then(function(){return Pv(i,e,n)}).catch(rm)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Iv(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:n=xl(t),i=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Rm(n.localStore,e)];case 2:return r=o.sent(),Rv(n,i,null),Dv(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Mv(n,r)];case 3:return o.sent(),[3,6];case 4:return[4,rm(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function kv(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:i=xl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=xl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var i;return n._n.lookupMutationBatch(t,e).next(function(e){return Tl(null!==e),i=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,i)})})}(i.localStore,e)];case 2:return r=o.sent(),Rv(i,e,n),Dv(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,Mv(i,r)];case 3:return o.sent(),[3,6];case 4:return[4,rm(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Av(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o,s;return Object(Fr.d)(this,function(a){switch(a.label){case 0:jg((n=xl(t)).remoteStore)||wl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=xl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(i=a.sent())?[2,void e.resolve()]:((r=n.Fo.get(i)||[]).push(e),n.Fo.set(i,r),[3,4]);case 3:return o=a.sent(),s=Zg(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Dv(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Rv(t,e,n){var i=xl(t),r=i.xo[i.currentUser.toKey()];if(r){var o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.xo[i.currentUser.toKey()]=r}}function Pv(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,r=t.Vo.get(e);i<r.length;i++){var o=r[i];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Nv(t,e)})}function Nv(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Ag(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Fv(t))}function jv(t,e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];o instanceof mv?(t.No.addReference(o.key,e),Lv(t,o)):o instanceof gv?(wl("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Nv(t,o.key)):Sl()}}function Lv(t,e){var n=e.key,i=n.path.canonicalString();t.Do.get(n)||t.So.has(i)||(wl("SyncEngine","New document in limbo: "+n),t.So.add(i),Fv(t))}function Fv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new th(Vl.fromString(e)),i=t.ko.next();t.Co.set(i,new yv(n)),t.Do=t.Do.insert(n,i),kg(t.remoteStore,new Sp(Wh(Vh(n.path)),i,2,gl.o))}}function Mv(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r,o,s;return Object(Fr.d)(this,function(a){switch(a.label){case 0:return i=xl(t),r=[],o=[],s=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(t,a){s.push(i.$o(a,e,n).then(function(t){if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),r.push(t);var e=xm.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),i.vo._r(r),[4,function(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o,s,a,u,c;return Object(Fr.d)(this,function(l){switch(l.label){case 0:n=xl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return hp.forEach(e,function(e){return hp.forEach(e.bn,function(i){return n.persistence.referenceDelegate.addReference(t,e.targetId,i)}).next(function(){return hp.forEach(e.vn,function(i){return n.persistence.referenceDelegate.removeReference(t,e.targetId,i)})})})})];case 2:return l.sent(),[3,4];case 3:if(!gp(i=l.sent()))throw i;return wl("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(r=0,o=e;r<o.length;r++)a=(s=o[r]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(i.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Vv(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return(n=xl(t)).currentUser.isEqual(e)?[3,3]:(wl("SyncEngine","User change. New user:",e.toKey()),[4,Dm(n.localStore,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new bl(vl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,Mv(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}function Uv(t,e){var n=xl(t),i=n.Co.get(e);if(i&&i.bo)return $d().add(i.key);var r=$d(),o=n.Vo.get(e);if(!o)return r;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);r=r.unionWith(u.view.wo)}return r}function Bv(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return[4,Vm((n=xl(t)).localStore,e.query,!0)];case 1:return i=o.sent(),r=e.view.Ao(i),[2,(n.isPrimaryClient&&jv(n,e.targetId,r.To),r)]}})})}function Hv(t){return Object(Fr.b)(this,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(n){return[2,Bm((e=xl(t)).localStore).then(function(t){return Mv(e,t)})]})})}function qv(t,e,n,i){return Object(Fr.b)(this,void 0,void 0,function(){var r,o;return Object(Fr.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=xl(t),i=xl(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return i.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):hp.resolve(null)})})}((r=xl(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Hg(r.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Rv(r,e,i||null),Dv(r,e),function(t,e){xl(xl(t)._n).Gt(e)}(r.localStore,e)):Sl(),s.label=4;case 4:return[4,Mv(r,o)];case 5:return s.sent(),[3,7];case 6:wl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function zv(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o,s,a,u;return Object(Fr.d)(this,function(c){switch(c.label){case 0:return Qv(n=xl(t)),Xv(n),!0!==e||!0===n.Oo?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,Kv(n,i.toArray())]);case 1:return r=c.sent(),n.Oo=!0,[4,$g(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=r;o<s.length;o++)kg(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Pv(n,e),Mm(n.localStore,e,!0)}),Ag(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Kv(n,a)];case 5:return c.sent(),function(t){var e=xl(t);e.Co.forEach(function(t,n){Ag(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Fd(th.comparator)}(n),n.Oo=!1,[4,$g(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Kv(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o,s,a,u,c,l,h,d,f,p;return Object(Fr.d)(this,function(m){switch(m.label){case 0:n=xl(t),i=[],r=[],o=0,s=e,m.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Fm(n.localStore,Wh(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Bv(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&r.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Um(n.localStore,a)];case 8:return p=m.sent(),[4,Fm(n.localStore,p)];case 9:return u=m.sent(),[4,Cv(n,Wv(p),a,!1)];case 10:m.sent(),m.label=11;case 11:i.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(r),i)]}})})}function Wv(t){return Mh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Gv(t){var e=xl(t);return xl(xl(e.localStore).persistence).fn()}function Yv(t,e,n,i){return Object(Fr.b)(this,void 0,void 0,function(){var r,o,s;return Object(Fr.d)(this,function(a){switch(a.label){case 0:return(r=xl(t)).Oo?(wl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!r.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Bm(r.localStore)];case 3:return o=a.sent(),s=Jd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Mv(r,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Mm(r.localStore,e,!0)];case 6:return a.sent(),Pv(r,e,i),[3,8];case 7:Sl(),a.label=8;case 8:return[2]}})})}function $v(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r,o,s,a,u,c,l,h;return Object(Fr.d)(this,function(d){switch(d.label){case 0:if(!(i=Qv(t)).Oo)return[3,10];r=0,o=e,d.label=1;case 1:return r<o.length?i.Vo.has(s=o[r])?(wl("SyncEngine","Adding an already active target "+s),[3,5]):[4,Um(i.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,Fm(i.localStore,a)];case 3:return u=d.sent(),[4,Cv(i,Wv(a),u.targetId,!1)];case 4:d.sent(),kg(i.remoteStore,u),d.label=5;case 5:return r++,[3,1];case 6:c=function(t){return Object(Fr.d)(this,function(e){switch(e.label){case 0:return i.Vo.has(t)?[4,Mm(i.localStore,t,!1).then(function(){Ag(i.remoteStore,t),Pv(i,t)}).catch(rm)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Qv(t){var e=xl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xv.bind(null,e),e.vo._r=av.bind(null,e.eventManager),e.vo.Mo=uv.bind(null,e.eventManager),e}function Xv(t){var e=xl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Iv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kv.bind(null,e),e}function Jv(t,e,n){var i=xl(t);(function(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r,o,s,a,u;return Object(Fr.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return i=c.sent(),[4,function(t,e){var n=xl(t),i=pf(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(t){return n.Qe.getBundleMetadata(t,e.id)}).then(function(t){return!!t&&t.createTime.compareTo(i)>=0})}(t.localStore,i)];case 2:return c.sent()?[4,e.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i)))];case 4:return n._updateProgress(pv(i)),r=new fv(i,t.localStore,e.R),[4,e.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,r.oo(o)]:[3,10];case 7:return(s=c.sent())&&n._updateProgress(s),[4,e.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,r.complete()];case 11:return a=c.sent(),[4,Mv(t,a.wn,void 0)];case 12:return c.sent(),[4,function(t,e){var n=xl(t);return n.persistence.runTransaction("Save bundle","readwrite",function(t){return n.Qe.saveBundleMetadata(t,e)})}(t.localStore,i)];case 13:return c.sent(),n._completeWith(a.progress),[3,15];case 14:return Ol("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}})})})(i,e,n).then(function(){i.sharedClientState.notifyBundleLoaded()})}var Zv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(e){switch(e.label){case 0:return this.R=yg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Am(this.persistence,new Im,t.initialUser,this.R)},t.prototype.qo=function(t){return new Jm(tg.bs,this.R)},t.prototype.Bo=function(t){return new hg},t.prototype.terminate=function(){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),tb=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Ko=e,r.cacheSizeBytes=n,r.forceOwnership=i,r.synchronizeTabs=!1,r}return Object(Fr.c)(e,t),e.prototype.initialize=function(e){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Hm(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Xv(this.Ko.syncEngine)];case 4:return n.sent(),[4,Hg(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Am(this.persistence,new Im,t.initialUser,this.R)},e.prototype.Uo=function(t){return new am(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Em(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Kp.withCacheSize(this.cacheSizeBytes):Kp.DEFAULT;return new wm(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,vg(),bg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new hg},e}(Zv),eb=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n,!1)||this).Ko=e,i.cacheSizeBytes=n,i.synchronizeTabs=!0,i}return Object(Fr.c)(e,t),e.prototype.initialize=function(e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i=this;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof lg?(this.sharedClientState.syncEngine={ui:qv.bind(null,n),ai:Yv.bind(null,n),hi:$v.bind(null,n),fn:Gv.bind(null,n),ci:Hv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Fr.b)(i,void 0,void 0,function(){return Object(Fr.d)(this,function(e){switch(e.label){case 0:return[4,zv(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return r.sent(),[2]}})})},e.prototype.Bo=function(t){var e=vg();if(!lg.yt(e))throw new bl(vl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Em(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new lg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(tb),nb=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n=this;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Tv(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Vv.bind(null,this.syncEngine),[4,$g(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new rv},t.prototype.createDatastore=function(t){var e=yg(t.databaseInfo.databaseId),n=new gg(t.databaseInfo);return function(t,e,n){return new Eg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,i,r,o,s=this;return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=function(t){return Tv(s.syncEngine,t,0)},o=fg.yt()?new fg:new dg,new Tg(e,n,i,r,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,i,r,o,s){var a=new _v(t,e,n,i,r,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return e=xl(t),wl("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Ig(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function ib(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(Fr.b)(this,void 0,void 0,function(){var i;return Object(Fr.d)(this,function(r){return n<t.byteLength?(i={value:t.slice(n,n+e),done:!1},[2,(n+=e,i)]):[2,{done:!0}]})})},cancel:function(){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var rb=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),ob=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new lp,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t,e,n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(t=r.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return i=r.sent(),[2,new hv(JSON.parse(i),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t,e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t,e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},t}(),sb=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n=this;return Object(Fr.d)(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new bl(vl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o,s,a;return Object(Fr.d)(this,function(u){switch(u.label){case 0:return n=xl(t),i=wf(n.R)+"/documents",r={documents:e.map(function(t){return vf(n.R,t)})},[4,n.Oi("BatchGetDocuments",i,r)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Tl(!!e.found);var n=bf(t,e.found.name),i=pf(e.found.updateTime),r=new ph({mapValue:{fields:e.found.fields}});return gh.newFoundDocument(n,i,r)}(t,e):"missing"in e?function(t,e){Tl(!!e.missing),Tl(!!e.readTime);var n=bf(t,e.missing),i=pf(e.readTime);return gh.newNoDocument(n,i)}(t,e):Sl()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Tl(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=i.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Rd(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t,e=this;return Object(Fr.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var i=th.fromPath(n);e.mutations.push(new Pd(i,e.precondition(i)))}),[4,function(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return n=xl(t),i=wf(n.R)+"/documents",r={writes:e.map(function(t){return Sf(n.R,t)})},[4,n.Ni("Commit",i,r)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Sl();e=Nl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new bl(vl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?vd.updateTime(e):vd.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Nl.min()))throw new bl(vl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vd.updateTime(e)}return vd.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),ab=function(){function t(t,e,n,i){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=i,this.ec=5,this.Zi=new _g(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Fr.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Fr.d)(this,function(i){return t=new sb(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Xl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!jd(e)}return!1},t}(),ub=function(){function t(t,e,n){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=eg.UNAUTHENTICATED,this.clientId=kl.u(),this.credentialListener=function(){},this.receivedInitialUser=new lp,this.credentials.setChangeListener(function(t){wl("FirestoreClient","Received user=",t.uid),i.user=t,i.credentialListener(t),i.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new bl(vl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new lp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Fr.b)(t,void 0,void 0,function(){var t,n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:i.sent(),i.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=i.sent(),n=Zg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function cb(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r=this;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),wl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),i=n.initialUser,t.setCredentialChangeListener(function(n){i.isEqual(n)||(i=n,t.asyncQueue.enqueueRetryable(function(){return Object(Fr.b)(r,void 0,void 0,function(){return Object(Fr.d)(this,function(t){switch(t.label){case 0:return[4,Dm(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function lb(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,hb(t)];case 1:return n=r.sent(),wl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=r.sent(),[4,e.initialize(n,i)];case 3:return r.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return(n=xl(t)).asyncQueue.verifyOperationInProgress(),wl("RemoteStore","RemoteStore received new credentials"),i=jg(n),n.$r.add(3),[4,Ig(n)];case 1:return r.sent(),i&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return r.sent(),n.$r.delete(3),[4,xg(n)];case 3:return r.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function hb(t){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(wl("FirestoreClient","Using default OfflineComponentProvider"),[4,cb(t,new Zv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function db(t){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(wl("FirestoreClient","Using default OnlineComponentProvider"),[4,lb(t,new nb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function fb(t){return hb(t).then(function(t){return t.persistence})}function pb(t){return hb(t).then(function(t){return t.localStore})}function mb(t){return db(t).then(function(t){return t.remoteStore})}function gb(t){return db(t).then(function(t){return t.syncEngine})}function vb(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return[4,db(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=wv.bind(null,e.syncEngine),n.onUnlisten=Ov.bind(null,e.syncEngine),n)]}})})}function bb(t,e,n){var i=this;void 0===n&&(n={});var r=new lp;return t.asyncQueue.enqueueAndForget(function(){return Object(Fr.b)(i,void 0,void 0,function(){var i;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return i=function(t,e,n,i,r){var o=new rb({next:function(o){e.enqueueAndForget(function(){return sv(t,s)});var a=o.docs.has(n);!a&&o.fromCache?r.reject(new bl(vl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&i&&"server"===i.source?r.reject(new bl(vl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:function(t){return r.reject(t)}}),s=new lv(Vh(n.path),o,{includeMetadataChanges:!0,so:!0});return ov(t,s)},[4,vb(t)];case 1:return[2,i.apply(void 0,[o.sent(),t.asyncQueue,e,n,r])]}})})}),r.promise}function yb(t,e,n){var i=this;void 0===n&&(n={});var r=new lp;return t.asyncQueue.enqueueAndForget(function(){return Object(Fr.b)(i,void 0,void 0,function(){var i;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return i=function(t,e,n,i,r){var o=new rb({next:function(n){e.enqueueAndForget(function(){return sv(t,s)}),n.fromCache&&"server"===i.source?r.reject(new bl(vl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:function(t){return r.reject(t)}}),s=new lv(n,o,{includeMetadataChanges:!0,so:!0});return ov(t,s)},[4,vb(t)];case 1:return[2,i.apply(void 0,[o.sent(),t.asyncQueue,e,n,r])]}})})}),r.promise}var _b=function(t,e,n,i,r,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=s},wb=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Cb=new Map,Ob=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Eb=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(eg.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Sb=function(){function t(t){var e=this;this.oc=null,this.currentUser=eg.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(wl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Tl("string"==typeof n.accessToken),new Ob(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Tl(null===t||"string"==typeof t),new eg(t)},t}(),Tb=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=eg.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),xb=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Tb(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(eg.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ib(t,e,n){if(!n)throw new bl(vl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function kb(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new bl(vl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ab(t,e,n,i){if(!0===e&&!0===i)throw new bl(vl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Db(t){if(!th.isDocumentKey(t))throw new bl(vl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Rb(t){if(th.isDocumentKey(t))throw new bl(vl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Pb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Sl()}function Nb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new bl(vl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Pb(t);throw new bl(vl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function jb(t,e){if(e<=0)throw new bl(vl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Lb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new bl(vl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new bl(vl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ab("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Fb=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Lb({}),this._settingsFrozen=!1,t instanceof wb?(this._databaseId=t,this._credentials=new Eb):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new bl(vl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wb(t.options.projectId)}(t),this._credentials=new Sb(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new bl(vl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new bl(vl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lb(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Eb;switch(t.type){case"gapi":var e=t.client;return Tl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new xb(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new bl(vl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Cb.get(this))&&(wl("ComponentProvider","Removing Datastore"),Cb.delete(this),t.terminate()),Promise.resolve();var t},t}(),Mb=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ub(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Vb=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ub=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,Vh(i))||this)._path=i,r.type="collection",r}return Object(Fr.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Mb(this.firestore,null,new th(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Vb);function Bb(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t=Object(fs.p)(t),Ib("collection","path",e),t instanceof Fb)return Rb(n=Vl.fromString.apply(Vl,Object(Fr.f)([e],i))),new Ub(t,null,n);if(!(t instanceof Mb||t instanceof Ub))throw new bl(vl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Rb(n=Vl.fromString.apply(Vl,Object(Fr.f)([t.path],i)).child(Vl.fromString(e))),new Ub(t.firestore,null,n)}function Hb(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t=Object(fs.p)(t),1===arguments.length&&(e=kl.u()),Ib("doc","path",e),t instanceof Fb)return Db(n=Vl.fromString.apply(Vl,Object(Fr.f)([e],i))),new Mb(t,null,new th(n));if(!(t instanceof Mb||t instanceof Ub))throw new bl(vl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Db(n=t._path.child(Vl.fromString.apply(Vl,Object(Fr.f)([e],i)))),new Mb(t.firestore,t instanceof Ub?t._converter:null,new th(n))}function qb(t,e){return t=Object(fs.p)(t),e=Object(fs.p)(e),(t instanceof Mb||t instanceof Ub)&&(e instanceof Mb||e instanceof Ub)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function zb(t,e){return t=Object(fs.p)(t),e=Object(fs.p)(e),t instanceof Vb&&e instanceof Vb&&t.firestore===e.firestore&&Yh(t._query,e._query)&&t._converter===e._converter}var Kb=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new _g(this,"async_queue_retry"),this.Ec=function(){var e=bg();e&&wl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=bg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=bg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t,e=this;return Object(Fr.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!gp(t=n.sent()))throw t;return wl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,Cl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var i=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var r=Jg.createAndSchedule(this,t,e,n,function(t){return i.Rc(t)});return this._c.push(r),r},t.prototype.Tc=function(){this.mc&&Sl()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t;return Object(Fr.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,i=e._c;n<i.length;n++){var r=i[n];if(r.skipDelay(),"all"!==t&&r.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Wb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Gb=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new lp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),Yb=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this)._queue=new Kb,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return Object(Fr.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Qb(this),this._firestoreClient.terminate()},e}(Fb);function $b(t){return t._firestoreClient||Qb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Qb(t){var e,n=t._freezeSettings(),i=function(t,e,n,i){return new _b(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ub(t._credentials,t._queue,i)}function Xb(t,e,n){var i=this,r=new lp;return t.asyncQueue.enqueue(function(){return Object(Fr.b)(i,void 0,void 0,function(){var i;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,cb(t,n)];case 1:return o.sent(),[4,lb(t,e)];case 2:return o.sent(),r.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===vl.FAILED_PRECONDITION||t.code===vl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=o.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i),[3,4];case 4:return[2]}})})}).then(function(){return r.promise})}function Jb(t){if(t._initialized||t._terminated)throw new bl(vl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Zb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new bl(vl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),ty=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(ql.fromBase64String(e))}catch(e){throw new bl(vl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ql.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ey=function(t){this._methodName=t},ny=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new bl(vl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new bl(vl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Al(this._lat,t._lat)||Al(this._long,t._long)},t}(),iy=/^__.*__$/,ry=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Td(t,this.data,this.fieldMask,e,this.fieldTransforms):new Sd(t,this.data,e,this.fieldTransforms)},t}(),oy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Td(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function sy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sl()}}var ay=function(){function t(t,e,n,i,r,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Sc(),this.fieldTransforms=r||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Cc({path:n,xc:!1});return i.Fc(t),i},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Cc({path:n,xc:!1});return i.Sc(),i},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return xy(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(sy(this.Dc)&&iy.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),uy=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||yg(t)}return t.prototype.Bc=function(t,e,n,i){return void 0===i&&(i=!1),new ay({Dc:t,methodName:e,Lc:n,path:Bl.emptyPath(),xc:!1,Mc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function cy(t){var e=t._freezeSettings(),n=yg(t._databaseId);return new uy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ly(t,e,n,i,r,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,r);Oy("Data must be an object, but it was:",s,i);var a,u,c=wy(i,s);if(o.merge)a=new Hl(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=Ey(e,d[h],n);if(!s.contains(f))throw new bl(vl.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Iy(l,f)||l.push(f)}a=new Hl(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new ry(new ph(c),a,u)}var hy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fr.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ey);function dy(t,e,n){return new ay({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var fy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fr.c)(e,t),e.prototype._toFieldTransform=function(t){return new md(t.path,new ad)},e.prototype.isEqual=function(t){return t instanceof e},e}(ey),py=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).qc=n,i}return Object(Fr.c)(e,t),e.prototype._toFieldTransform=function(t){var e=dy(this,t,!0),n=this.qc.map(function(t){return _y(t,e)}),i=new ud(n);return new md(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(ey),my=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).qc=n,i}return Object(Fr.c)(e,t),e.prototype._toFieldTransform=function(t){var e=dy(this,t,!0),n=this.qc.map(function(t){return _y(t,e)}),i=new ld(n);return new md(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(ey),gy=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Uc=n,i}return Object(Fr.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new dd(t.R,nd(t.R,this.Uc));return new md(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ey);function vy(t,e,n,i){var r=t.Bc(1,e,n);Oy("Data must be an object, but it was:",r,i);var o=[],s=ph.empty();Ll(i,function(t,i){var a=Ty(e,t,n);i=Object(fs.p)(i);var u=r.kc(a);if(i instanceof hy)o.push(a);else{var c=_y(i,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Hl(o);return new oy(s,a,r.fieldTransforms)}function by(t,e,n,i,r,o){var s=t.Bc(1,e,n),a=[Ey(e,i,n)],u=[r];if(o.length%2!=0)throw new bl(vl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Ey(e,o[c])),u.push(o[c+1]);for(var l=[],h=ph.empty(),d=a.length-1;d>=0;--d)if(!Iy(l,a[d])){var f=a[d],p=u[d];p=Object(fs.p)(p);var m=s.kc(f);if(p instanceof hy)l.push(f);else{var g=_y(p,m);null!=g&&(l.push(f),h.set(f,g))}}var v=new Hl(l);return new oy(h,v,s.fieldTransforms)}function yy(t,e,n,i){return void 0===i&&(i=!1),_y(n,t.Bc(i?4:3,e))}function _y(t,e){if(Cy(t=Object(fs.p)(t)))return Oy("Unsupported field value:",e,t),wy(t,e);if(t instanceof ey)return function(t,e){if(!sy(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],i=0,r=0,o=t;r<o.length;r++){var s=_y(o[r],e.Oc(i));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(fs.p)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return nd(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Pl.fromDate(t);return{timestampValue:hf(e.R,n)}}if(t instanceof Pl)return n=new Pl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:hf(e.R,n)};if(t instanceof ny)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ty)return{bytesValue:df(e.R,t._byteString)};if(t instanceof Mb){var i=t.firestore._databaseId;if(!i.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:mf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Pb(t))}(t,e)}function wy(t,e){var n={};return Fl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ll(t,function(t,i){var r=_y(i,e.Nc(t));null!=r&&(n[t]=r)}),{mapValue:{fields:n}}}function Cy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Pl||t instanceof ny||t instanceof ty||t instanceof Mb||t instanceof ey)}function Oy(t,e,n){if(!Cy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var i=Pb(n);throw e.$c("an object"===i?t+" a custom object":t+" "+i)}}function Ey(t,e,n){if((e=Object(fs.p)(e))instanceof Zb)return e._internalPath;if("string"==typeof e)return Ty(t,e);throw xy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Sy=new RegExp("[~\\*/\\[\\]]");function Ty(t,e,n){if(e.search(Sy)>=0)throw xy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Zb.bind.apply(Zb,Object(Fr.f)([void 0],e.split(".")))))._internalPath}catch(i){throw xy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function xy(t,e,n,i,r){var o=i&&!i.isEmpty(),s=void 0!==r,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+i),s&&(u+=" in document "+r),u+=")"),new bl(vl.INVALID_ARGUMENT,(a+=". ")+t+u)}function Iy(t,e){return t.some(function(t){return t.isEqual(e)})}var ky=function(){function t(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Mb(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Ay(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Dy("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Ay=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fr.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(ky);function Dy(t,e){return"string"==typeof e?Ty(t,e):e instanceof Zb?e._internalPath:e._delegate._internalPath}var Ry=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Py=function(t){function e(e,n,i,r,o,s){var a=this;return(a=t.call(this,e,n,i,r,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(Fr.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Ny(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Dy("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(ky),Ny=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fr.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Py),jy=function(){function t(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Ry(i.hasPendingWrites,i.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(i){t.call(e,new Ny(n._firestore,n._userDataWriter,i.key,i,new Ry(n._snapshot.mutatedKeys.has(i.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new bl(vl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Ny(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ry(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var i=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Ny(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ry(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),r=-1,o=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:Ly(e.type),doc:n,oldIndex:r,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Ly(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sl()}}function Fy(t,e){return t instanceof Py&&e instanceof Py?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof jy&&e instanceof jy&&t._firestore===e._firestore&&zb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function My(t){if(Bh(t)&&0===t.explicitOrderBy.length)throw new bl(vl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vy=function(){};function Uy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];t=o._apply(t)}return t}var By=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Qc=e,r.Kc=n,r.jc=i,r.type="where",r}return Object(Fr.c)(e,t),e.prototype._apply=function(t){var e=cy(t.firestore),n=function(t,e,n,i,r,o,s){var a;if(r.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new bl(vl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Yy(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Gy(i,t,l[c]));a={arrayValue:{values:u}}}else a=Gy(i,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Yy(s,o),a=yy(n,"where",s,"in"===o||"not-in"===o);var h=Ch.create(r,o,a);return function(t,e){if(e.g()){var n=qh(t);if(null!==n&&!n.isEqual(e.field))throw new bl(vl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var i=Hh(t);null!==i&&$y(0,e.field,i)}var r=function(t,e){for(var n=0,i=t.filters;n<i.length;n++){var r=i[n];if(e.indexOf(r.op)>=0)return r.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new bl(vl.INVALID_ARGUMENT,r===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+r.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Vb(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Vy),Hy=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Qc=e,i.Wc=n,i.type="orderBy",i}return Object(Fr.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new bl(vl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new bl(vl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var i=new Ph(e,n);return function(t,e){if(null===Hh(t)){var n=qh(t);null!==n&&$y(0,n,e.field)}}(t,i),i}(t._query,this.Qc,this.Wc);return new Vb(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Fh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Vy),qy=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Gc=n,r.zc=i,r}return Object(Fr.c)(e,t),e.prototype._apply=function(t){return new Vb(t.firestore,t._converter,Gh(t._query,this.Gc,this.zc))},e}(Vy),zy=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Hc=n,r.Jc=i,r}return Object(Fr.c)(e,t),e.prototype._apply=function(t){var e=Wy(t,this.type,this.Hc,this.Jc);return new Vb(t.firestore,t._converter,function(t,e){return new Fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Vy),Ky=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Hc=n,r.Jc=i,r}return Object(Fr.c)(e,t),e.prototype._apply=function(t){var e=Wy(t,this.type,this.Hc,this.Jc);return new Vb(t.firestore,t._converter,function(t,e){return new Fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Vy);function Wy(t,e,n,i){if(n[0]=Object(fs.p)(n[0]),n[0]instanceof ky)return function(t,e,n,i,r){if(!i)throw new bl(vl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Kh(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(uh(e,i.key));else{var c=i.data.field(u.field);if(Yl(c))throw new bl(vl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new bl(vl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Dh(o,r)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var r=cy(t.firestore);return function(t,e,n,i,r,o){var s=t.explicitOrderBy;if(r.length>s.length)throw new bl(vl.INVALID_ARGUMENT,"Too many arguments provided to "+i+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<r.length;u++){var c=r[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new bl(vl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+i+"(), but got a "+typeof c);if(!zh(t)&&-1!==c.indexOf("/"))throw new bl(vl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+i+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Vl.fromString(c));if(!th.isDocumentKey(l))throw new bl(vl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+i+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new th(l);a.push(uh(e,h))}else{var d=yy(n,i,c);a.push(d)}}return new Dh(a,o)}(t._query,t.firestore._databaseId,r,e,n,i)}function Gy(t,e,n){if("string"==typeof(n=Object(fs.p)(n))){if(""===n)throw new bl(vl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!zh(e)&&-1!==n.indexOf("/"))throw new bl(vl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(Vl.fromString(n));if(!th.isDocumentKey(i))throw new bl(vl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return uh(t,new th(i))}if(n instanceof Mb)return uh(t,n._key);throw new bl(vl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Pb(n)+".")}function Yy(t,e){if(!Array.isArray(t)||0===t.length)throw new bl(vl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new bl(vl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function $y(t,e,n){if(!n.isEqual(e))throw new bl(vl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Qy=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),eh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Gl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Sl()}},t.prototype.convertObject=function(t,e){var n=this,i={};return Ll(t.fields||{},function(t,r){i[t]=n.convertValue(r,e)}),i},t.prototype.convertGeoPoint=function(t){return new ny(Wl(t.latitude),Wl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=$l(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ql(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Kl(t);return new Pl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Vl.fromString(t);Tl(Uf(n));var i=new wb(n.get(1),n.get(3)),r=new th(n.popFirst(5));return i.isEqual(e)||Cl("Document "+r+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),r},t}();function Xy(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Jy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Fr.c)(e,t),e.prototype.convertBytes=function(t){return new ty(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Mb(this.firestore,null,e)},e}(Qy),Zy=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=cy(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var i=t_(t,this._firestore),r=Xy(i._converter,e,n),o=ly(this._dataReader,"WriteBatch.set",i._key,r,null!==i._converter,n);return this._mutations.push(o.toMutation(i._key,vd.none())),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];this._verifyNotCommitted();var o,s=t_(t,this._firestore);return o="string"==typeof(e=Object(fs.p)(e))||e instanceof Zb?by(this._dataReader,"WriteBatch.update",s._key,e,n,i):vy(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,vd.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=t_(t,this._firestore);return this._mutations=this._mutations.concat(new Rd(e._key,vd.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new bl(vl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function t_(t,e){if((t=Object(fs.p)(t)).firestore!==e)throw new bl(vl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var e_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Fr.c)(e,t),e.prototype.convertBytes=function(t){return new ty(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Mb(this.firestore,null,e)},e}(Qy);function n_(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];t=Nb(t,Mb);var o=Nb(t.firestore,Yb),s=cy(o);return r_(o,[("string"==typeof(e=Object(fs.p)(e))||e instanceof Zb?by(s,"updateDoc",t._key,e,n,i):vy(s,"updateDoc",t._key,e)).toMutation(t._key,vd.exists(!0))])}function i_(t){for(var e,n,i,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t=Object(fs.p)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof r[a]||Wb(r[a])||(s=r[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Wb(r[a])){var d=r[a];r[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),r[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),r[a+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}if(t instanceof Mb)c=Nb(t.firestore,Yb),l=Vh(t._key.path),u={next:function(e){r[a]&&r[a](o_(c,t,e))},error:r[a+1],complete:r[a+2]};else{var f=Nb(t,Vb);c=Nb(f.firestore,Yb),l=f._query;var p=new e_(c);u={next:function(t){r[a]&&r[a](new jy(c,p,f,t))},error:r[a+1],complete:r[a+2]},My(t._query)}return function(t,e,n,i){var r=this,o=new rb(i),s=new lv(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Fr.b)(r,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return e=ov,[4,vb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Fr.b)(r,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return e=sv,[4,vb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}($b(c),l,h,u)}function r_(t,e){return function(t,e){var n=this,i=new lp;return t.asyncQueue.enqueueAndForget(function(){return Object(Fr.b)(n,void 0,void 0,function(){var n;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return n=Ev,[4,gb(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}($b(t),e)}function o_(t,e,n){var i=n.docs.get(e._key),r=new e_(t);return new Py(t,r,e._key,i,new Ry(n.hasPendingWrites,n.fromCache),e._converter)}var s_=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this)._firestore=e,i}return Object(Fr.c)(e,t),e.prototype.get=function(e){var n=this,i=t_(e,this._firestore),r=new e_(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Py(n._firestore,r,i._key,t._document,new Ry(!1,!1),i._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=cy(t)}return t.prototype.get=function(t){var e=this,n=t_(t,this._firestore),i=new Jy(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Sl();var r=t[0];if(r.isFoundDocument())return new ky(e._firestore,i,r.key,r,n._converter);if(r.isNoDocument())return new ky(e._firestore,i,n._key,null,n._converter);throw Sl()})},t.prototype.set=function(t,e,n){var i=t_(t,this._firestore),r=Xy(i._converter,e,n),o=ly(this._dataReader,"Transaction.set",i._key,r,null!==i._converter,n);return this._transaction.set(i._key,o),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var o,s=t_(t,this._firestore);return o="string"==typeof(e=Object(fs.p)(e))||e instanceof Zb?by(this._dataReader,"Transaction.update",s._key,e,n,i):vy(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=t_(t,this._firestore);return this._transaction.delete(e._key),this},t}());function a_(){if("undefined"==typeof Uint8Array)throw new bl(vl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function u_(){if("undefined"==typeof atob)throw new bl(vl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var c_=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return u_(),new t(ty.fromBase64String(e))},t.fromUint8Array=function(e){return a_(),new t(ty.fromUint8Array(e))},t.prototype.toBase64=function(){return u_(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return a_(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),l_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Jb(t=Nb(t,Yb));var n=$b(t),i=t._freezeSettings(),r=new nb;return Xb(n,r,new tb(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Jb(t=Nb(t,Yb));var e=$b(t),n=t._freezeSettings(),i=new nb;return Xb(e,i,new eb(i,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new bl(vl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new lp;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Fr.b)(e,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(e){switch(e.label){case 0:return fp.yt()?[4,fp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Em(t._databaseId,t._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),h_=function(){function t(t,e,n){var i=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof wb||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var i=(t=Nb(t,Fb))._getSettings();"firestore.googleapis.com"!==i.host&&i.host!==e&&Ol("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Fr.b)(e,void 0,void 0,function(){var e,n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return[4,fb(t)];case 1:return e=i.sent(),[4,mb(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=xl(t);return e.$r.delete(0),xg(e)}(n))]}})})})}($b(Nb(this._delegate,Yb)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Fr.b)(e,void 0,void 0,function(){var e,n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return[4,fb(t)];case 1:return e=i.sent(),[4,mb(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return(e=xl(t)).$r.add(0),[4,Ig(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}($b(Nb(this._delegate,Yb)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ab("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new lp;return t.asyncQueue.enqueueAndForget(function(){return Object(Fr.b)(e,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return e=Av,[4,gb(t)];case 1:return[2,e.apply(void 0,[i.sent(),n])]}})})}),n.promise}($b(Nb(this._delegate,Yb)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,i=new rb(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Fr.b)(n,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){xl(t).Gr.add(e),e.next()},[4,vb(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})}),function(){i.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Fr.b)(n,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){xl(t).Gr.delete(e)},[4,vb(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})})}}($b(t=Nb(t,Yb)),Wb(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new bl(vl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new S_(this,Bb(this._delegate,t))}catch(t){throw v_(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new g_(this,Hb(this._delegate,t))}catch(t){throw v_(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new C_(this,function(t,e){if(t=Nb(t,Fb),Ib("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new bl(vl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Vb(t,null,function(t){return new Fh(Vl.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw v_(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,i=new lp;return t.asyncQueue.enqueueAndForget(function(){return Object(Fr.b)(n,void 0,void 0,function(){var n;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return[4,function(t){return db(t).then(function(t){return t.datastore})}(t)];case 1:return n=r.sent(),new ab(t.asyncQueue,n,e,i).run(),[2]}})})}),i.promise}($b(t),function(n){return e(new s_(t,n))})}(this._delegate,function(n){return t(new f_(e,n))})},t.prototype.batch=function(){var t=this;return $b(this._delegate),new p_(new Zy(this._delegate,function(e){return r_(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new bl(vl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new bl(vl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),d_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Fr.c)(e,t),e.prototype.convertBytes=function(t){return new c_(new ty(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return g_.Zc(e,this.firestore,null)},e}(Qy),f_=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new d_(t)}return t.prototype.get=function(t){var e=this,n=T_(t);return this._delegate.get(n).then(function(t){return new __(e._firestore,new Py(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var i=T_(t);return n?(kb("Transaction.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},t.prototype.update=function(t,e,n){for(var i,r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=T_(t);return 2===arguments.length?this._delegate.update(s,e):(i=this._delegate).update.apply(i,Object(Fr.f)([s,e,n],r)),this},t.prototype.delete=function(t){var e=T_(t);return this._delegate.delete(e),this},t}(),p_=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var i=T_(t);return n?(kb("WriteBatch.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},t.prototype.update=function(t,e,n){for(var i,r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=T_(t);return 2===arguments.length?this._delegate.update(s,e):(i=this._delegate).update.apply(i,Object(Fr.f)([s,e,n],r)),this},t.prototype.delete=function(t){var e=T_(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),m_=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Ny(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new w_(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var i=t.eu,r=i.get(e);r||(r=new WeakMap,i.set(e,r));var o=r.get(n);return o||(o=new t(e,new d_(e),n),r.set(n,o)),o},t}();m_.eu=new WeakMap;var g_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new d_(t)}return t.nu=function(e,n,i){if(e.length%2!=0)throw new bl(vl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Mb(n._delegate,i,new th(e)))},t.Zc=function(e,n,i){return new t(n,new Mb(n._delegate,i,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new S_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new S_(this.firestore,Bb(this._delegate,t))}catch(t){throw v_(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(fs.p)(t))instanceof Mb&&qb(this._delegate,t)},t.prototype.set=function(t,e){e=kb("DocumentReference.set",e);try{return function(t,e,n){t=Nb(t,Mb);var i=Nb(t.firestore,Yb),r=Xy(t._converter,e,n);return r_(i,[ly(cy(i),"setDoc",t._key,r,null!==t._converter,n).toMutation(t._key,vd.none())])}(this._delegate,t,e)}catch(t){throw v_(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?n_(this._delegate,t):n_.apply(void 0,Object(Fr.f)([this._delegate,t,e],n))}catch(t){throw v_(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return r_(Nb((t=this._delegate).firestore,Yb),[new Rd(t._key,vd.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=b_(e),r=y_(e,function(e){return new __(t.firestore,new Py(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return i_(this._delegate,i,r)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Nb(t,Mb);var e=Nb(t.firestore,Yb),n=$b(e),i=new e_(e);return function(t,e){var n=this,i=new lp;return t.asyncQueue.enqueueAndForget(function(){return Object(Fr.b)(n,void 0,void 0,function(){var n;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=xl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(r=o.sent()).isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new bl(vl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),r=Zg(i,"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}})})},[4,pb(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(n,t._key).then(function(n){return new Py(e,i,t._key,n,new Ry(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Nb(t,Mb);var e=Nb(t.firestore,Yb);return bb($b(e),t._key,{source:"server"}).then(function(n){return o_(e,t,n)})}(this._delegate):function(t){t=Nb(t,Mb);var e=Nb(t.firestore,Yb);return bb($b(e),t._key).then(function(n){return o_(e,t,n)})}(this._delegate)).then(function(t){return new __(e.firestore,new Py(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?m_.tu(this.firestore,e):null))},t}();function v_(t,e,n){return t.message=t.message.replace(e,n),t}function b_(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if("object"==typeof i&&!Wb(i))return i}return{}}function y_(t,e){var n,i,r;return{next:function(t){r.next&&r.next(e(t))},error:null===(n=(r=Wb(t[0])?t[0]:Wb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}var __=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new g_(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Fy(this._delegate,t._delegate)},t}(),w_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fr.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(__),C_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new d_(t)}return t.prototype.where=function(e,n,i){try{return new t(this.firestore,Uy(this._delegate,function(t,e,n){var i=e,r=Dy("where",t);return new By(r,i,n)}(e,n,i)))}catch(e){throw v_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Uy(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,i=Dy("orderBy",t);return new Hy(i,n)}(e,n)))}catch(e){throw v_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Uy(this._delegate,function(t){return jb("limit",t),new qy("limit",t,"F")}(e)))}catch(e){throw v_(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Uy(this._delegate,function(t){return jb("limitToLast",t),new qy("limitToLast",t,"L")}(e)))}catch(e){throw v_(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Uy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zy("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw v_(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Uy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zy("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw v_(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Uy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ky("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw v_(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Uy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ky("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw v_(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return zb(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Nb(t,Vb);var e=Nb(t.firestore,Yb),n=$b(e),i=new e_(e);return function(t,e){var n=this,i=new lp;return t.asyncQueue.enqueueAndForget(function(){return Object(Fr.b)(n,void 0,void 0,function(){var n;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r,o,s,a;return Object(Fr.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Vm(t,e,!0)];case 1:return a=u.sent(),i=new vv(e,a.Bn),r=i._o(a.documents),o=i.applyChanges(r,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Zg(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,pb(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(n,t._query).then(function(n){return new jy(e,i,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Nb(t,Vb);var e=Nb(t.firestore,Yb),n=$b(e),i=new e_(e);return yb(n,t._query,{source:"server"}).then(function(n){return new jy(e,i,t,n)})}(this._delegate):function(t){t=Nb(t,Vb);var e=Nb(t.firestore,Yb),n=$b(e),i=new e_(e);return My(t._query),yb(n,t._query).then(function(n){return new jy(e,i,t,n)})}(this._delegate)).then(function(t){return new E_(e.firestore,new jy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=b_(e),r=y_(e,function(e){return new E_(t.firestore,new jy(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return i_(this._delegate,i,r)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?m_.tu(this.firestore,e):null))},t}(),O_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new w_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),E_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new C_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new w_(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new O_(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(i){t.call(e,new w_(n._firestore,i))})},t.prototype.isEqual=function(t){return Fy(this._delegate,t._delegate)},t}(),S_=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).firestore=e,i._delegate=n,i}return Object(Fr.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new g_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new g_(this.firestore,void 0===t?Hb(this._delegate):Hb(this._delegate,t))}catch(t){throw v_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Nb(t.firestore,Yb),i=Hb(t),r=Xy(t._converter,e);return r_(n,[ly(cy(t.firestore),"addDoc",i._key,r,null!==t._converter,{}).toMutation(i._key,vd.exists(!1))]).then(function(){return i})}(this._delegate,t).then(function(t){return new g_(e.firestore,t)})},e.prototype.isEqual=function(t){return qb(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?m_.tu(this.firestore,t):null))},e}(C_);function T_(t){return Nb(t,Mb)}var x_,I_,k_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Zb.bind.apply(Zb,Object(Fr.f)([void 0],t)))}return t.documentId=function(){return new t(Bl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(fs.p)(t))instanceof Zb&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),A_=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new fy("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new hy("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new py("arrayUnion",t)}).apply(void 0,e);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new my("arrayRemove",t)}).apply(void 0,e);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(e){var n=function(t){return new gy("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),D_=n("/6Yf"),R_={Firestore:h_,GeoPoint:ny,Timestamp:Pl,Blob:c_,Transaction:f_,WriteBatch:p_,DocumentReference:g_,DocumentSnapshot:__,Query:C_,QueryDocumentSnapshot:w_,QuerySnapshot:E_,CollectionReference:S_,FieldPath:k_,FieldValue:A_,setLogLevel:function(t){yl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new D_.a("firestore",function(t){return function(t,e){return new h_(t,new Yb(t,e),new l_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},R_)))})(x_=ds.a),x_.registerVersion("@firebase/firestore","2.2.4"),(I_=h_).prototype.loadBundle=function(t){return function(t,e){var n=$b(t=Nb(t,Yb)),i=new Gb;return function(t,e,n,i){var r=this,o=function(t,e){return function(t,e){return new ob(t,e)}(function(t,e){if(t instanceof Uint8Array)return ib(t,e);if(t instanceof ArrayBuffer)return ib(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,yg(e));t.asyncQueue.enqueueAndForget(function(){return Object(Fr.b)(r,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return e=Jv,[4,gb(t)];case 1:return e.apply(void 0,[n.sent(),o,i]),[2]}})})})}(n,t._databaseId,e,i),i}(this._delegate,t)},I_.prototype.namedQuery=function(t){var e,n,i=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue(function(){return Object(Fr.b)(n,void 0,void 0,function(){var n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return n=function(t,e){var n=xl(t);return n.persistence.runTransaction("Get named query","readonly",function(t){return n.Qe.getNamedQuery(t,e)})},[4,pb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e])]}})})})}($b(e=Nb(e,Yb)),n).then(function(t){return t?new Vb(e,null,t.query):null})).then(function(t){return t?new C_(i,t):null})};var P_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},N_=function(t){function e(n,i,r){var o=t.call(this,i)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=r,o}return Object(Fr.c)(e,t),e}(Error),j_=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t;return Object(Fr.d)(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(x_){return[2,void 0]}return[2]})})},t.prototype.getContext=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t,e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function L_(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}var F_,M_,V_,U_=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return L_(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?L_(t,function(t){return e.decode(t)}):t},t}(),B_=function(){function t(t,e,n,i,r){var o=this;void 0===i&&(i="us-central1"),this.app_=t,this.fetchImpl=r,this.serializer=new U_,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new j_(e,n),this.cancelAllRequests=new Promise(function(t){o.deleteService=function(){return t()}});try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(x_){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(i){return n.call(t,i,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return i=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:r=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,i.json()];case 6:return r=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:i.status,json:r}]}})})},t.prototype.call=function(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r,o,s,a,u,c,l,h,d;return Object(Fr.d)(this,function(f){switch(f.label){case 0:return i=this._url(t),e=this.serializer.encode(e),r={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=f.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=function(t){var e,n=new Promise(function(n,i){e=setTimeout(function(){i(new N_("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(n.timeout||7e4),u=a.timer,c=a.promise,[4,Promise.race([H_(u,this.postJSON(i,r,o)),c,H_(u,this.cancelAllRequests)])];case 2:if(!(l=f.sent()))throw new N_("cancelled","Firebase Functions instance was deleted.");if(h=function(t,e,n){var i=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),r=i,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!P_[a])return new N_("internal","internal");i=P_[a],r=a}var u=s.message;"string"==typeof u&&(r=u),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(x_){}return"ok"===i?null:new N_(i,r,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new N_("internal","Response is not valid JSON object.");if(void 0===(d=l.json.data)&&(d=l.json.result),void 0===d)throw new N_("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}})})},t}();function H_(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return[4,e];case 1:return n=i.sent(),clearTimeout(t),[2,n]}})})}F_=ds.a,M_=fetch.bind(self),V_={Functions:B_},F_.INTERNAL.registerComponent(new D_.a("functions",function(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("messaging");return new B_(i,r,o,n,M_)},"PUBLIC").setServiceProps(V_).setMultipleInstances(!0)),ds.a.registerVersion("@firebase/functions","0.6.7");var q_,z_=n("nbvr"),K_="w:0.4.25",W_=((q_={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',q_["not-registered"]="Firebase Installation is not registered.",q_["installation-not-found"]="Firebase Installation not found.",q_["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',q_["app-offline"]="Could not process request. Application offline.",q_["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",q_),G_=new fs.b("installations","Installations",W_);function Y_(t){return t instanceof fs.c&&t.code.includes("request-failed")}function $_(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function Q_(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function X_(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=r.sent(),[2,G_.create("request-failed",{requestName:t,serverCode:(i=n.error).code,serverMessage:i.message,serverStatus:i.status})]}})})}function J_(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function Z_(t,e){var n=e.refreshToken,i=J_(t);return i.append("Authorization",function(t){return"FIS_v2 "+t}(n)),i}function tw(t){return Object(Fr.b)(this,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function ew(t,e){var n=e.fid;return Object(Fr.b)(this,void 0,void 0,function(){var e,i,r,o,s;return Object(Fr.d)(this,function(a){switch(a.label){case 0:return e=$_(t),i=J_(t),r={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:K_})},[4,tw(function(){return fetch(e,r)})];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:Q_(s.authToken)}];case 3:return[4,X_("Create Installation",o)];case 4:throw a.sent()}})})}function nw(t){return new Promise(function(e){setTimeout(e,t)})}var iw=/^[cdef][\w-]{21}$/;function rw(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(Fr.f)([],Object(Fr.e)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return iw.test(e)?e:""}catch(n){return""}}function ow(t){return t.appName+"!"+t.appId}var sw=new Map;function aw(t,e){var n=ow(t);uw(n,e),function(t,e){var n=lw();n&&n.postMessage({key:t,fid:e}),hw()}(n,e)}function uw(t,e){var n,i,r=sw.get(t);if(r)try{for(var o=Object(Fr.g)(r),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(a){n={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}var cw=null;function lw(){return!cw&&"BroadcastChannel"in self&&((cw=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){uw(t.data.key,t.data.fid)}),cw}function hw(){0===sw.size&&cw&&(cw.close(),cw=null)}var dw,fw="firebase-installations-store",pw=null;function mw(){return pw||(pw=Object(z_.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(fw)}})),pw}function gw(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o,s;return Object(Fr.d)(this,function(a){switch(a.label){case 0:return n=ow(t),[4,mw()];case 1:return i=a.sent(),r=i.transaction(fw,"readwrite"),[4,(o=r.objectStore(fw)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),s&&s.fid===e.fid||aw(t,e.fid),[2,e]}})})}function vw(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return e=ow(t),[4,mw()];case 1:return n=r.sent(),[4,(i=n.transaction(fw,"readwrite")).objectStore(fw).delete(e)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}})})}function bw(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o,s,a;return Object(Fr.d)(this,function(u){switch(u.label){case 0:return n=ow(t),[4,mw()];case 1:return i=u.sent(),r=i.transaction(fw,"readwrite"),[4,(o=r.objectStore(fw)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,r.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||aw(t,a.fid),[2,a]}})})}function yw(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return[4,bw(t,function(n){var i=function(t){return Cw(t||{fid:rw(),registrationStatus:0})}(n),r=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(G_.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,ew(t,e)];case 1:return n=r.sent(),[2,gw(t,n)];case 2:return Y_(i=r.sent())&&409===i.customData.serverCode?[4,vw(t)]:[3,4];case 3:return r.sent(),[3,6];case 4:return[4,gw(t,{fid:e.fid,registrationStatus:0})];case 5:r.sent(),r.label=6;case 6:throw i;case 7:return[2]}})})}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:_w(t)}:{installationEntry:e}}(t,i);return e=r.registrationPromise,r.installationEntry})];case 1:return""!==(n=r.sent()).fid?[3,3]:(i={},[4,e]);case 2:return[2,(i.installationEntry=r.sent(),i)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function _w(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n,i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return[4,ww(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,nw(100)];case 3:return o.sent(),[4,ww(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,yw(t)];case 6:return n=o.sent(),i=n.installationEntry,(r=n.registrationPromise)?[2,r]:[2,i];case 7:return[2,e]}})})}function ww(t){return bw(t,function(t){if(!t)throw G_.create("installation-not-found");return Cw(t)})}function Cw(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function Ow(t,e){var n=t.appConfig,i=t.platformLoggerProvider;return Object(Fr.b)(this,void 0,void 0,function(){var t,r,o,s,a;return Object(Fr.d)(this,function(u){switch(u.label){case 0:return t=function(t,e){var n=e.fid;return $_(t)+"/"+n+"/authTokens:generate"}(n,e),r=Z_(n,e),(o=i.getImmediate({optional:!0}))&&r.append("x-firebase-client",o.getPlatformInfoString()),s={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:K_}})},[4,tw(function(){return fetch(t,s)})];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,Q_(u.sent())];case 3:return[4,X_("Generate Auth Token",a)];case 4:throw u.sent()}})})}function Ew(t,e){return void 0===e&&(e=!1),Object(Fr.b)(this,void 0,void 0,function(){var n,i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return[4,bw(t.appConfig,function(i){if(!Tw(i))throw G_.create("not-registered");var r,o=i.authToken;if(!e&&2===(r=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(r))return i;if(1===o.requestStatus)return n=function(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return[4,Sw(t.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,nw(100)];case 3:return r.sent(),[4,Sw(t.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(i=n.authToken).requestStatus?[2,Ew(t,e)]:[2,i]}})})}(t,e),i;if(!navigator.onLine)throw G_.create("app-offline");var s=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(Fr.a)(Object(Fr.a)({},t),{authToken:e})}(i);return n=function(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Ow(t,e)];case 1:return n=o.sent(),r=Object(Fr.a)(Object(Fr.a)({},e),{authToken:n}),[4,gw(t.appConfig,r)];case 2:return o.sent(),[2,n];case 3:return!Y_(i=o.sent())||401!==i.customData.serverCode&&404!==i.customData.serverCode?[3,5]:[4,vw(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return r=Object(Fr.a)(Object(Fr.a)({},e),{authToken:{requestStatus:0}}),[4,gw(t.appConfig,r)];case 6:o.sent(),o.label=7;case 7:throw i;case 8:return[2]}})})}(t,s),s})];case 1:return i=o.sent(),n?[4,n]:[3,3];case 2:return r=o.sent(),[3,4];case 3:r=i.authToken,o.label=4;case 4:return[2,r]}})})}function Sw(t){return bw(t,function(t){if(!Tw(t))throw G_.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(Fr.a)(Object(Fr.a)({},t),{authToken:{requestStatus:0}}):t})}function Tw(t){return void 0!==t&&2===t.registrationStatus}function xw(t){return Object(Fr.b)(this,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return[4,yw(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function Iw(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o;return Object(Fr.d)(this,function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return $_(t)+"/"+n}(t,e),i=Z_(t,e),r={method:"DELETE",headers:i},[4,tw(function(){return fetch(n,r)})];case 1:return(o=s.sent()).ok?[3,3]:[4,X_("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}})})}function kw(t){return G_.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new D_.a("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw kw("App Configuration");if(!t.name)throw kw("App Name");try{for(var i=Object(Fr.g)(["projectId","apiKey","appId"]),r=i.next();!r.done;r=i.next()){var o=r.value;if(!t.options[o])throw kw(o)}}catch(s){e={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return[4,yw(t.appConfig)];case 1:return e=r.sent(),n=e.installationEntry,(i=e.registrationPromise)?i.catch(console.error):Ew(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(n){switch(n.label){case 0:return[4,xw(t.appConfig)];case 1:return n.sent(),[4,Ew(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return[4,bw(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=i.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw G_.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw G_.create("app-offline");case 3:return[4,Iw(e,n)];case 4:return i.sent(),[4,vw(e)];case 5:i.sent(),i.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){lw();var n=ow(t),i=sw.get(n);i||(i=new Set,sw.set(n,i)),i.add(e)}(n,e),function(){!function(t,e){var n=ow(t),i=sw.get(n);i&&(i.delete(e),0===i.size&&sw.delete(n),hw())}(n,e)}}(n,t)}}},"PUBLIC")),t.registerVersion("@firebase/installations","0.4.25")}(ds.a);var Aw=((dw={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',dw["only-available-in-window"]="This method is available in a Window context.",dw["only-available-in-sw"]="This method is available in a service worker context.",dw["permission-default"]="The notification permission was not granted and dismissed instead.",dw["permission-blocked"]="The notification permission was not granted and blocked instead.",dw["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",dw["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",dw["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",dw["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",dw["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",dw["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",dw["token-update-no-token"]="FCM returned no token when updating the user to push.",dw["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",dw["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",dw["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",dw["invalid-vapid-key"]="The public VAPID key must be a string.",dw["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",dw),Dw=new fs.b("messaging","Messaging",Aw),Rw="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Pw=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function Nw(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(Fr.f)([],Object(Fr.e)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jw(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}var Lw="fcm_token_details_db",Fw="fcm_token_object_Store";function Mw(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n=this;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!i.sent().map(function(t){return t.name}).includes(Lw))return[2,null];i.label=2;case 2:return e=null,[4,Object(z_.openDb)(Lw,5,function(i){return Object(Fr.b)(n,void 0,void 0,function(){var n,r,o,s;return Object(Fr.d)(this,function(a){switch(a.label){case 0:return i.oldVersion<2?[2]:i.objectStoreNames.contains(Fw)?[4,(n=i.transaction.objectStore(Fw)).index("fcmSenderId").get(t)]:[2];case 1:return r=a.sent(),[4,n.clear()];case 2:if(a.sent(),!r)return[2];if(2===i.oldVersion){if(!(o=r).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:Nw(o.vapidKey)}}}else(3===i.oldVersion||4===i.oldVersion)&&(e={token:(o=r).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Nw(o.auth),p256dh:Nw(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Nw(o.vapidKey)}});return[2]}})})})];case 3:return i.sent().close(),[4,Object(z_.deleteDb)(Lw)];case 4:return i.sent(),[4,Object(z_.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(z_.deleteDb)("undefined")];case 6:return i.sent(),[2,Vw(e)?e:null]}})})}function Vw(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var Uw="firebase-messaging-store",Bw=null;function Hw(){return Bw||(Bw=Object(z_.openDb)("firebase-messaging-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Uw)}})),Bw}function qw(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return e=Ww(t),[4,Hw()];case 1:return[4,r.sent().transaction(Uw).objectStore(Uw).get(e)];case 2:return(n=r.sent())?[2,n]:[3,3];case 3:return[4,Mw(t.appConfig.senderId)];case 4:return(i=r.sent())?[4,zw(t,i)]:[3,6];case 5:return r.sent(),[2,i];case 6:return[2]}})})}function zw(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return n=Ww(t),[4,Hw()];case 1:return i=o.sent(),[4,(r=i.transaction(Uw,"readwrite")).objectStore(Uw).put(e,n)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2,e]}})})}function Kw(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return e=Ww(t),[4,Hw()];case 1:return n=r.sent(),[4,(i=n.transaction(Uw,"readwrite")).objectStore(Uw).delete(e)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}})})}function Ww(t){return t.appConfig.appId}function Gw(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o,s;return Object(Fr.d)(this,function(a){switch(a.label){case 0:return[4,Xw(t)];case 1:n=a.sent(),i=Jw(e),r={method:"POST",headers:n,body:JSON.stringify(i)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(Qw(t.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),Dw.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw Dw.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Dw.create("token-subscribe-no-token");return[2,o.token]}})})}function Yw(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o,s;return Object(Fr.d)(this,function(a){switch(a.label){case 0:return[4,Xw(t)];case 1:n=a.sent(),i=Jw(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(Qw(t.appConfig)+"/"+e.token,r)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),Dw.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw Dw.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Dw.create("token-update-no-token");return[2,o.token]}})})}function $w(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o;return Object(Fr.d)(this,function(s){switch(s.label){case 0:return[4,Xw(t)];case 1:n=s.sent(),i={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Qw(t.appConfig)+"/"+e,i)];case 3:return[4,s.sent().json()];case 4:if((r=s.sent()).error)throw Dw.create("token-unsubscribe-failed",{errorInfo:r.error.message});return[3,6];case 5:throw o=s.sent(),Dw.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}})})}function Qw(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function Xw(t){var e=t.appConfig,n=t.installations;return Object(Fr.b)(this,void 0,void 0,function(){var t;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return t=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function Jw(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==Rw&&(n.web.applicationPubKey=e),n}function Zw(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r,o,s;return Object(Fr.d)(this,function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw Dw.create("permission-blocked");return[4,iC(e,n)];case 1:return i=a.sent(),[4,qw(t)];case 2:return r=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:i.endpoint,auth:Nw(i.getKey("auth")),p256dh:Nw(i.getKey("p256dh"))},r?[3,3]:[2,nC(t,o)];case 3:if(l=(c=o).endpoint===(u=r.subscriptionOptions).endpoint,c.vapidKey===u.vapidKey&&l&&c.auth===u.auth&&c.p256dh===u.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,$w(t,r.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,nC(t,o)];case 8:return Date.now()>=r.createTime+6048e5?[2,eC({token:r.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,r.token];case 9:return[2]}var u,c,l})})}function tC(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return[4,qw(t)];case 1:return(n=r.sent())?[4,$w(t,n.token)]:[3,4];case 2:return r.sent(),[4,Kw(t)];case 3:r.sent(),r.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(i=r.sent())?[2,i.unsubscribe()]:[2,!0]}})})}function eC(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r,o;return Object(Fr.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,Yw(e,t)];case 1:return i=s.sent(),r=Object(Fr.a)(Object(Fr.a)({},t),{token:i,createTime:Date.now()}),[4,zw(e,r)];case 2:return s.sent(),[2,i];case 3:return o=s.sent(),[4,tC(e,n)];case 4:throw s.sent(),o;case 5:return[2]}})})}function nC(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return[4,Gw(t,e)];case 1:return n=r.sent(),i={token:n,createTime:Date.now(),subscriptionOptions:e},[4,zw(t,i)];case 2:return r.sent(),[2,i.token]}})})}function iC(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=i.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jw(e)})]}})})}function rC(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function oC(t){return new Promise(function(e){setTimeout(e,t)})}var sC=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw Dw.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(Fr.b)(this,void 0,void 0,function(){var n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,qw(this.firebaseDependencies)];case 1:n=i.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:Rw,i.label=2;case 2:return[2,Zw(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return tC(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Dw.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Dw.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Dw.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw Dw.create("only-available-in-window")},t.prototype.onMessage=function(){throw Dw.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Dw.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n,i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,lC()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}(n=o.sent())?[2,cC(n,e)]:(i=!1,e.notification?[4,hC(aC(e))]:[3,3]);case 2:o.sent(),i=!0,o.label=3;case 3:return!0===i&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(r=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var i=e.notification.body;i&&(t.notification.body=i);var r=e.notification.image;r&&(t.notification.image=r)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var i=e.fcmOptions.analytics_label;i&&(t.fcmOptions.analyticsLabel=i)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(r):this.bgMessageHandler.next(r)),[4,oC(1e3)]);case 4:return o.sent(),[2]}})})},t.prototype.onSubChange=function(t){var e,n;return Object(Fr.b)(this,void 0,void 0,function(){var i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return t.newSubscription?[3,2]:[4,tC(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,qw(this.firebaseDependencies)];case 3:return i=r.sent(),[4,tC(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,Zw(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==i?void 0:i.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:Rw)];case 5:return r.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return Object(Fr.b)(this,void 0,void 0,function(){var i,r,o,s,a;return Object(Fr.d)(this,function(u){switch(u.label){case 0:return(i=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(r=function(t){var e,n,i;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(i=t.notification)||void 0===i?void 0:i.click_action)||(rC(t.data)?self.location.origin:null)}(i))?(o=new URL(r,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,uC(o)]):[2]):[2];case 1:return(a=u.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return a=u.sent(),[4,oC(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=u.sent(),u.label=6;case 6:return a?(i.messageType=Pw.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,a.postMessage(i)]):[2]}})})},t}();function aC(t){var e,n=Object(Fr.a)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function uC(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n,i,r,o,s,a;return Object(Fr.d)(this,function(u){switch(u.label){case 0:return[4,lC()];case 1:e=u.sent();try{for(n=Object(Fr.g)(e),i=n.next();!i.done;i=n.next())if(r=i.value,o=new URL(r.url,self.location.href),t.host===o.host)return[2,r]}catch(c){s={error:c}}finally{try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}})})}function cC(t,e){var n,i;e.isFirebaseMessaging=!0,e.messageType=Pw.PUSH_RECEIVED;try{for(var r=Object(Fr.g)(t),o=r.next();!o.done;o=r.next())o.value.postMessage(e)}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}function lC(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function hC(t){var e,n=t.actions,i=Notification.maxActions;return n&&i&&n.length>i&&console.warn("This browser only supports "+i+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var dC=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===Pw.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),rC(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw Dw.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,Zw(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(t){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Rw),[2]})})},t.prototype.updateSwReg=function(t){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Dw.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},t.prototype.registerDefaultSw=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t,e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=n.sent(),Dw.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,tC(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t;return Object(Fr.d)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw Dw.create("denied"===t?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Dw.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Dw.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Dw.create("invalid-sw-registration");if(this.swRegistration)throw Dw.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Dw.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Dw.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return n=function(t){switch(t){case Pw.NOTIFICATION_CLICKED:return"notification_open";case Pw.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function fC(t){return Dw.create("missing-app-config-values",{valueName:t})}var pC={isSupported:mC};function mC(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}ds.a.INTERNAL.registerComponent(new D_.a("messaging",function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw fC("App Configuration Object");if(!t.name)throw fC("App Name");var i=t.options;try{for(var r=Object(Fr.g)(["projectId","apiKey","appId","messagingSenderId"]),o=r.next();!o.done;o=r.next()){var s=o.value;if(!i[s])throw fC(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!mC())throw Dw.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new sC(n):new dC(n)},"PUBLIC").setServiceProps(pC));var gC="firebasestorage.googleapis.com",vC=function(t){function e(n,i){var r=t.call(this,bC(n),"Firebase Storage: "+i+" ("+bC(n)+")")||this;return r.customData={serverResponse:null},Object.setPrototypeOf(r,e.prototype),r}return Object(Fr.c)(e,t),e.prototype._codeEquals=function(t){return bC(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(fs.c);function bC(t){return"storage/"+t}function yC(){return new vC("unknown","An unknown error occurred, please check the error payload for server response.")}function _C(){return new vC("canceled","User canceled the upload/download.")}function wC(){return new vC("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function CC(t){return new vC("invalid-argument",t)}function OC(){return new vC("app-deleted","The Firebase app was deleted.")}function EC(t){return new vC("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function SC(t,e){return new vC("invalid-format","String does not match format '"+t+"': "+e)}function TC(t){throw new vC("internal-error","Internal error: "+t)}var xC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},IC=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function kC(t,e){switch(t){case xC.RAW:return new IC(AC(e));case xC.BASE64:case xC.BASE64URL:return new IC(DC(t,e));case xC.DATA_URL:return new IC((n=new RC(e)).base64?DC(xC.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(x_){throw SC(xC.DATA_URL,"Malformed data URL.")}return AC(e)}(n.rest),new RC(e).contentType)}var n;throw yC()}function AC(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var r=i,o=t.charCodeAt(++n);e.push(240|(i=65536|(1023&r)<<10|1023&o)>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189);else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function DC(t,e){switch(t){case xC.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw SC(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case xC.BASE64URL:var r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw SC(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(x_){throw SC(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var RC=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw SC(xC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,i,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=(i=";base64").length&&n.substring(n.length-i.length)===i,this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),PC={STATE_CHANGED:"state_changed"},NC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function jC(t){switch(t){case"running":case"pausing":case"canceling":return NC.RUNNING;case"paused":return NC.PAUSED;case"success":return NC.SUCCESS;case"canceled":return NC.CANCELED;case"error":default:return NC.ERROR}}var LC=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),FC=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=LC.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=LC.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=LC.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,i){if(this.sent_)throw TC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(var r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw TC("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw TC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(x_){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw TC("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),MC=function(){function t(){}return t.prototype.createXhrIo=function(){return new FC},t}(),VC=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var i;try{i=t.makeFromUrl(e,n)}catch(x_){return new t(e,"")}if(""===i.path)return i;throw new vC("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var i=null,r="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(n===gC?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var d=h[l.indices.path];d||(d=""),i=new t(h[l.indices.bucket],d),l.postModify(i);break}}if(null==i)throw function(t){return new vC("invalid-url","Invalid URL '"+t+"'.")}(e);return i},t}(),UC=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function BC(t){return"string"==typeof t||t instanceof String}function HC(t){return qC()&&t instanceof Blob}function qC(){return"undefined"!=typeof Blob}function zC(t,e,n,i){if(i<e)throw CC("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(i>n)throw CC("Invalid value for '"+t+"'. Expected "+n+" or less.")}function KC(t,e){var n=e.match(/^(\w+):\/\/.+/),i=e;return null==(null==n?void 0:n[1])&&(i="https://"+e),i+"/v0"+t}function WC(t){var e=encodeURIComponent,n="?";for(var i in t)t.hasOwnProperty(i)&&(n=n+(e(i)+"=")+e(t[i])+"&");return n.slice(0,-1)}var GC=function(){function t(t,e,n,i,r,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var i,r=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?r(a):r()}catch(x_){o(x_)}else null!==s?((i=yC()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,i):i)):o(i=n.canceled?t.appDelete_?OC():_C():new vC("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new YC(!1,null,!0)):this.backoffId_=function(e,n,i){var r=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new YC(!1,null,!0));else{var i=t.pool_.createXhrIo();t.pendingXhr_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(r),t.pendingXhr_=null;var i=(n=n).getErrorCode()===LC.NO_ERROR,o=n.getStatus();if(i&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new YC(s,n))}else{var a=n.getErrorCode()===LC.ABORT;e(!1,new YC(!1,null,a))}})}function r(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,u())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Fr.f)([null,t],e));else{var i;u()||s?l.call.apply(l,Object(Fr.f)([null,t],e)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),h(i))}}var f=!1;function p(t){f||(f=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},i),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||i},t}(),YC=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function $C(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function QC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=$C();if(void 0!==n){for(var i=new n,r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(qC())return new Blob(t);throw new vC("unsupported-environment","This browser doesn't seem to support creating Blobs")}var XC=function(){function t(t,e){var n=0,i="";HC(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(HC(this.data_)){var i=(o=e,s=n,(r=this.data_).webkitSlice?r.webkitSlice(o,s):r.mozSlice?r.mozSlice(o,s):r.slice?r.slice(o,s):null);return null===i?null:new t(i)}var r,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(qC()){var i=e.map(function(e){return e instanceof t?e.data_:e});return new t(QC.apply(null,i))}var r=e.map(function(t){return BC(t)?kC(xC.RAW,t).data:t.data_}),o=0;r.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return r.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function JC(t){var e,n;try{e=JSON.parse(t)}catch(x_){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function ZC(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function tO(t,e){return e}var eO=function(){return function(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||tO}}(),nO=null;function iO(){if(nO)return nO;var t=[];t.push(new eO("bucket")),t.push(new eO("generation")),t.push(new eO("metageneration")),t.push(new eO("name","fullPath",!0));var e=new eO("name");e.xform=function(t,e){return function(t){return!BC(t)||t.length<2?t:ZC(t)}(e)},t.push(e);var n=new eO("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new eO("timeCreated")),t.push(new eO("updated")),t.push(new eO("md5Hash",null,!0)),t.push(new eO("cacheControl",null,!0)),t.push(new eO("contentDisposition",null,!0)),t.push(new eO("contentEncoding",null,!0)),t.push(new eO("contentLanguage",null,!0)),t.push(new eO("contentType",null,!0)),t.push(new eO("metadata","customMetadata",!0)),nO=t}function rO(t,e,n){var i=JC(e);return null===i?null:function(t,e,n){for(var i={type:"file"},r=n.length,o=0;o<r;o++){var s=n[o];i[s.local]=s.xform(i,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new VC(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(i,t),i}(t,i,n)}function oO(t,e){for(var n={},i=e.length,r=0;r<i;r++){var o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var sO=function(){return function(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function aO(t){if(!t)throw yC()}function uO(t,e){return function(n,i){var r=rO(t,i,e);return aO(null!==r),r}}function cO(t){return function(e,n){var i;return(i=401===e.getStatus()?new vC("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new vC("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new vC("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,i}}function lO(t){var e=cO(t);return function(n,i){var r=e(n,i);return 404===n.getStatus()&&(r=new vC("object-not-found","Object '"+t.path+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function hO(t,e,n){var i=KC(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,o=new sO(i,"GET",uO(t,n),r);return o.errorHandler=lO(e),o}function dO(t,e,n){var i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),i}var fO=function(){return function(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null}}();function pO(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(x_){aO(!1)}return aO(!!n&&-1!==(e||["active"]).indexOf(n)),n}var mO=262144,gO=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}}}();function vO(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var bO=function(){function t(t,e,n){var i=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=iO(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){i._request=void 0,i._chunkMultiplier=1,t._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=t,i._transition("error"))},this._metadataErrorHandler=function(t){i._request=void 0,t._codeEquals("canceled")?i.completeTransitions_():(i._error=t,i._transition("error"))},this._promise=new Promise(function(t,e){i._resolve=t,i._reject=e,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),s=dO(e,i,r),a={name:s.fullPath},u=KC(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=oO(s,n),h=new sO(u,"POST",function(t){var e;pO(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(x_){aO(!1)}return aO(BC(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=cO(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(n,e);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var i=function(t,e,n,i){var r=new sO(n,"POST",function(t){var e=pO(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(x_){aO(!1)}n||aO(!1);var r=Number(n);return aO(!isNaN(r)),new fO(r,i.size(),"final"===e)},t.maxUploadRetryTime);return r.headers={"X-Goog-Upload-Command":"query"},r.errorHandler=cO(e),r}(t._ref.storage,t._ref._location,e,t._blob),r=t._ref.storage._makeRequest(i,n);t._request=r,r.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=mO*this._chunkMultiplier,n=new fO(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(r){var o;try{o=function(t,e,n,i,r,o,s,a){var u=new fO(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=i.size()),i.size()!==u.total)throw new vC("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;r>0&&(l=Math.min(l,r));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},f=i.slice(h,h+l);if(null===f)throw wC();var p=new sO(n,"POST",function(t,n){var r,s=pO(t,["active","final"]),a=u.current+l,c=i.size();return r="final"===s?uO(e,o)(t,n):null,new fO(a,c,"final"===s,r)},e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=cO(t),p}(t._ref._location,t._ref.storage,i,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(x_){return t._error=x_,void t._transition("error")}var s=t._ref.storage._makeRequest(o,r);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){mO*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=hO(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(n,e);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=dO(e,i,r),c=oO(u,n),l=XC.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",i,"\r\n--"+a+"--");if(null===l)throw wC();var h={name:u.fullPath},d=KC(o,t.host),f=t.maxUploadRetryTime,p=new sO(d,"POST",uO(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=cO(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(n,e);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=_C(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=jC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,i){var r=this,o=new gO(e,n,i);return this._addObserver(o),function(){r._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(jC(this._state)){case NC.SUCCESS:vO(this._resolve.bind(null,this.snapshot))();break;case NC.CANCELED:case NC.ERROR:vO(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(jC(this._state)){case NC.RUNNING:case NC.PAUSED:t.next&&vO(t.next.bind(t,this.snapshot))();break;case NC.SUCCESS:t.complete&&vO(t.complete.bind(t))();break;case NC.CANCELED:case NC.ERROR:t.error&&vO(t.error.bind(t,this._error))();break;default:t.error&&vO(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),yO=function(){function t(t,e){this._service=t,this._location=e instanceof VC?e:VC.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new VC(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return ZC(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new VC(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw EC(t)},t}();function _O(t){var e={prefixes:[],items:[]};return wO(t,e).then(function(){return e})}function wO(t,e,n){return Object(Fr.b)(this,void 0,void 0,function(){var i,r,o;return Object(Fr.d)(this,function(s){switch(s.label){case 0:return[4,CO(t,{pageToken:n})];case 1:return i=s.sent(),(r=e.prefixes).push.apply(r,i.prefixes),(o=e.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,wO(t,e,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function CO(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&zC("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),r=function(t,e,n,i,r){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),r&&(o.maxResults=r);var s=KC(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new sO(s,"GET",function(t,e){return function(n,i){var r=function(t,e,n){var i=JC(n);return null===i?null:function(t,e,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var r=0,o=n.prefixes;r<o.length;r++){var s=o[r].replace(/\/$/,""),a=t._makeStorageReference(new VC(e,s));i.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new VC(e,c[u].name)),i.items.push(a);return i}(t,e,i)}(t,e,i);return aO(null!==r),r}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=cO(e),u}(t.storage,t._location,"/",(i=e||{}).pageToken,i.maxResults),[2,t.storage._makeRequest(r,n).getPromise()]}})})}function OO(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),i=new VC(t._location.bucket,n);return new yO(t.storage,i)}function EO(t){return/^[A-Za-z]+:\/\//.test(t)}function SO(t,e){if(t instanceof IO){var n=t;if(null==n._bucket)throw new vC("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new yO(n,n._bucket);return null!=e?SO(i,e):i}if(void 0!==e){if(e.includes(".."))throw CC('`path` param cannot contain ".."');return OO(t,e)}return t}function TO(t,e){if(e&&EO(e)){if(t instanceof IO)return new yO(t,e);throw CC("To use ref(service, url), the first argument must be a Storage instance.")}return SO(t,e)}function xO(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:VC.makeFromBucketSpec(n,t)}var IO=function(){function t(t,e,n,i,r){this.app=t,this._authProvider=e,this._pool=n,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=gC,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?VC.makeFromBucketSpec(i,this._host):xO(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?VC.makeFromBucketSpec(this._url,t):xO(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){zC("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){zC("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t,e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new yO(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new UC(OC());var i=function(t,e,n,i,r){var o=WC(t.urlParams),s=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,r),new GC(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return n._requests.delete(i)},function(){return n._requests.delete(i)}),i},t}();function kO(t,e){return TO(t=Object(fs.p)(t),e)}var AO=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),DO=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new AO(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new AO(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,i){var r=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new AO(t,r,r._ref))}:{next:e.next?function(t){return e.next(new AO(t,r,r._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,i||void 0)},t}(),RO=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new PO(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new PO(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),PO=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return OO(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new DO(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new bO(t,new XC(e),n)}(t=Object(fs.p)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=xC.RAW),this._throwIfRoot("putString");var i=kC(e,t),r=Object(Fr.a)({},n);return null==r.contentType&&null!=i.contentType&&(r.contentType=i.contentType),new DO(new bO(this._delegate,new XC(i.data,!0),r),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,_O(t=Object(fs.p)(t))).then(function(t){return new RO(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return CO(t=Object(fs.p)(t),e)}(this._delegate,t||void 0).then(function(t){return new RO(t,e.storage)})},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=i.sent(),n=hO(t.storage,t._location,iO()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(t=Object(fs.p)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=r.sent(),i=function(t,e,n,i){var r=KC(e.fullServerUrl(),t.host),o=oO(n,i),s=t.maxOperationRetryTime,a=new sO(r,"PATCH",uO(t,i),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=lO(e),a}(t.storage,t._location,e,iO()),[2,t.storage._makeRequest(i,n).getPromise()]}})})}(t=Object(fs.p)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=i.sent(),n=function(t,e,n){var i=KC(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,o=new sO(i,"GET",function(t,e){return function(n,i){var r=rO(t,i,e);return aO(null!==r),function(t,e,n){var i=JC(e);if(null===i)return null;if(!BC(i.downloadTokens))return null;var r=i.downloadTokens;if(0===r.length)return null;var o=encodeURIComponent;return r.split(",").map(function(e){var i=t.fullPath;return KC("/b/"+o(t.bucket)+"/o/"+o(i),n)+WC({alt:"media",token:e})})[0]}(r,i,t.host)}}(t,n),r);return o.errorHandler=lO(e),o}(t.storage,t._location,iO()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new vC("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=Object(fs.p)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=i.sent(),n=function(t,e){var n=KC(e.fullServerUrl(),t.host),i=new sO(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return i.successCodes=[200,204],i.errorHandler=lO(e),i}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(t=Object(fs.p)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw EC(t)},t}(),NO=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(EO(t))throw CC("ref() expected a child path but got a URL, use refFromURL instead.");return new PO(kO(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!EO(t))throw CC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{VC.makeFromUrl(t,this._delegate.host)}catch(x_){throw CC("refFromUrl() expected a valid full URL but got an invalid one.")}return new PO(kO(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function jO(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new NO(i,new IO(i,r,new MC,n,ds.a.SDK_VERSION))}!function(t){var e={TaskState:NC,TaskEvent:PC,StringFormat:xC,Storage:IO,Reference:PO};t.INTERNAL.registerComponent(new D_.a("storage",jO,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.5.0")}(ds.a);var LO,FO,MO,VO="0.4.11",UO=VO,BO="FB-PERF-TRACE-MEASURE",HO="_wt_",qO="_fcp",zO="_fid",KO="@firebase/performance/config",WO="@firebase/performance/configexpire",GO="Performance",YO=((LO={})["trace started"]="Trace {$traceName} was started before.",LO["trace stopped"]="Trace {$traceName} is not running.",LO["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",LO["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",LO["no window"]="Window is not available.",LO["no app id"]="App id is not available.",LO["no project id"]="Project id is not available.",LO["no api key"]="Api key is not available.",LO["invalid cc log"]="Attempted to queue invalid cc event",LO["FB not default"]="Performance can only start when Firebase app instance is the default one.",LO["RC response not ok"]="RC response is not ok",LO["invalid attribute name"]="Attribute name {$attributeName} is invalid.",LO["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",LO["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",LO["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",LO),$O=new fs.b("performance",GO,YO),QO=new ps.b(GO);QO.logLevel=ps.a.INFO;var XO,JO=function(){function t(t){if(this.window=t,!t)throw $O.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(fs.x)()||(QO.info("IndexedDB is not supported by current browswer"),!1):(QO.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,i=t.getEntries();n<i.length;n++)e(i[n])}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===FO&&(FO=new t(MO)),FO},t}();function ZO(t,e){var n=t.length-e.length;if(n<0||n>1)throw $O.create("invalid String merger input");for(var i=[],r=0;r<t.length;r++)i.push(t.charAt(r)),e.length>r&&i.push(e.charAt(r));return i.join("")}var tE,eE=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=ZO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=ZO("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw $O.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw $O.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw $O.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===XO&&(XO=new t),XO},t}();function nE(){return tE}var iE=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),rE=["firebase_","google_","ga_"],oE=new RegExp("^[a-zA-Z]\\w*$");function sE(){var t=JO.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function aE(){switch(JO.getInstance().document.visibilityState){case"visible":return iE.VISIBLE;case"hidden":return iE.HIDDEN;default:return iE.UNKNOWN}}function uE(){var t=JO.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function cE(t){if(!t)return t;var e=eE.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=lE(e.tracesSamplingRate),e.logNetworkAfterSampling=lE(e.networkRequestsSamplingRate),t}function lE(t){return Math.random()<=t}var hE,dE=1;function fE(){return dE=2,hE=hE||function(){var t=JO.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(function(){return(t=eE.getInstance().installationsService.getId()).then(function(t){tE=t}),t;var t}).then(function(t){return function(t){var e=function(){var t=JO.getInstance().localStorage;if(t){var e=t.getItem(WO);if(e&&Number(e)>Date.now()){var n=t.getItem(KO);if(n)try{return JSON.parse(n)}catch(i){return}}}}();return e?(cE(e),Promise.resolve()):function(t){return(e=eE.getInstance().installationsService.getToken(),e.then(function(t){}),e).then(function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+eE.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+eE.getInstance().getApiKey(),i=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:eE.getInstance().getAppId(),app_version:UO,sdk_version:"0.0.1"})});return fetch(i).then(function(t){if(t.ok)return t.json();throw $O.create("RC response not ok")})}).catch(function(){QO.info("Could not fetch config, will use default configs")});var e}(t).then(cE).then(function(t){return function(t){var e=JO.getInstance().localStorage;t&&e&&(e.setItem(KO,JSON.stringify(t)),e.setItem(WO,String(Date.now()+60*eE.getInstance().configTimeToLive*60*1e3)))}(t)},function(){})}(t)}).then(function(){return pE()},function(){return pE()})}function pE(){dE=3}var mE,gE=1e4,vE=3,bE=[],yE=!1;function _E(t){setTimeout(function(){var t,e;if(0!==vE)return bE.length?(e=(t=bE.splice(0,1e3)).map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}),void function(t,e){return function(t){var e=eE.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(t){return t.ok||QO.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),i=gE;isNaN(n)||(i=Math.max(n,i));var r=t.logResponseDetails;Array.isArray(r)&&r.length>0&&"RETRY_REQUEST_LATER"===r[0].responseAction&&(bE=Object(Fr.f)(Object(Fr.f)([],e),bE),QO.info("Retry transport request later.")),vE=3,_E(i)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:eE.getInstance().logSource,log_event:e},t).catch(function(){bE=Object(Fr.f)(Object(Fr.f)([],t),bE),vE--,QO.info("Tries left: "+vE+"."),_E(gE)})):_E(gE)},t)}function wE(t){if(!t.eventTime||!t.message)throw $O.create("invalid cc log");bE=Object(Fr.f)(Object(Fr.f)([],bE),[t])}function CE(t,e){var n;mE||(n=SE,mE=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];wE({message:n.apply(void 0,t),eventTime:Date.now()})}),mE(t,e)}function OE(t){var e=eE.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&JO.getInstance().requiredApisAvailable()&&(t.isAuto&&aE()!==iE.VISIBLE||(3===dE?EE(t):fE().then(function(){return EE(t)},function(){return EE(t)})))}function EE(t){if(nE()){var e=eE.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return CE(t,1)},0)}}function SE(t,e){return 0===e?(i={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},r={application_info:TE(),network_request_metric:i},JSON.stringify(r)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var i={application_info:TE(),trace_metric:e};return JSON.stringify(i)}(t);var n,i,r}function TE(){return{google_app_id:eE.getInstance().getAppId(),app_instance_id:nE(),web_app_info:{sdk_version:UO,page_url:JO.getInstance().getUrl(),service_worker_status:sE(),visibility_state:aE(),effective_connection_type:uE()},application_process_state:0}}var xE=["_fp",qO,zO],IE=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=JO.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw $O.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw $O.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),OE(this)},t.prototype.record=function(t,e,n){if(t<=0)throw $O.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw $O.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(Fr.a)({},n.attributes)),n&&n.metrics)for(var i=0,r=Object.keys(n.metrics);i<r.length;i++){var o=r[i];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}OE(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(o=this.name,0===(r=t).length||r.length>100||!(o&&o.startsWith(HO)&&xE.indexOf(r)>-1)&&r.startsWith("_"))throw $O.create("invalid custom metric name",{customMetricName:t});var n,i,r,o;this.counters[t]=(n=e,(i=Math.floor(n))<n&&QO.info("Metric value should be an Integer, setting the value as : "+i+"."),i)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,i=!(0===(n=t).length||n.length>40||rE.some(function(t){return n.startsWith(t)})||!n.match(oE)),r=function(t){return 0!==t.length&&t.length<=100}(e);if(i&&r)this.customAttributes[t]=e;else{if(!i)throw $O.create("invalid attribute name",{attributeName:t});if(!r)throw $O.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(Fr.a)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,i){var r=JO.getInstance().getUrl();if(r){var o=new t(HO+r,!0),s=Math.floor(1e3*JO.getInstance().getTimeOrigin());if(o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find(function(t){return"first-paint"===t.name});a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find(function(t){return"first-contentful-paint"===t.name});u&&u.startTime&&o.putMetric(qO,Math.floor(1e3*u.startTime)),i&&o.putMetric(zO,Math.floor(1e3*i))}OE(o)}},t.createUserTimingTrace=function(e){OE(new t(e,!1,e))},t}();function kE(t){var e=t;if(e&&void 0!==e.responseStart){var n=JO.getInstance().getTimeOrigin(),i=Math.floor(1e3*(e.startTime+n)),r=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=eE.getInstance();if(e.instrumentationEnabled){var n=t.url,i=e.logEndPointUrl.split("?")[0],r=e.flTransportEndpointUrl.split("?")[0];n!==i&&n!==r&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return CE(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:i,timeToResponseInitiatedUs:r,timeToResponseCompletedUs:o})}}function AE(){nE()&&(setTimeout(function(){return function(){var t=JO.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var i=setTimeout(function(){IE.createOobTrace(e,n),i=void 0},5e3);t.onFirstInputDelay(function(t){i&&(clearTimeout(i),IE.createOobTrace(e,n,t))})}else IE.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=JO.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)kE(n[e]);t.setupObserver("resource",kE)}()},0),setTimeout(function(){return function(){for(var t=JO.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)DE(n[e]);t.setupObserver("measure",DE)}()},0))}function DE(t){var e=t.name;e.substring(0,BO.length)!==BO&&IE.createUserTimingTrace(e)}var RE=function(){function t(t){this.app=t,JO.getInstance().requiredApisAvailable()&&Object(fs.O)().then(function(t){t&&(yE||(_E(5500),yE=!0),fE().then(AE,AE))}).catch(function(t){QO.info("Environment doesn't support IndexedDB: "+t)})}return t.prototype.trace=function(t){return new IE(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return eE.getInstance().instrumentationEnabled},set:function(t){eE.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return eE.getInstance().dataCollectionEnabled},set:function(t){eE.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new D_.a("performance",function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw $O.create("FB not default");if("undefined"==typeof window)throw $O.create("no window");return function(t){MO=t}(window),eE.getInstance().firebaseAppInstance=t,eE.getInstance().installationsService=e,new RE(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance",VO)}(ds.a);var PE,NE="https://www.googletagmanager.com/gtag/js",jE=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),LE=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),FE=new ps.b("@firebase/analytics");function ME(t,e,n,i,r,o){return Object(Fr.b)(this,void 0,void 0,function(){var s,a,u,c;return Object(Fr.d)(this,function(l){switch(l.label){case 0:s=i[r],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),(u=a.find(function(t){return t.measurementId===r}))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),FE.error(c),[3,8];case 8:return t(jE.CONFIG,r,o),[2]}})})}function VE(t,e,n,i,r){return Object(Fr.b)(this,void 0,void 0,function(){var o,s,a,u,c,l,h;return Object(Fr.d)(this,function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],r&&r.send_to?(s=r.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=d.sent(),u=function(t){var n=a.find(function(e){return e.measurementId===t}),i=n&&e[n.appId];if(!i)return o=[],"break";o.push(i)},c=0,l=s;c<l.length&&"break"!==u(l[c]);c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(jE.EVENT,i,r||{}),[3,5];case 4:return h=d.sent(),FE.error(h),[3,5];case 5:return[2]}})})}var UE=((PE={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",PE["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",PE["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",PE["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",PE["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",PE["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",PE["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",PE["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',PE["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',PE),BE=new fs.b("analytics","Analytics",UE),HE=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function qE(t){var e;return Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o,s,a;return Object(Fr.d)(this,function(u){switch(u.label){case 0:return n=t.appId,i={method:"GET",headers:(c=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":c}))},r="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(r,i)];case 1:if(200===(o=u.sent()).status||304===o.status)return[3,6];s="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,o.json()];case 3:return a=u.sent(),(null===(e=a.error)||void 0===e?void 0:e.message)&&(s=a.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw BE.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s});case 6:return[2,o.json()]}var c})})}function zE(t,e,n,i){var r=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===i&&(i=HE),Object(Fr.b)(this,void 0,void 0,function(){var e,s,a,u,c,l,h;return Object(Fr.d)(this,function(d){switch(d.label){case 0:e=t.appId,s=t.measurementId,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,KE(n,r)];case 2:return d.sent(),[3,4];case 3:if(a=d.sent(),s)return FE.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return d.trys.push([4,6,,7]),[4,qE(t)];case 5:return u=d.sent(),i.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof fs.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=d.sent())){if(i.deleteThrottleMetadata(e),s)return FE.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return l=503===Number(c.customData.httpStatus)?Object(fs.j)(o,i.intervalMillis,30):Object(fs.j)(o,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},i.setThrottleMetadata(e,h),FE.debug("Calling attemptFetch again in "+l+" millis"),[2,zE(t,h,n,i)];case 7:return[2]}})})}function KE(t,e){return new Promise(function(n,i){var r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(function(){clearTimeout(o),i(BE.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var WE,GE,YE=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),$E={},QE=[],XE={},JE="dataLayer",ZE="gtag",tS=!1;function eS(t){if(tS)throw BE.create("already-initialized");t.dataLayerName&&(JE=t.dataLayerName),t.gtagName&&(ZE=t.gtagName)}var nS="analytics";function iS(){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(t){switch(t.label){case 0:if(Object(fs.t)())return[2,!1];if(!Object(fs.e)())return[2,!1];if(!Object(fs.x)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(fs.O)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new D_.a(nS,function(t){return function(t,e){!function(){var t=[];if(Object(fs.t)()&&t.push("This is a browser extension environment."),Object(fs.e)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=BE.create("invalid-analytics-context",{errorInfo:e});FE.warn(n.message)}}();var n,i,r=t.options.appId;if(!r)throw BE.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw BE.create("no-api-key");FE.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=$E[r])throw BE.create("already-exists",{id:r});if(!tS){n=JE,i=[],Array.isArray(window[n])?i=window[n]:window[n]=i;var o=function(t,e,n,i,r){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function(t,e,n,i){return function(r,o,s){return Object(Fr.b)(this,void 0,void 0,function(){var a;return Object(Fr.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),r!==jE.EVENT?[3,2]:[4,VE(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return r!==jE.CONFIG?[3,4]:[4,ME(t,e,n,i,o,s)];case 3:return u.sent(),[3,5];case 4:t(jE.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),FE.error(a),[3,7];case 7:return[2]}})})}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}($E,QE,XE,JE,ZE);GE=o.wrappedGtag,WE=o.gtagCore,tS=!0}return $E[r]=function(t,e,n,i,r,o){return Object(Fr.b)(this,void 0,void 0,function(){var s,a,u,c,l,h,d;return Object(Fr.d)(this,function(f){switch(f.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=HE),Object(Fr.b)(this,void 0,void 0,function(){var n,i,r,o,s,a,u=this;return Object(Fr.d)(this,function(c){if(r=(n=t.options).apiKey,o=n.measurementId,!(i=n.appId))throw BE.create("no-app-id");if(!r){if(o)return[2,{measurementId:o,appId:i}];throw BE.create("no-api-key")}return s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new YE,setTimeout(function(){return Object(Fr.b)(u,void 0,void 0,function(){return Object(Fr.d)(this,function(t){return a.abort(),[2]})})},6e4),[2,zE({appId:i,apiKey:r,measurementId:o},s,a,e)]})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&FE.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return FE.error(t)}),e.push(s),a=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t;return Object(Fr.d)(this,function(e){switch(e.label){case 0:return Object(fs.x)()?[3,1]:(FE.warn(BE.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(fs.O)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),FE.warn(BE.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?i.getId():void 0}),[4,Promise.all([s,a])];case 1:return u=f.sent(),c=u[0],l=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var i=n[e];if(i.src&&i.src.includes(NE))return i}return null}()||function(t,e){var n=document.createElement("script");n.src=NE+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),r("js",new Date),(d={}).origin="firebase",d.update=!0,h=d,null!=l&&(h.firebase_id=l),r(jE.CONFIG,c.measurementId,h),[2,c.measurementId]}})})}(t,QE,XE,e,WE,JE),{app:t,logEvent:function(t,e,n){(function(t,e,n,i,r){return Object(Fr.b)(this,void 0,void 0,function(){var o,s;return Object(Fr.d)(this,function(a){switch(a.label){case 0:return r&&r.global?(t(jE.EVENT,n,i),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=Object(Fr.a)(Object(Fr.a)({},i),{send_to:o}),t(jE.EVENT,n,s),a.label=3;case 3:return[2]}})})})(GE,$E[r],t,e,n).catch(function(t){return FE.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,i){return Object(Fr.b)(this,void 0,void 0,function(){var r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return i&&i.global?(t(jE.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:r=o.sent(),t(jE.CONFIG,r,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(GE,$E[r],t,e).catch(function(t){return FE.error(t)})},setUserId:function(t,e){(function(t,e,n,i){return Object(Fr.b)(this,void 0,void 0,function(){var r;return Object(Fr.d)(this,function(o){switch(o.label){case 0:return i&&i.global?(t(jE.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:r=o.sent(),t(jE.CONFIG,r,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(GE,$E[r],t,e).catch(function(t){return FE.error(t)})},setUserProperties:function(t,e){(function(t,e,n,i){return Object(Fr.b)(this,void 0,void 0,function(){var r,o,s,a,u;return Object(Fr.d)(this,function(c){switch(c.label){case 0:if(!i||!i.global)return[3,1];for(r={},o=0,s=Object.keys(n);o<s.length;o++)r["user_properties."+(a=s[o])]=n[a];return t(jE.SET,r),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(jE.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}})})})(GE,$E[r],t,e).catch(function(t){return FE.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return[4,t];case 1:return n=i.sent(),window["ga-disable-"+n]=!e,[2]}})})})($E[r],t).catch(function(t){return FE.error(t)})},INTERNAL:{delete:function(){return delete $E[r],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:eS,EventName:LE,isSupported:iS})),t.INTERNAL.registerComponent(new D_.a("analytics-internal",function(t){try{return{logEvent:t.getProvider(nS).getImmediate().logEvent}}catch(x_){throw BE.create("interop-component-reg-failed",{reason:x_})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.9")}(ds.a);var rS,oS=function(){function t(t,e,n,i){this.client=t,this.storage=e,this.storageCache=n,this.logger=i}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,i=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+i+"."),i},t.prototype.fetch=function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n,i,r,o;return Object(Fr.d)(this,function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(i=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return r=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===r.status&&o.push(this.storage.setLastSuccessfulFetchResponse(r)),[4,Promise.all(o)];case 3:return s.sent(),[2,r]}})})},t}(),sS=((rS={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",rS["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",rS["registration-api-key"]="Undefined API key. Check Firebase app initialization.",rS["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",rS["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",rS["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",rS["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",rS["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",rS["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",rS["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',rS["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',rS["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",rS["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",rS),aS=new fs.b("remoteconfig","Remote Config",sS),uS=function(){function t(t,e,n,i,r,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=i,this.apiKey=r,this.appId=o}return t.prototype.fetch=function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n,i,r,o,s,a,u,c,l,h,d,f,p,m,g;return Object(Fr.d)(this,function(v){switch(v.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=v.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,r={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===b&&(b=navigator),b.languages&&b.languages[0]||b.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(r)},s=fetch(i,o),a=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),v.label=2;case 2:return v.trys.push([2,5,,6]),[4,Promise.race([s,a])];case 3:return v.sent(),[4,s];case 4:return u=v.sent(),[3,6];case 5:throw c=v.sent(),l="fetch-client-network","AbortError"===c.name&&(l="fetch-timeout"),aS.create(l,{originalErrorMessage:c.message});case 6:if(h=u.status,d=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];m=void 0,v.label=7;case 7:return v.trys.push([7,9,,10]),[4,u.json()];case 8:return m=v.sent(),[3,10];case 9:throw g=v.sent(),aS.create("fetch-client-parse",{originalErrorMessage:g.message});case 10:f=m.entries,p=m.state,v.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(f={}),304!==h&&200!==h)throw aS.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:d,config:f}]}var b})})},t}(),cS=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),lS=["1","true","t","yes","y","on"],hS=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&lS.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),dS=function(){function t(t,e,n,i,r){this.app=t,this._client=e,this._storageCache=n,this._storage=i,this._logger=r,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=ps.a.DEBUG;break;case"silent":this._logger.logLevel=ps.a.SILENT;break;default:this._logger.logLevel=ps.a.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t,e,n;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t,e,n,i=this;return Object(Fr.d)(this,function(r){switch(r.label){case 0:t=new cS,setTimeout(function(){return Object(Fr.b)(i,void 0,void 0,function(){return Object(Fr.d)(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return r.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return r.sent(),[3,6];case 4:return e=r.sent(),n=function(t,e){return t instanceof fs.c&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw r.sent(),e;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return Object(Fr.b)(this,void 0,void 0,function(){return Object(Fr.d)(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Object(Fr.a)(Object(Fr.a)({},t),e))).reduce(function(t,e){return t[e]=n.getValue(e),t},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new hS("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new hS("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new hS("static"))},t}();function fS(t,e){var n=t.target.error||void 0;return aS.create(e,{originalErrorMessage:n&&n.message})}var pS="app_namespace_store",mS=function(){function t(t,e,n,i){void 0===i&&(i=new Promise(function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(fS(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(pS,{keyPath:"compositeKey"})}}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n=this;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise(function(i,r){var o=e.transaction([pS],"readonly").objectStore(pS),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){r(fS(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;i(e?e.value:void 0)}}catch(x_){r(aS.create("storage-get",{originalErrorMessage:x_&&x_.message}))}})]}})})},t.prototype.set=function(t,e){return Object(Fr.b)(this,void 0,void 0,function(){var n,i=this;return Object(Fr.d)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return n=r.sent(),[2,new Promise(function(r,o){var s=n.transaction([pS],"readwrite").objectStore(pS),a=i.createCompositeKey(t);try{var u=s.put({compositeKey:a,value:e});u.onerror=function(t){o(fS(t,"storage-set"))},u.onsuccess=function(){r()}}catch(x_){o(aS.create("storage-set",{originalErrorMessage:x_&&x_.message}))}})]}})})},t.prototype.delete=function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e,n=this;return Object(Fr.d)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise(function(i,r){var o=e.transaction([pS],"readwrite").objectStore(pS),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){r(fS(t,"storage-delete"))},a.onsuccess=function(){i()}}catch(x_){r(aS.create("storage-delete",{originalErrorMessage:x_&&x_.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),gS=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(Fr.b)(this,void 0,void 0,function(){var t,e,n,i,r,o;return Object(Fr.d)(this,function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(i=s.sent())&&(this.lastFetchStatus=i),[4,e];case 2:return(r=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=r),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function vS(t,e){return new Promise(function(n,i){var r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(function(){clearTimeout(o),i(aS.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var bS,yS=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(Fr.b)(this,void 0,void 0,function(){var e;return Object(Fr.d)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,i=e.backoffCount;return Object(Fr.b)(this,void 0,void 0,function(){var e,r,o;return Object(Fr.d)(this,function(s){switch(s.label){case 0:return[4,vS(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof fs.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(r=s.sent()))throw r;return o={throttleEndTimeMillis:Date.now()+Object(fs.j)(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}})})},t}(),_S="@firebase/remote-config";(bS=ds.a).INTERNAL.registerComponent(new D_.a("remoteConfig",function(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw aS.create("registration-window");var o=i.options,s=o.projectId,a=o.apiKey,u=o.appId;if(!s)throw aS.create("registration-project-id");if(!a)throw aS.create("registration-api-key");if(!u)throw aS.create("registration-app-id");var c=new mS(u,i.name,n=n||"firebase"),l=new gS(c),h=new ps.b(_S);h.logLevel=ps.a.ERROR;var d=new uS(r,bS.SDK_VERSION,n,s,a,u),f=new yS(d,c),p=new oS(f,c,l,h),m=new dS(i,p,l,c,h);return m.ensureInitialized(),m},"PUBLIC").setMultipleInstances(!0)),bS.registerVersion(_S,"0.1.36"),ds.a.registerVersion("firebase","8.4.1","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),ds.a.registerVersion("firebase","8.4.1");var wS=n("D0XW");function CS(){return t=>t.lift(new OS)}class OS{call(t,e){return e.subscribe(new ES(t))}}class ES extends qt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function SS(t,e){return n=>n.lift(new TS(t,e))}class TS{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new xS(t,this.compare,this.keySelector))}}class xS extends qt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var IS=n("pxpQ"),kS=n("spgP"),AS=n("Jgta"),DS=n("VRyK"),RS=n("qgXg"),PS=n("Ylt2");class NS extends Mt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new jS(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let o;if(this.closed)throw new Vt.a;if(this.isStopped||this.hasError?o=Be.a.EMPTY:(this.observers.push(t),o=new PS.a(this,t)),i&&t.add(t=new IS.a(t,i)),e)for(let s=0;s<r&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<r&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||RS.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let o=0;for(;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i}}class jS{constructor(t,e){this.time=t,this.value=e}}function LS(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,o,s=0,a=!1,u=!1;return function(c){let l;s++,!r||a?(a=!1,r=new NS(t,e,i),l=r.subscribe(this),o=c.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){u=!0,o=void 0,r.complete()}}),u&&(o=void 0)):l=r.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,r=void 0)})}}(i))}function FS(t,e){return e?ue(()=>t,e):ue(()=>t)}var MS=n("tf+s");const VS=new i.r("angularfire2.auth.use-emulator"),US=new i.r("angularfire2.auth.settings"),BS=new i.r("angularfire2.auth.tenant-id"),HS=new i.r("angularfire2.auth.langugage-code"),qS=new i.r("angularfire2.auth.use-device-language"),zS=new i.r("angularfire.auth.persistence");let KS=(()=>{class t{constructor(t,e,i,r,o,s,a,u,c,l){const h=new kS.d(r),d=Object(kS.h)(h),f=new Mt.a,p=Object(Ft.a)(void 0).pipe(Object(IS.b)(h.outsideAngular),ue(()=>r.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(se.a)(()=>Object(kS.g)(t,r,e)),Object(se.a)(t=>r.runOutsideAngular(()=>{const e=o,n=s;return Object(kS.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const i=r.runOutsideAngular(()=>t.auth());return e&&i.useEmulator(`http://${e.join(":")}`),a&&(i.tenantId=a),i.languageCode=u,c&&i.useDeviceLanguage(),n&&(i.settings=n),l&&i.setPersistence(l),i},[e,a,u,c,n,l])})),LS({bufferSize:1,refCount:!1}));if(et(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ft.a)(null);else{p.pipe(Me()).subscribe();const t=p.pipe(ue(t=>t.getRedirectResult().then(t=>t,()=>null)),d,LS({bufferSize:1,refCount:!1})),e=t=>new Gt.a(e=>({unsubscribe:r.runOutsideAngular(()=>t(e))})),n=p.pipe(ue(t=>e(t.onAuthStateChanged.bind(t)))),i=p.pipe(ue(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(FS(n),Object(MS.a)(h.outsideAngular),Object(IS.b)(h.insideAngular)),this.user=t.pipe(FS(i),Object(MS.a)(h.outsideAngular),Object(IS.b)(h.insideAngular)),this.idToken=this.user.pipe(ue(t=>t?Object(Lt.a)(t.getIdToken()):Object(Ft.a)(null))),this.idTokenResult=this.user.pipe(ue(t=>t?Object(Lt.a)(t.getIdTokenResult()):Object(Ft.a)(null))),this.credential=Object(DS.a)(t,f,this.authState.pipe(ye(t=>!t))).pipe(Object(se.a)(t=>(null==t?void 0:t.user)?t:null),Object(MS.a)(h.outsideAngular),Object(IS.b)(h.insideAngular))}return Object(kS.i)(this,p,r,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(kS.c),i.Yb(kS.b,8),i.Yb(i.C),i.Yb(i.A),i.Yb(VS,8),i.Yb(US,8),i.Yb(BS,8),i.Yb(HS,8),i.Yb(qS,8),i.Yb(zS,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(kS.c),Object(i.Yb)(kS.b,8),Object(i.Yb)(i.C),Object(i.Yb)(i.A),Object(i.Yb)(VS,8),Object(i.Yb)(US,8),Object(i.Yb)(BS,8),Object(i.Yb)(HS,8),Object(i.Yb)(qS,8),Object(i.Yb)(zS,8))},token:t,providedIn:"any"}),t})();Object(kS.e)(KS,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let WS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[KS]}),t})();function GS(t,e){return function(t,e=wS.b){return new Gt.a(n=>{let i;return null!=e?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=i&&i()}})}(t,e)}function YS(t,e){return GS(t,e).pipe(Object(se.a)(t=>({payload:t,type:"query"})))}function $S(t,e){return YS(t,e).pipe(me(void 0),CS(),Object(se.a)(([t,e])=>{const n=e.payload.docChanges(),i=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,r)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||i.push({type:"modified",payload:{oldIndex:r,newIndex:r,type:"modified",doc:e}})}),i}))}function QS(t,e,n){return $S(t,n).pipe(ge((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return XS(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return XS(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return XS(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),SS(),Object(se.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function XS(t,e,n,...i){const r=t.slice();return r.splice(e,n,...i),r}function JS(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class ZS{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=$S(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(se.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(me(void 0),CS(),ye(([t,e])=>e.length>0||!t),Object(se.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ge((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=JS(t);return QS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return YS(this.query,this.afs.schedulers.outsideAngular).pipe(Object(se.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Lt.a)(this.query.get(t)).pipe(Object(IS.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new tT(this.ref.doc(t),this.afs)}}class tT{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:i,query:r}=sT(n,e);return new ZS(i,r,this.afs)}snapshotChanges(){return GS(this.ref,this.afs.schedulers.outsideAngular).pipe(me(void 0),CS(),Object(se.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(se.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Lt.a)(this.ref.get(t)).pipe(Object(IS.b)(this.afs.schedulers.insideAngular))}}class eT{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?$S(this.query,this.afs.schedulers.outsideAngular).pipe(Object(se.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ye(t=>t.length>0),this.afs.keepUnstableUntilFirst):$S(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ge((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=JS(t);return QS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return YS(this.query,this.afs.schedulers.outsideAngular).pipe(Object(se.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Lt.a)(this.query.get(t)).pipe(Object(IS.b)(this.afs.schedulers.insideAngular))}}const nT=new i.r("angularfire2.enableFirestorePersistence"),iT=new i.r("angularfire2.firestore.persistenceSettings"),rT=new i.r("angularfire2.firestore.settings"),oT=new i.r("angularfire2.firestore.use-emulator");function sT(t,e=(t=>t)){return{query:e(t),ref:t}}let aT,uT=(()=>{class t{constructor(t,e,n,i,r,o,s,a,u){this.schedulers=new kS.d(o),this.keepUnstableUntilFirst=Object(kS.h)(this.schedulers);const c=Object(kS.g)(t,o,e);!AS.a.auth&&u&&Object(kS.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(kS.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(i&&t.settings(i),l&&t.useEmulator(...l),n&&!et(r)){const e=()=>{try{return Object(Lt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(x_){return"undefined"!=typeof console&&console.warn(x_),Object(Ft.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Ft.a)(!1)]},[i,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:i,query:r}=sT(n,e),o=this.schedulers.ngZone.run(()=>i);return new ZS(o,r,this)}collectionGroup(t,e){const n=e||(t=>t),i=this.firestore.collectionGroup(t);return new eT(n(i),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new tT(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(kS.c),i.Yb(kS.b,8),i.Yb(nT,8),i.Yb(rT,8),i.Yb(i.C),i.Yb(i.A),i.Yb(iT,8),i.Yb(oT,8),i.Yb(VS,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(kS.c),Object(i.Yb)(kS.b,8),Object(i.Yb)(nT,8),Object(i.Yb)(rT,8),Object(i.Yb)(i.C),Object(i.Yb)(i.A),Object(i.Yb)(iT,8),Object(i.Yb)(oT,8),Object(i.Yb)(VS,8))},token:t,providedIn:"any"}),t})(),cT=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:nT,useValue:!0},{provide:iT,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[uT]}),t})(),lT=(()=>{class t{constructor(){this.productos=localStorage.getItem("arrayCesta")?JSON.parse(localStorage.getItem("arrayCesta")):[],this.importeObservable=new Ut(localStorage.getItem("importePagar")?parseInt(localStorage.getItem("importePagar")):0),this.importeFinal$=this.importeObservable.asObservable()}cambiarTotalAPagar(t){this.importeObservable.next(t)}precioFinal(t){return t.precioOferta||t.precio}getProductos(){return this.productos}setProductos(t){this.productos=[...t]}calcularImporteFinal(){let t=0;return this.productos.forEach(e=>{t+=this.precioFinal(e)*e.cantidad}),t}addProductoToArray(t){const e=this.productos.findIndex(e=>`${e.color}-${e.id}`==`${t.color}-${t.id}`);console.log("indice con metodo find",e),e>=0?this.productos[e].cantidad+=t.cantidad:this.productos.push(t),this.cambiarTotalAPagar(this.calcularImporteFinal())}deleteProductOfArray(t){this.productos.splice(this.productos.indexOf(t),1),this.cambiarTotalAPagar(this.calcularImporteFinal())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hT(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function dT(t,e=wS.a){return n=>n.lift(new fT(t,e))}class fT{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new pT(t,this.dueTime,this.scheduler))}}class pT extends qt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(mT,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function mT(t){t.debouncedNext()}function gT(t){return null!=t&&"false"!=`${t}`}function vT(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function bT(t){return Array.isArray(t)?t:[t]}function yT(t){return null==t?"":"string"==typeof t?t:`${t}px`}function _T(t){return t instanceof i.l?t.nativeElement:t}try{aT="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(_M){aT=!1}let wT,CT=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!aT)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.C))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(i.C))},token:t,providedIn:"root"}),t})(),OT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({}),t})();const ET=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ST(){if(wT)return wT;if("object"!=typeof document||!document)return wT=new Set(ET),wT;let t=document.createElement("input");return wT=new Set(ET.filter(e=>(t.setAttribute("type",e),t.type===e))),wT}let TT,xT,IT;function kT(t){return function(){if(null==TT&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>TT=!0}))}finally{TT=TT||!1}return TT}()?t:!!t.capture}function AT(){if(null==xT){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return xT=!1,xT;if("scrollBehavior"in document.documentElement.style)xT=!0;else{const t=Element.prototype.scrollTo;xT=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return xT}let DT=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),RT=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=_T(t);return new Gt.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Mt.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(DT))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(DT))},token:t,providedIn:"root"}),t})(),PT=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new i.n,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=gT(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=vT(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(dT(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(RT),i.Ob(i.l),i.Ob(i.A))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),NT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[DT]}),t})();class jT{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Mt.a,this._typeaheadSubscription=Be.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Mt.a,this.change=new Mt.a,t instanceof i.E&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Ve.a)(t=>this._pressedLetters.push(t)),dT(t),ye(()=>this._pressedLetters.length>0),Object(se.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||hT(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof i.E?this._items.toArray():this._items}}class LT extends jT{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class FT extends jT{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let MT=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(_M){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===UT(e))return!1;if(!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=UT(t);return t.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||VT(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(CT))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(CT))},token:t,providedIn:"root"}),t})();function VT(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function UT(t){if(!VT(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class BT{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(de(1)).subscribe(t)}}let HT=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new BT(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(MT),i.Yb(i.A),i.Yb(s))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(MT),Object(i.Yb)(i.A),Object(i.Yb)(s))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const qT=new i.r("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),zT=new i.r("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let KT=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let i=0;i<e.length;i++)e[i].parentNode.removeChild(e[i]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(qT,8),i.Yb(i.A),i.Yb(s),i.Yb(zT,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(qT,8),Object(i.Yb)(i.A),Object(i.Yb)(s),Object(i.Yb)(zT,8))},token:t,providedIn:"root"}),t})();function WT(t){return 0===t.buttons}function GT(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const YT=new i.r("cdk-focus-monitor-default-options"),$T=kT({passive:!0,capture:!0});let QT=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=WT(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{GT(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=XT(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=XT(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=_T(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Ft.a)(null);const i=function(t){if(function(){if(null==IT){const t="undefined"!=typeof document?document.head:null;IT=!(!t||!t.createShadowRoot&&!t.attachShadow)}return IT}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;const o={checkChildren:e,subject:new Mt.a,rootNode:i};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=_T(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=_T(t);i===this._getDocument().activeElement?this._getClosestElementsInfo(i).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=XT(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===XT(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,$T),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,$T)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,$T),t.addEventListener("mousedown",this._documentMousedownListener,$T),t.addEventListener("touchstart",this._documentTouchstartListener,$T),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,$T),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,$T),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,$T),t.removeEventListener("mousedown",this._documentMousedownListener,$T),t.removeEventListener("touchstart",this._documentTouchstartListener,$T),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,i)=>{(i===t||n.checkChildren&&i.contains(t))&&e.push([i,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.A),i.Yb(CT),i.Yb(s,8),i.Yb(YT,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(i.A),Object(i.Yb)(CT),Object(i.Yb)(s,8),Object(i.Yb)(YT,8))},token:t,providedIn:"root"}),t})();function XT(t){return t.composedPath?t.composedPath()[0]:t.target}const JT="cdk-high-contrast-black-on-white",ZT="cdk-high-contrast-white-on-black",tx="cdk-high-contrast-active";let ex=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(tx),t.remove(JT),t.remove(ZT);const e=this.getHighContrastMode();1===e?(t.add(tx),t.add(JT)):2===e&&(t.add(tx),t.add(ZT))}}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(CT),i.Yb(s))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(CT),Object(i.Yb)(s))},token:t,providedIn:"root"}),t})();const nx=new i.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.W)(s)}});let ix=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new i.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(nx,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(nx,8))},token:t,providedIn:"root"}),t})(),rx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({}),t})();const ox=new i.Q("11.2.9");class sx{}const ax="*";function ux(t,e){return{type:7,name:t,definitions:e,options:{}}}function cx(t,e=null){return{type:4,styles:e,timings:t}}function lx(t,e=null){return{type:2,steps:t,options:e}}function hx(t){return{type:6,styles:t,offset:null}}function dx(t,e,n){return{type:0,name:t,styles:e,options:n}}function fx(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function px(t=null){return{type:9,options:t}}function mx(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function gx(t){Promise.resolve(null).then(t)}class vx{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gx(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class bx{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?gx(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function yx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function _x(t){switch(t.length){case 0:return new vx;case 1:return t[0];default:return new bx(t)}}function wx(t,e,n,i,r={},o={}){const s=[],a=[];let u=-1,c=null;if(i.forEach(t=>{const n=t.offset,i=n==u,l=i&&c||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,s),a){case"!":a=r[n];break;case ax:a=o[n];break;default:a=e.normalizeStyleValue(n,i,a,s)}l[i]=a}),i||a.push(l),c=l,u=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Cx(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Ox(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Ox(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Ox(n,"destroy",t)))}}function Ox(t,e,n){const i=n.totalTime,r=Ex(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function Ex(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Sx(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function Tx(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let xx=(t,e)=>!1,Ix=(t,e)=>!1,kx=(t,e,n)=>[];const Ax=yx();(Ax||"undefined"!=typeof Element)&&(xx=(t,e)=>t.contains(e),Ix=(()=>{if(Ax||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Ix}})(),kx=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let Dx=null,Rx=!1;function Px(t){Dx||(Dx=("undefined"!=typeof document?document.body:null)||{},Rx=!!Dx.style&&"WebkitAppearance"in Dx.style);let e=!0;return Dx.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Dx.style,!e&&Rx)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Dx.style),e}const Nx=Ix,jx=xx,Lx=kx;function Fx(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let Mx=(()=>{class t{validateStyleProperty(t){return Px(t)}matchesElement(t,e){return Nx(t,e)}containsElement(t,e){return jx(t,e)}query(t,e,n){return Lx(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,o=[],s){return new vx(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),Vx=(()=>{class t{}return t.NOOP=new Mx,t})();const Ux="ng-enter",Bx="ng-leave",Hx="ng-trigger",qx=".ng-trigger",zx="ng-animating",Kx=".ng-animating";function Wx(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Gx(parseFloat(e[1]),e[2])}function Gx(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Yx(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=Gx(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(r=Gx(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else i=t;if(!n){let n=!1,o=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:o}}(t,e,n)}function $x(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Qx(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else $x(t,n);return n}function Xx(t,e,n){return n?e+":"+n+";":""}function Jx(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=Xx(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Xx(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Zx(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=aI(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),yx()&&Jx(t))}function tI(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=aI(e);t.style[n]=""}),yx()&&Jx(t))}function eI(t){return Array.isArray(t)?1==t.length?t[0]:lx(t):t}const nI=new RegExp("{{\\s*(.+?)\\s*}}","g");function iI(t){let e=[];if("string"==typeof t){let n;for(;n=nI.exec(t);)e.push(n[1]);nI.lastIndex=0}return e}function rI(t,e,n){const i=t.toString(),r=i.replace(nI,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function oI(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const sI=/-+([a-z0-9])/g;function aI(t){return t.replace(sI,(...t)=>t[1].toUpperCase())}function uI(t,e){return 0===t||0===e}function cI(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let o=e[0],s=[];if(i.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var r=1;r<e.length;r++){let n=e[r];s.forEach(function(e){n[e]=hI(t,e)})}}return e}function lI(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function hI(t,e){return window.getComputedStyle(t)[e]}const dI="*";function fI(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],o=i[2],s=i[3];e.push(gI(r,s)),"<"!=o[0]||r==dI&&s==dI||e.push(gI(s,r))}(t,n,e)):n.push(t),n}const pI=new Set(["true","1"]),mI=new Set(["false","0"]);function gI(t,e){const n=pI.has(t)||mI.has(t),i=pI.has(e)||mI.has(e);return(r,o)=>{let s=t==dI||t==r,a=e==dI||e==o;return!s&&n&&"boolean"==typeof r&&(s=r?pI.has(t):mI.has(t)),!a&&i&&"boolean"==typeof o&&(a=o?pI.has(e):mI.has(e)),s&&a}}const vI=new RegExp("s*:selfs*,?","g");function bI(t,e,n){return new yI(t).build(e,n)}class yI{constructor(t){this._driver=t}build(t,e){const n=new _I(e);return this._resetContextStyleTimingState(n),lI(this,eI(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,o.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,o=i||{};if(n.styles.forEach(t=>{if(wI(t)){const e=t;Object.keys(e).forEach(t=>{iI(e[t]).forEach(t=>{o.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=oI(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=lI(this,eI(t.animation),e);return{type:1,matchers:fI(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:CI(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>lI(this,t,e)),options:CI(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=lI(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:CI(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return OI(Yx(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=OI(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||Yx(i,e),OI(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:hx({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,o=!1;if(!r){o=!0;const t={};n.easing&&(t.easing=n.easing),r=hx(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(r,e);s.isEmptyStep=o,i=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==ax?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(wI(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(r!=i&&r>=s.startTime&&i<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=s.startTime),a&&(o[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=iI(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(wI(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(wI(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(i++,c=n.offset=u),s=s||c<0||c>1,o=o||c<a,a=c,r.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,i)=>{const o=l>0?i==h?1:l*i:r[i],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:lI(this,eI(t.animation),e),options:CI(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:CI(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:CI(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(vI,"")),[t=t.replace(/@\*/g,qx).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Kx),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,Sx(e.collectedStyles,e.currentQuerySelector,{});const s=lI(this,eI(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:CI(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Yx(t.timings,e.errors,!0);return{type:12,animation:lI(this,eI(t.animation),e),timings:n,options:null}}}class _I{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function wI(t){return!Array.isArray(t)&&"object"==typeof t}function CI(t){var e;return t?(t=$x(t)).params&&(t.params=(e=t.params)?$x(e):null):t={},t}function OI(t,e,n){return{duration:t,delay:e,easing:n}}function EI(t,e,n,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class SI{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const TI=new RegExp(":enter","g"),xI=new RegExp(":leave","g");function II(t,e,n,i,r,o={},s={},a,u,c=[]){return(new kI).buildKeyframes(t,e,n,i,r,o,s,a,u,c)}class kI{buildKeyframes(t,e,n,i,r,o,s,a,u,c=[]){u=u||new SI;const l=new DI(t,e,u,i,r,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),lI(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[EI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?Wx(n.duration):null,o=null!=n.delay?Wx(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),lI(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=AI);const t=Wx(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>lI(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Wx(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);r&&s.delayNextStep(r),lI(this,o,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Yx(e.params?rI(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?Wx(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=AI);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,i)=>{e.currentQueryIndex=i;const s=e.createSubContext(t.options,n);r&&s.delayNextStep(r),n===e.element&&(a=s.currentTimeline),lI(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;lI(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const AI={};class DI{constructor(t,e,n,i,r,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=AI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new RI(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=Wx(n.duration)),null!=n.delay&&(i.delay=Wx(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=rI(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new DI(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=AI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new PI(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,o){let s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(TI,"."+this._enterClassName)).replace(xI,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return r||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class RI{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new RI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ax,this._currentKeyframe[t]=ax}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},o=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=ax})):Qx(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=rI(o[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:ax),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,o)=>{const s=Qx(r,!0);Object.keys(s).forEach(n=>{const i=s[n];"!"==i?t.add(n):i==ax&&e.add(n)}),n||(s.offset=o/this.duration),i.push(s)});const r=t.size?oI(t.values()):[],o=e.size?oI(e.values()):[];if(n){const t=i[0],e=$x(t);t.offset=0,e.offset=1,i=[t,e]}return EI(this.element,i,r,o,this.duration,this.startTime,this.easing,!1)}}class PI extends RI{constructor(t,e,n,i,r,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=n+e,s=e/o,a=Qx(t[0],!1);a.offset=0,r.push(a);const u=Qx(t[0],!1);u.offset=NI(s),r.push(u);const c=t.length-1;for(let i=1;i<=c;i++){let s=Qx(t[i],!1);s.offset=NI((e+s.offset*n)/o),r.push(s)}n=o,e=0,i="",t=r}return EI(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function NI(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class jI{}class LI extends jI{normalizePropertyName(t,e){return aI(t)}normalizeStyleValue(t,e,n,i){let r="";const o=n.toString().trim();if(FI[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+r}}const FI=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function MI(t,e,n,i,r,o,s,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const VI={};class UI{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}build(t,e,n,i,r,o,s,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||VI,d=this.buildStyles(n,s&&s.params||VI,l),f=a&&a.params||VI,p=this.buildStyles(i,f,l),m=new Set,g=new Map,v=new Map,b="void"===i,y={params:Object.assign(Object.assign({},h),f)},_=c?[]:II(t,e,this.ast.animation,r,o,d,p,y,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return MI(e,this._triggerName,n,i,b,d,p,[],[],g,v,w,l);_.forEach(t=>{const n=t.element,i=Sx(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=Sx(v,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const C=oI(m.values());return MI(e,this._triggerName,n,i,b,d,p,_,C,g,v,w)}}class BI{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=$x(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let o=r[t];o.length>1&&(o=rI(o,i,e)),n[t]=o})}}),n}}class HI{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new BI(t.style,t.options&&t.options.params||{})}),qI(this.states,"true","1"),qI(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new UI(t,e,this.states))}),this.fallbackTransition=new UI(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function qI(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const zI=new SI;class KI{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=bI(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=wx(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let o;const s=new Map;if(r?(o=II(this._driver,e,r,Ux,Bx,{},{},n,zI,i),o.forEach(t=>{const e=Sx(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,ax)})});const a=_x(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=Ex(e,"","","");return Cx(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const WI="ng-animate-queued",GI="ng-animate-disabled",YI=".ng-animate-disabled",$I=[],QI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},XI={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class JI{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=$x(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const ZI="void",tk=new JI(ZI);class ek{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,uk(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const o=Sx(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);const a=Sx(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(uk(t,Hx),uk(t,"ng-trigger-"+e),a[e]=tk),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),o=new ik(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(uk(t,Hx),uk(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new JI(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=tk),u.value!==ZI&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,u.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{tI(t,n),Zx(t,i)})}return}const c=Sx(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=r.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!i)return;l=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:o,isFallbackTransition:h}),h||(uk(t,WI),o.onStart(()=>{ck(t,WI)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,qx,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const o=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,ZI,i);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&_x(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const i=new Set;e.forEach(e=>{const r=e.name;if(i.has(r))return;i.add(r);const o=this._triggers[r].fallbackTransition,s=n[r]||tk,a=new JI(ZI),u=new ik(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==QI||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){uk(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,o=this._elementListeners.get(r);o&&o.forEach(e=>{if(e.name==n.triggerName){const i=Ex(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,Cx(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class nk{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new ek(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(rk(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!rk(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),uk(t,GI)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ck(t,GI))}removeNode(t,e,n,i){if(rk(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return rk(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,qx,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Kx,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return _x(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=QI,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,YI)&&this.markElementAsDisabled(t,!1),this.driver.query(t,YI,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)uk(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?_x(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new SI,i=[],r=new Map,o=[],s=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=ak(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=Ux+p++;f.set(e,n),t.forEach(t=>uk(t,n))});const m=[],g=new Set,v=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):v.add(t))}const b=new Map,y=ak(h,Array.from(g));y.forEach((t,e)=>{const n=Bx+p++;b.set(e,n),t.forEach(t=>uk(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>ck(t,n))}),y.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>ck(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(_.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,r),h=b.get(r),d=f.get(r),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>tI(r,p.fromStyles)),e.onDestroy(()=>Zx(r,p.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>tI(r,p.fromStyles)),e.onDestroy(()=>Zx(r,p.toStyles)),void i.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,p.timelines),o.push({instruction:p,player:e,element:r}),p.queriedElements.forEach(t=>Sx(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=u.get(e);i||u.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,O=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(O.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Sx(C,e,[]).push(t),t.destroy()})});const E=m.filter(t=>dk(t,a,u)),S=new Map;sk(S,this.driver,v,u,ax).forEach(t=>{dk(t,a,u)&&E.push(t)});const T=new Map;d.forEach((t,e)=>{sk(T,this.driver,new Set(t),a,"!")}),E.forEach(t=>{const e=S.get(t),n=T.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const x=[],I=[],k={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(c.has(e))return o.onDestroy(()=>Zx(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);let t=k;if(O.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=O.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>O.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,C,r,T,S);if(o.setRealPlayer(n),t===k)x.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=_x(e)),i.push(o)}}else tI(e,s.fromStyles),o.onDestroy(()=>Zx(e,s.toStyles)),I.push(o),c.has(e)&&i.push(o)}),I.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=_x(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(ck(t,Bx),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,Kx,!0);for(let t=0;t<i.length;t++){let e=s.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?lk(this,t,i):this.processLeaveNode(t)}return m.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||r==ZI;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&o.push(e)})}}return(n||i)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==i,u=Sx(n,t,[]);this._getPreviousPlayers(t,a,r,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}tI(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,o){const s=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new vx(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return hk(t,e),e}((n.get(h)||$I).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=r.get(h),g=o.get(h),v=wx(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,v,p);if(e.subTimeline&&i&&l.add(h),f){const e=new ik(t,s,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{Sx(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>uk(t,zx));const d=_x(h);return d.onDestroy(()=>{c.forEach(t=>ck(t,zx)),Zx(a,e.toStyles)}),l.forEach(t=>{Sx(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new vx(t.duration,t.delay)}}class ik{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new vx,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Cx(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Sx(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function rk(t){return t&&1===t.nodeType}function ok(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function sk(t,e,n,i,r){const o=[];n.forEach(t=>o.push(ok(t)));const s=[];i.forEach((n,i)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=XI,s.push(i))}),t.set(i,o)});let a=0;return n.forEach(t=>ok(t,o[a++])),s}function ak(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;function o(t){if(!t)return 1;let e=r.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:i.has(s)?1:o(s),r.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function uk(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function ck(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function lk(t,e,n){_x(n).onDone(()=>t.processLeaveNode(e))}function hk(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof bx?hk(i.players,e):e.push(i)}}function dk(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class fk{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new nk(t,e,n),this._timelineEngine=new KI(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const o=t+"-"+i;let s=this._triggerCache[o];if(!s){const t=[],e=bI(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new HI(t,e)}(i,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,i,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=Tx(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=Tx(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function pk(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=gk(e[0]),e.length>1&&(i=gk(e[e.length-1]))):e&&(n=gk(e)),n||i?new mk(t,n,i):null}let mk=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Zx(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zx(this._element,this._initialStyles),this._endStyles&&(Zx(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(tI(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tI(this._element,this._endStyles),this._endStyles=null),Zx(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function gk(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];vk(r)&&(e=e||{},e[r]=t[r])}return e}function vk(t){return"display"===t||"position"===t}const bk="animation",yk="animationend";class _k{constructor(t,e,n,i,r,o,s){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Tk(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),Sk(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ek(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){wk(this._element,this._name,"paused")}resume(){wk(this._element,this._name,"running")}setPosition(t){const e=Ck(this._element,this._name);this._position=t*this._duration,Sk(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ek(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Tk(t,"").split(","),i=Ok(n,e);i>=0&&(n.splice(i,1),Sk(t,"",n.join(",")))}(this._element,this._name))}}function wk(t,e,n){Sk(t,"PlayState",n,Ck(t,e))}function Ck(t,e){const n=Tk(t,"");return n.indexOf(",")>0?Ok(n.split(","),e):Ok([n],e)}function Ok(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ek(t,e,n){n?t.removeEventListener(yk,e):t.addEventListener(yk,e)}function Sk(t,e,n,i){const r=bk+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function Tk(t,e){return t.style[bk+e]||""}class xk{constructor(t,e,n,i,r,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new _k(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:hI(this.element,n))})}this.currentSnapshot=t}}class Ik extends vx{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Fx(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class kk{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Px(t)}matchesElement(t,e){return Nx(t,e)}containsElement(t,e){return jx(t,e)}query(t,e,n){return Lx(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Fx(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(t,e,n,i,r,o=[],s){const a=o.filter(t=>t instanceof xk),u={};uI(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=cI(t,e,u));if(0==n)return new Ik(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=pk(t,e),f=new xk(t,e,l,n,i,r,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class Ak{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:hI(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Dk{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Rk().toString()),this._cssKeyframesDriver=new kk}validateStyleProperty(t){return Px(t)}matchesElement(t,e){return Nx(t,e)}containsElement(t,e){return jx(t,e)}query(t,e,n){return Lx(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const u={},c=o.filter(t=>t instanceof Ak);uI(n,i)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=pk(t,e=cI(t,e=e.map(t=>Qx(t,!1)),u));return new Ak(t,e,a,l)}}function Rk(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Pk=(()=>{class t extends sx{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?lx(t):t;return Lk(this._renderer,null,e,"register",[n]),new Nk(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.G),i.Yb(s))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();class Nk extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new jk(this._id,t,e||{},this._renderer)}}class jk{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Lk(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Lk(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const Fk="@",Mk="@.disabled";let Vk=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Uk("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(o),new Bk(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.G),i.Yb(fk),i.Yb(i.A))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();class Uk{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Fk&&e==Mk?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Bk extends Uk{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Fk?"."==e.charAt(1)&&e==Mk?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Fk){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),o="";return r.charAt(0)!=Fk&&([r,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Hk=(()=>{class t extends fk{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(s),i.Yb(Vx),i.Yb(jI))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const qk=new i.r("AnimationModuleType"),zk=[{provide:Vx,useFactory:function(){return"function"==typeof Rk()?new Dk:new kk}},{provide:qk,useValue:"BrowserAnimations"},{provide:sx,useClass:Pk},{provide:jI,useFactory:function(){return new LI}},{provide:fk,useClass:Hk},{provide:i.G,useFactory:function(t,e,n){return new Vk(t,e,n)},deps:[_t,fk,i.A]}];let Kk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:zk,imports:[jt]}),t})();function Wk(t,e){if(1&t&&i.Pb(0,"mat-pseudo-checkbox",4),2&t){const t=i.dc();i.kc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function Gk(t,e){if(1&t&&(i.Ub(0,"span",5),i.zc(1),i.Tb()),2&t){const t=i.dc();i.Cb(1),i.Bc("(",t.group.label,")")}}const Yk=["*"],$k=new i.Q("11.2.9"),Qk=new i.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Xk,Jk=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(i.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&$k.full!==ox.full&&console.warn("The Angular Material version ("+$k.full+") does not match the Angular CDK version ("+ox.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(ex),i.Yb(Qk,8),i.Yb(s))},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[rx],rx]}),t})();function Zk(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=gT(t)}}}function tA(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function eA(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=gT(t)}}}function nA(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?vT(t):this.defaultTabIndex}}}function iA(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new Mt.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{Xk="undefined"!=typeof Intl}catch(_M){Xk=!1}let rA=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),oA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function sA(t,e,n){const i=t.nativeElement.classList;n?i.add(e):i.remove(e)}let aA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[Jk],Jk]}),t})();class uA{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const cA={enterDuration:450,exitDuration:400},lA=kT({passive:!0}),hA=["mousedown","touchstart"],dA=["mouseup","mouseleave","touchend","touchcancel"];class fA{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=_T(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},cA),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const o=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),s=t-i.left,a=e-i.top,u=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=s-o+"px",c.style.top=a-o+"px",c.style.height=2*o+"px",c.style.width=2*o+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const l=new uA(this,c,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},u),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},cA),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=_T(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(hA))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(dA),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=WT(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!GT(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,lA)})})}_removeTriggerEvents(){this._triggerElement&&(hA.forEach(t=>{this._triggerElement.removeEventListener(t,this,lA)}),this._pointerUpEventsRegistered&&dA.forEach(t=>{this._triggerElement.removeEventListener(t,this,lA)}))}}const pA=new i.r("mat-ripple-global-options");let mA=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new fA(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.A),i.Ob(CT),i.Ob(pA,8),i.Ob(qk,8))},t.\u0275dir=i.Jb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&i.Gb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),gA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[Jk,OT],Jk]}),t})(),vA=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(qk,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&i.Gb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),bA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[Jk]]}),t})();const yA=new i.r("MAT_OPTION_PARENT_COMPONENT");class _A{}const wA=Zk(_A);let CA=0,OA=(()=>{class t extends wA{constructor(t){var e;super(),this._labelId="mat-optgroup-label-"+CA++,this._inert=null!==(e=null==t?void 0:t.inertGroups)&&void 0!==e&&e}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(yA,8))},t.\u0275dir=i.Jb({type:t,inputs:{label:"label"},features:[i.zb]}),t})();const EA=new i.r("MatOptgroup");let SA=0;class TA{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let xA=(()=>{class t{constructor(t,e,n,r){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+SA++,this.onSelectionChange=new i.n,this._stateChanges=new Mt.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=gT(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||hT(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new TA(this,t))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.h),i.Ob(void 0),i.Ob(OA))},t.\u0275dir=i.Jb({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),IA=(()=>{class t extends xA{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.h),i.Ob(yA,8),i.Ob(EA,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&i.bc("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(i.Xb("id",e.id),i.Db("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),i.Gb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[i.zb],ngContentSelectors:Yk,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,e){1&t&&(i.jc(),i.yc(0,Wk,1,2,"mat-pseudo-checkbox",0),i.Ub(1,"span",1),i.ic(2),i.Tb(),i.yc(3,Gk,2,1,"span",2),i.Pb(4,"div",3)),2&t&&(i.kc("ngIf",e.multiple),i.Cb(3),i.kc("ngIf",e.group&&e.group._inert),i.Cb(1),i.kc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[B,mA,vA],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function kA(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),o=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[o]&&o++;return o}return 0}let AA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[gA,tt,Jk,bA]]}),t})();const DA=["mat-button",""],RA=["*"],PA=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class NA{constructor(t){this._elementRef=t}}const jA=tA(Zk(eA(NA)));let LA=(()=>{class t extends jA{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of PA)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(QT),i.Ob(qk,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&i.Dc(mA,1),2&t){let t;i.oc(t=i.cc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(i.Db("disabled",e.disabled||null),i.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[i.zb],attrs:DA,ngContentSelectors:RA,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(i.jc(),i.Ub(0,"span",0),i.ic(1),i.Tb(),i.Pb(2,"span",1),i.Pb(3,"span",2)),2&t&&(i.Cb(2),i.Gb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),i.kc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[mA],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),FA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[gA,Jk],Jk]}),t})();class MA{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class VA extends MA{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class UA extends MA{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class BA extends MA{constructor(t){super(),this.element=t instanceof i.l?t.nativeElement:t}}class HA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof VA?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof UA?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof BA?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class qA extends HA{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let zA=(()=>{class t extends HA{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new i.n,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.j),i.Ob(i.R),i.Ob(s))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[i.zb]}),t})(),KA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({}),t})();function WA(t){return e=>e.lift(new GA(t))}class GA{constructor(t){this.notifier=t}call(t,e){const n=new YA(t),i=Object(ae.c)(this.notifier,new ae.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class YA extends ae.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function $A(t,e){1&t&&i.ic(0)}const QA=["*"];let XA=(()=>{class t{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),t})(),JA=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.M))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkStepLabel",""]]}),t})(),ZA=0;const tD="edit",eD="done",nD="error",iD=new i.r("STEPPER_GLOBAL_OPTIONS");let rD=(()=>{class t{constructor(t,e){this._stepper=t,this.interacted=!1,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=e||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType,this._showError=!!this._stepperOptions.showError}get editable(){return this._editable}set editable(t){this._editable=gT(t)}get optional(){return this._optional}set optional(t){this._optional=gT(t)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=gT(t)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(t){this._customError=gT(t)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(Object(i.V)(()=>oD)),i.Ob(iD,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["cdk-step"]],contentQueries:function(t,e,n){if(1&t&&i.Hb(n,JA,1),2&t){let t;i.oc(t=i.cc())&&(e.stepLabel=t.first)}},viewQuery:function(t,e){if(1&t&&i.Dc(i.M,3),2&t){let t;i.oc(t=i.cc())&&(e.content=t.first)}},inputs:{editable:"editable",optional:"optional",completed:"completed",hasError:"hasError",stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state"},exportAs:["cdkStep"],features:[i.Ab],ngContentSelectors:QA,decls:1,vars:0,template:function(t,e){1&t&&(i.jc(),i.yc(0,$A,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t})(),oD=(()=>{class t{constructor(t,e,n,r){this._dir=t,this._changeDetectorRef=e,this._elementRef=n,this._destroyed=new Mt.a,this.steps=new i.E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new i.n,this._orientation="horizontal",this._groupId=ZA++,this._document=r}get linear(){return this._linear}set linear(t){this._linear=gT(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const e=vT(t);if(this.steps&&this._steps){this._isValidIndex(t);const n=this.selected;n&&(n.interacted=!0),this._selectedIndex!==e&&!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(t)}else this._selectedIndex=e}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=this.steps?this.steps.toArray().indexOf(t):-1}ngAfterContentInit(){this._steps.changes.pipe(me(this._steps),WA(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(t=>t._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._keyManager=new FT(this._stepHeader).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:Object(Ft.a)()).pipe(me(this._layoutDirection()),WA(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){const e=t-this._selectedIndex;return e<0?"rtl"===this._layoutDirection()?"next":"previous":e>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(t,e="number"){const n=this.steps.toArray()[t],i=this._isCurrentStep(t);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,i):this._getGuidelineLogic(n,i,e)}_getDefaultIndicatorLogic(t,e){return t._showError&&t.hasError&&!e?nD:!t.completed||e?"number":t.editable?tD:eD}_getGuidelineLogic(t,e,n="number"){return t._showError&&t.hasError&&!e?nD:t.completed&&!e?eD:t.completed&&e?n:t.editable&&e?tD:n}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){const e=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:e[t],previouslySelectedStep:e[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this._stateChanged()}_onKeydown(t){const e=hT(t),n=t.keyCode,i=this._keyManager;null==i.activeItemIndex||e||32!==n&&13!==n?i.onKeydown(t):(this.selectedIndex=i.activeItemIndex,t.preventDefault())}_anyControlsInvalidOrPending(t){return!!(this._linear&&t>=0)&&this.steps.toArray().slice(0,t).some(t=>{const e=t.stepControl;return(e?e.invalid||e.pending||!t.interacted:!t.completed)&&!t.optional&&!t._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){if(!this._document||!this._elementRef)return!1;const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(ix,8),i.Ob(i.h),i.Ob(i.l),i.Ob(s))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(t,e,n){if(1&t&&(i.Hb(n,rD,1),i.Hb(n,XA,1)),2&t){let t;i.oc(t=i.cc())&&(e._steps=t),i.oc(t=i.cc())&&(e._stepHeader=t)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),t})(),sD=(()=>{class t{constructor(t){this._stepper=t,this.type="submit"}_handleClick(){this._stepper.next()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(oD))},t.\u0275dir=i.Jb({type:t,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(t,e){1&t&&i.bc("click",function(){return e._handleClick()}),2&t&&i.Xb("type",e.type)},inputs:{type:"type"}}),t})(),aD=(()=>{class t{constructor(t){this._stepper=t,this.type="button"}_handleClick(){this._stepper.previous()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(oD))},t.\u0275dir=i.Jb({type:t,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(t,e){1&t&&i.bc("click",function(){return e._handleClick()}),2&t&&i.Xb("type",e.type)},inputs:{type:"type"}}),t})(),uD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[rx]]}),t})();var cD=n("z6cu"),lD=n("w1tV");class hD{}class dD{}class fD{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof fD?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new fD;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof fD?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class pD{encodeKey(t){return mD(t)}encodeValue(t){return mD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function mD(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class gD{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new pD,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const i=t.indexOf("="),[r,o]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],s=n.get(r)||[];s.push(o),n.set(r,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)?i.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new gD({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function vD(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function bD(t){return"undefined"!=typeof Blob&&t instanceof Blob}function yD(t){return"undefined"!=typeof FormData&&t instanceof FormData}class _D{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new fD),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new gD,this.urlWithParams=e}serializeBody(){return null===this.body?null:vD(this.body)||bD(this.body)||yD(this.body)||"string"==typeof this.body?this.body:this.body instanceof gD?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yD(this.body)?null:bD(this.body)?this.body.type||null:vD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gD?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new _D(e,n,r,{params:u,headers:a,reportProgress:s,responseType:i,withCredentials:o})}}var wD=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class CD{constructor(t,e=200,n="OK"){this.headers=t.headers||new fD,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class OD extends CD{constructor(t={}){super(t),this.type=wD.ResponseHeader}clone(t={}){return new OD({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ED extends CD{constructor(t={}){super(t),this.type=wD.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ED({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class SD extends CD{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function TD(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let xD=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof _D)i=t;else{let r,o;r=n.headers instanceof fD?n.headers:new fD(n.headers),n.params&&(o=n.params instanceof gD?n.params:new gD({fromObject:n.params})),i=new _D(t,e,void 0!==n.body?n.body:null,{headers:r,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Object(Ft.a)(i).pipe(Te(t=>this.handler.handle(t)));if(t instanceof _D||"events"===n.observe)return r;const o=r.pipe(ye(t=>t instanceof ED));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return o.pipe(Object(se.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(se.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(se.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(se.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new gD).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,TD(n,e))}post(t,e,n={}){return this.request("POST",t,TD(n,e))}put(t,e,n={}){return this.request("PUT",t,TD(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(hD))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();class ID{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const kD=new i.r("HTTP_INTERCEPTORS");let AD=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const DD=/^\)\]\}',?\n/;class RD{}let PD=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),ND=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Gt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const o=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",o=new fD(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new OD({headers:o,status:e,statusText:i,url:s}),r},s=()=>{let{headers:i,status:r,statusText:s,url:a}=o(),u=null;204!==r&&(u=void 0===n.response?n.responseText:n.response),0===r&&(r=u?200:0);let c=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(DD,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new ED({body:u,headers:i,status:r,statusText:s,url:a||void 0})),e.complete()):e.error(new SD({error:u,headers:i,status:r,statusText:s,url:a||void 0}))},a=t=>{const{url:i}=o(),r=new SD({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let u=!1;const c=i=>{u||(e.next(o()),u=!0);let r={type:wD.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},l=t=>{let n={type:wD.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",l)),n.send(i),e.next({type:wD.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(RD))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const jD=new i.r("XSRF_COOKIE_NAME"),LD=new i.r("XSRF_HEADER_NAME");class FD{}let MD=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=L(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(s),i.Yb(i.C),i.Yb(jD))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),VD=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(FD),i.Yb(LD))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),UD=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(kD,[]);this.chain=t.reduceRight((t,e)=>new ID(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(dD),i.Yb(i.s))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),BD=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:VD,useClass:AD}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:jD,useValue:e.cookieName}:[],e.headerName?{provide:LD,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[VD,{provide:kD,useExisting:VD,multi:!0},{provide:FD,useClass:MD},{provide:jD,useValue:"XSRF-TOKEN"},{provide:LD,useValue:"X-XSRF-TOKEN"}]}),t})(),HD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[xD,{provide:hD,useClass:UD},ND,{provide:dD,useExisting:ND},PD,{provide:RD,useExisting:PD}],imports:[[BD.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const qD=["*"];function zD(t){return Error(`Unable to find icon with the name "${t}"`)}function KD(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function WD(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class GD{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let YD=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new GD(n,null,i))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,r){const o=this._sanitizer.sanitize(i.J.HTML,n);if(!o)throw WD(n);return this._addSvgIconConfig(t,e,new GD("",o,r))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new GD(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(i.J.HTML,e);if(!r)throw WD(e);return this._addSvgIconSetConfig(t,new GD("",r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(i.J.RESOURCE_URL,t);if(!e)throw KD(t);const n=this._cachedIconsByUrl.get(e);return n?Object(Ft.a)($D(n)):this._loadSvgIconFromConfig(new GD(t,null)).pipe(Object(Ve.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(se.a)(t=>$D(t)))}getNamedSvgIcon(t,e=""){const n=QD(e,t);let i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);if(i=this._getIconConfigFromResolvers(e,t),i)return this._svgIconConfigs.set(n,i),this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):Object(cD.a)(zD(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(Ft.a)($D(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(se.a)(t=>$D(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(Ft.a)(n):Vr(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Ce(e=>{const n=this._sanitizer.sanitize(i.J.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(Ft.a)(null)})))).pipe(Object(se.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw zD(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgText&&i.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(i),n=this._extractSvgIconFromSet(e,t,i.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(Ve.a)(e=>t.svgText=e),Object(se.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(Ft.a)(null):this._fetchIcon(t).pipe(Object(Ve.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(r),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:r}=t,o=null!==(e=null==r?void 0:r.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(i.J.RESOURCE_URL,n);if(!s)throw KD(n);const a=this._inProgressUrlFetches.get(s);if(a)return a;const u=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(He(()=>this._inProgressUrlFetches.delete(s)),Object(lD.a)());return this._inProgressUrlFetches.set(s,u),u}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(QD(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let i=0;i<this._resolvers.length;i++){const r=this._resolvers[i](e,t);if(r)return(n=r).url&&n.options?new GD(r.url,null,r.options):new GD(r,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(xD,8),i.Yb(At),i.Yb(s,8),i.Yb(i.m))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(xD,8),Object(i.Yb)(At),Object(i.Yb)(s,8),Object(i.Yb)(i.m))},token:t,providedIn:"root"}),t})();function $D(t){return t.cloneNode(!0)}function QD(t,e){return t+":"+e}class XD{constructor(t){this._elementRef=t}}const JD=tA(XD),ZD=new i.r("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(i.W)(s),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),tR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],eR=tR.map(t=>`[${t}]`).join(", "),nR=/^url\(['"]?#(.*?)['"]?\)$/;let iR=(()=>{class t extends JD{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=Be.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=gT(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let i=0;i<e.length;i++)e[i].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(eR),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)tR.forEach(t=>{const r=e[i],o=r.getAttribute(t),s=o?o.match(nR):null;if(s){let e=n.get(r);e||(e=[],n.set(r,e)),e.push({name:t,value:s[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(de(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(YD),i.Zb("aria-hidden"),i.Ob(ZD),i.Ob(i.m))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(i.Db("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),i.Gb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[i.zb],ngContentSelectors:qD,decls:1,vars:0,template:function(t,e){1&t&&(i.jc(),i.ic(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),rR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[Jk],Jk]}),t})();function oR(t,e){if(1&t&&i.Qb(0,8),2&t){const t=i.dc();i.kc("ngTemplateOutlet",t.iconOverrides[t.state])("ngTemplateOutletContext",t._getIconContext())}}function sR(t,e){if(1&t&&(i.Ub(0,"span"),i.zc(1),i.Tb()),2&t){const t=i.dc(2);i.Cb(1),i.Ac(t._getDefaultTextForState(t.state))}}function aR(t,e){if(1&t&&(i.Ub(0,"mat-icon"),i.zc(1),i.Tb()),2&t){const t=i.dc(2);i.Cb(1),i.Ac(t._getDefaultTextForState(t.state))}}function uR(t,e){if(1&t&&(i.Sb(0,9),i.yc(1,sR,2,1,"span",10),i.yc(2,aR,2,1,"mat-icon",11),i.Rb()),2&t){const t=i.dc();i.kc("ngSwitch",t.state),i.Cb(1),i.kc("ngSwitchCase","number")}}function cR(t,e){if(1&t&&(i.Ub(0,"div",12),i.Qb(1,13),i.Tb()),2&t){const t=i.dc();i.Cb(1),i.kc("ngTemplateOutlet",t._templateLabel().template)}}function lR(t,e){if(1&t&&(i.Ub(0,"div",12),i.zc(1),i.Tb()),2&t){const t=i.dc();i.Cb(1),i.Ac(t.label)}}function hR(t,e){if(1&t&&(i.Ub(0,"div",14),i.zc(1),i.Tb()),2&t){const t=i.dc();i.Cb(1),i.Ac(t._intl.optionalLabel)}}function dR(t,e){if(1&t&&(i.Ub(0,"div",15),i.zc(1),i.Tb()),2&t){const t=i.dc();i.Cb(1),i.Ac(t.errorMessage)}}function fR(t,e){1&t&&i.ic(0)}const pR=["*"];function mR(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",1),i.Ub(1,"mat-step-header",2),i.bc("click",function(){return e.$implicit.select()})("keydown",function(e){return i.rc(t),i.dc()._onKeydown(e)}),i.Tb(),i.Ub(2,"div",3),i.Ub(3,"div",4),i.bc("@stepTransition.done",function(e){return i.rc(t),i.dc()._animationDone.next(e)}),i.Ub(4,"div",5),i.Qb(5,6),i.Tb(),i.Tb(),i.Tb(),i.Tb()}if(2&t){const t=e.$implicit,n=e.index,r=e.last,o=i.dc();i.Cb(1),i.kc("tabIndex",o._getFocusIndex()==n?0:-1)("id",o._getStepLabelId(n))("index",n)("state",o._getIndicatorType(n,t.state))("label",t.stepLabel||t.label)("selected",o.selectedIndex===n)("active",t.completed||o.selectedIndex===n||!o.linear)("optional",t.optional)("errorMessage",t.errorMessage)("iconOverrides",o._iconOverrides)("disableRipple",o.disableRipple)("color",t.color||o.color),i.Db("aria-posinset",n+1)("aria-setsize",o.steps.length)("aria-controls",o._getStepContentId(n))("aria-selected",o.selectedIndex===n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),i.Cb(1),i.Gb("mat-stepper-vertical-line",!r),i.Cb(1),i.kc("@stepTransition",o._getAnimationDirection(n))("id",o._getStepContentId(n)),i.Db("aria-labelledby",o._getStepLabelId(n))("aria-expanded",o.selectedIndex===n),i.Cb(2),i.kc("ngTemplateOutlet",t.content)}}let gR=(()=>{class t extends JA{}return t.\u0275fac=function(e){return vR(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","matStepLabel",""]],features:[i.zb]}),t})();const vR=i.Wb(gR);let bR=(()=>{class t{constructor(){this.changes=new Mt.a,this.optionalLabel="Optional"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const yR={provide:bR,deps:[[new i.B,new i.K,bR]],useFactory:function(t){return t||new bR}};class _R extends XA{constructor(t){super(t)}}const wR=tA(_R,"primary");let CR=(()=>{class t extends wR{constructor(t,e,n,i){super(n),this._intl=t,this._focusMonitor=e,this._intlSubscription=t.changes.subscribe(()=>i.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._elementRef,t,e):this._elementRef.nativeElement.focus(e)}_stringLabel(){return this.label instanceof gR?null:this.label}_templateLabel(){return this.label instanceof gR?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(t){return"number"==t?`${this.index+1}`:"edit"==t?"create":"error"==t?"warning":t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(bR),i.Ob(QT),i.Ob(i.l),i.Ob(i.h))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header","mat-focus-indicator"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[i.zb],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(t,e){1&t&&(i.Pb(0,"div",0),i.Ub(1,"div"),i.Ub(2,"div",1),i.yc(3,oR,1,2,"ng-container",2),i.yc(4,uR,3,2,"ng-container",3),i.Tb(),i.Tb(),i.Ub(5,"div",4),i.yc(6,cR,2,1,"div",5),i.yc(7,lR,2,1,"div",5),i.yc(8,hR,2,1,"div",6),i.yc(9,dR,2,1,"div",7),i.Tb()),2&t&&(i.kc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disableRipple),i.Cb(1),i.Fb("mat-step-icon-state-",e.state," mat-step-icon"),i.Gb("mat-step-icon-selected",e.selected),i.Cb(1),i.kc("ngSwitch",!(!e.iconOverrides||!e.iconOverrides[e.state])),i.Cb(1),i.kc("ngSwitchCase",!0),i.Cb(2),i.Gb("mat-step-label-active",e.active)("mat-step-label-selected",e.selected)("mat-step-label-error","error"==e.state),i.Cb(1),i.kc("ngIf",e._templateLabel()),i.Cb(1),i.kc("ngIf",e._stringLabel()),i.Cb(1),i.kc("ngIf",e.optional&&"error"!=e.state),i.Cb(1),i.kc("ngIf","error"==e.state))},directives:[mA,K,W,G,B,$,iR],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content,.mat-step-icon .mat-icon{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})();const OR={horizontalStepTransition:ux("stepTransition",[dx("previous",hx({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),dx("current",hx({transform:"none",visibility:"inherit"})),dx("next",hx({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),fx("* => *",cx("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:ux("stepTransition",[dx("previous",hx({height:"0px",visibility:"hidden"})),dx("next",hx({height:"0px",visibility:"hidden"})),dx("current",hx({height:"*",visibility:"inherit"})),fx("* <=> current",cx("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])};let ER=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.M))},t.\u0275dir=i.Jb({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),t})(),SR=(()=>{class t extends rD{constructor(t,e,n){super(t,n),this._errorStateMatcher=e}isErrorState(t,e){return this._errorStateMatcher.isErrorState(t,e)||!!(t&&t.invalid&&this.interacted)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(Object(i.V)(()=>TR)),i.Ob(rA,4),i.Ob(iD,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-step"]],contentQueries:function(t,e,n){if(1&t&&i.Hb(n,gR,1),2&t){let t;i.oc(t=i.cc())&&(e.stepLabel=t.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[i.Bb([{provide:rA,useExisting:t},{provide:rD,useExisting:t}]),i.zb],ngContentSelectors:pR,decls:1,vars:0,template:function(t,e){1&t&&(i.jc(),i.yc(0,fR,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t})(),TR=(()=>{class t extends oD{constructor(){super(...arguments),this.steps=new i.E,this.animationDone=new i.n,this._iconOverrides={},this._animationDone=new Mt.a}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:t,templateRef:e})=>this._iconOverrides[t]=e),this.steps.changes.pipe(WA(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(SS((t,e)=>t.fromState===e.fromState&&t.toState===e.toState),WA(this._destroyed)).subscribe(t=>{"current"===t.toState&&this.animationDone.emit()})}}return t.\u0275fac=function(e){return xR(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","matStepper",""]],contentQueries:function(t,e,n){if(1&t&&(i.Hb(n,SR,1),i.Hb(n,ER,1)),2&t){let t;i.oc(t=i.cc())&&(e._steps=t),i.oc(t=i.cc())&&(e._icons=t)}},viewQuery:function(t,e){if(1&t&&i.Dc(CR,1),2&t){let t;i.oc(t=i.cc())&&(e._stepHeader=t)}},inputs:{disableRipple:"disableRipple",color:"color"},outputs:{animationDone:"animationDone"},features:[i.Bb([{provide:oD,useExisting:t}]),i.zb]}),t})();const xR=i.Wb(TR);let IR=(()=>{class t extends TR{constructor(t,e,n,i){super(t,e,n,i),this._orientation="vertical"}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(ix,8),i.Ob(i.h),i.Ob(i.l),i.Ob(s))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-vertical-stepper"]],hostAttrs:["aria-orientation","vertical","role","tablist",1,"mat-stepper-vertical"],inputs:{selectedIndex:"selectedIndex"},exportAs:["matVerticalStepper"],features:[i.Bb([{provide:TR,useExisting:t},{provide:oD,useExisting:t}]),i.zb],decls:1,vars:1,consts:[["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-stepper-header",3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&i.yc(0,mR,6,25,"div",0),2&t&&i.kc("ngForOf",e.steps)},directives:[V,CR,$],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[OR.verticalStepTransition]},changeDetection:0}),t})(),kR=(()=>{class t extends sD{}return t.\u0275fac=function(e){return AR(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(t,e){2&t&&i.Xb("type",e.type)},inputs:{type:"type"},features:[i.zb]}),t})();const AR=i.Wb(kR);let DR=(()=>{class t extends aD{}return t.\u0275fac=function(e){return RR(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(t,e){2&t&&i.Xb("type",e.type)},inputs:{type:"type"},features:[i.zb]}),t})();const RR=i.Wb(DR);let PR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[yR,rA],imports:[[Jk,tt,KA,FA,uD,rR,gA],Jk]}),t})();const NR=["*",[["mat-card-footer"]]],jR=["*","mat-card-footer"],LR=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],FR=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let MR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),VR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),UR=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&i.Gb("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),BR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t})(),HR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),t})(),qR=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(qk,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&i.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:jR,decls:2,vars:0,template:function(t,e){1&t&&(i.jc(NR),i.ic(0),i.ic(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),zR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:FR,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(i.jc(LR),i.ic(0),i.Ub(1,"div",0),i.ic(2,1),i.Tb(),i.ic(3,2))},encapsulation:2,changeDetection:0}),t})(),KR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[Jk],Jk]}),t})();class WR{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Mt.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let GR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[Jk],Jk]}),t})();const YR=["*"],$R=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],QR=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"];class XR{}const JR=Zk(eA(XR));class ZR{}const tP=eA(ZR),eP=new i.r("MatList"),nP=new i.r("MatNavList");let iP=(()=>{class t extends JR{constructor(t){super(),this._elementRef=t,this._stateChanges=new Mt.a,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[i.Bb([{provide:eP,useExisting:t}]),i.zb,i.Ab],ngContentSelectors:YR,decls:1,vars:0,template:function(t,e){1&t&&(i.jc(),i.ic(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),rP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),oP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),sP=(()=>{class t extends tP{constructor(t,e,n,i){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new Mt.a,this._disabled=!1,this._isInteractiveList=!!(n||i&&"action-list"===i._getListType()),this._list=n||i;const r=this._getHostElement();"button"!==r.nodeName.toLowerCase()||r.hasAttribute("type")||r.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(WA(this._destroyed)).subscribe(()=>{e.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=gT(t)}ngAfterContentInit(){!function(t,e,n="mat"){t.changes.pipe(me(t)).subscribe(({length:t})=>{sA(e,`${n}-2-line`,!1),sA(e,`${n}-3-line`,!1),sA(e,`${n}-multi-line`,!1),2===t||3===t?sA(e,`${n}-${t}-line`,!0):t>3&&sA(e,`${n}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.h),i.Ob(nP,8),i.Ob(eP,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){if(1&t&&(i.Hb(n,rP,1),i.Hb(n,oP,1),i.Hb(n,oA,1)),2&t){let t;i.oc(t=i.cc())&&(e._avatar=t.first),i.oc(t=i.cc())&&(e._icon=t.first),i.oc(t=i.cc())&&(e._lines=t)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&i.Gb("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[i.zb],ngContentSelectors:QR,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(i.jc($R),i.Ub(0,"div",0),i.Pb(1,"div",1),i.ic(2),i.Ub(3,"div",2),i.ic(4,1),i.Tb(),i.ic(5,2),i.Tb()),2&t&&(i.Cb(1),i.kc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[mA],encapsulation:2,changeDetection:0}),t})(),aP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[aA,gA,Jk,bA,tt],aA,Jk,bA,GR]}),t})();var uP=n("n6bG");function cP(t,e,n,i){return Object(uP.a)(n)&&(i=n,n=void 0),i?cP(t,e,n).pipe(Object(se.a)(t=>Object(Ht.a)(t)?i(...t):i(t))):new Gt.a(i=>{lP(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function lP(t,e,n,i,r){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,r),o=()=>i.removeEventListener(e,n,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),o=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),o=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)lP(t[o],e,n,i,r)}i.add(o)}const hP=["underline"],dP=["connectionContainer"],fP=["inputContainer"],pP=["label"];function mP(t,e){1&t&&(i.Sb(0),i.Ub(1,"div",14),i.Pb(2,"div",15),i.Pb(3,"div",16),i.Pb(4,"div",17),i.Tb(),i.Ub(5,"div",18),i.Pb(6,"div",15),i.Pb(7,"div",16),i.Pb(8,"div",17),i.Tb(),i.Rb())}function gP(t,e){1&t&&(i.Ub(0,"div",19),i.ic(1,1),i.Tb())}function vP(t,e){if(1&t&&(i.Sb(0),i.ic(1,2),i.Ub(2,"span"),i.zc(3),i.Tb(),i.Rb()),2&t){const t=i.dc(2);i.Cb(3),i.Ac(t._control.placeholder)}}function bP(t,e){1&t&&i.ic(0,3,["*ngSwitchCase","true"])}function yP(t,e){1&t&&(i.Ub(0,"span",23),i.zc(1," *"),i.Tb())}function _P(t,e){if(1&t){const t=i.Vb();i.Ub(0,"label",20,21),i.bc("cdkObserveContent",function(){return i.rc(t),i.dc().updateOutlineGap()}),i.yc(2,vP,4,1,"ng-container",12),i.yc(3,bP,1,0,"ng-content",12),i.yc(4,yP,2,0,"span",22),i.Tb()}if(2&t){const t=i.dc();i.Gb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),i.kc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),i.Db("for",t._control.id)("aria-owns",t._control.id),i.Cb(2),i.kc("ngSwitchCase",!1),i.Cb(1),i.kc("ngSwitchCase",!0),i.Cb(1),i.kc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function wP(t,e){1&t&&(i.Ub(0,"div",24),i.ic(1,4),i.Tb())}function CP(t,e){if(1&t&&(i.Ub(0,"div",25,26),i.Pb(2,"span",27),i.Tb()),2&t){const t=i.dc();i.Cb(2),i.Gb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function OP(t,e){if(1&t&&(i.Ub(0,"div"),i.ic(1,5),i.Tb()),2&t){const t=i.dc();i.kc("@transitionMessages",t._subscriptAnimationState)}}function EP(t,e){if(1&t&&(i.Ub(0,"div",31),i.zc(1),i.Tb()),2&t){const t=i.dc(2);i.kc("id",t._hintLabelId),i.Cb(1),i.Ac(t.hintLabel)}}function SP(t,e){if(1&t&&(i.Ub(0,"div",28),i.yc(1,EP,2,2,"div",29),i.ic(2,6),i.Pb(3,"div",30),i.ic(4,7),i.Tb()),2&t){const t=i.dc();i.kc("@transitionMessages",t._subscriptAnimationState),i.Cb(1),i.kc("ngIf",t.hintLabel)}}const TP=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],xP=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],IP=new i.r("MatError"),kP={transitionMessages:ux("transitionMessages",[dx("enter",hx({opacity:1,transform:"translateY(0%)"})),fx("void => enter",[hx({opacity:0,transform:"translateY(-5px)"}),cx("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let AP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t}),t})(),DP=0;const RP=new i.r("MatHint");let PP=(()=>{class t{constructor(){this.align="start",this.id="mat-hint-"+DP++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(i.Db("id",e.id)("align",null),i.Gb("mat-form-field-hint-end","end"===e.align))},inputs:{align:"align",id:"id"},features:[i.Bb([{provide:RP,useExisting:t}])]}),t})(),NP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["mat-label"]]}),t})(),jP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["mat-placeholder"]]}),t})();const LP=new i.r("MatPrefix");let FP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","matPrefix",""]],features:[i.Bb([{provide:LP,useExisting:t}])]}),t})();const MP=new i.r("MatSuffix");let VP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","matSuffix",""]],features:[i.Bb([{provide:MP,useExisting:t}])]}),t})(),UP=0;class BP{constructor(t){this._elementRef=t}}const HP=tA(BP,"primary"),qP=new i.r("MAT_FORM_FIELD_DEFAULT_OPTIONS"),zP=new i.r("MatFormField");let KP=(()=>{class t extends HP{constructor(t,e,n,i,r,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Mt.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+UP++,this._labelId="mat-form-field-label-"+UP++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=gT(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(me(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(WA(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(WA(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(DS.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(me(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(me(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(WA(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,cP(this._label.nativeElement,"transitionend").pipe(de(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),o=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(r),s=t.children,a=this._getStartEnd(s[0].getBoundingClientRect());let u=0;for(let t=0;t<s.length;t++)u+=s[t].offsetWidth;e=Math.abs(a-o)-5,n=u>0?.75*u+10:0}for(let s=0;s<r.length;s++)r[s].style.width=`${e}px`;for(let s=0;s<o.length;s++)o[s].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.h),i.Ob(i.l),i.Ob(ix,8),i.Ob(qP,8),i.Ob(CT),i.Ob(i.A),i.Ob(qk,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(i.Hb(n,AP,1),i.Hb(n,AP,3),i.Hb(n,NP,1),i.Hb(n,NP,3),i.Hb(n,jP,1),i.Hb(n,IP,1),i.Hb(n,RP,1),i.Hb(n,LP,1),i.Hb(n,MP,1)),2&t){let t;i.oc(t=i.cc())&&(e._controlNonStatic=t.first),i.oc(t=i.cc())&&(e._controlStatic=t.first),i.oc(t=i.cc())&&(e._labelChildNonStatic=t.first),i.oc(t=i.cc())&&(e._labelChildStatic=t.first),i.oc(t=i.cc())&&(e._placeholderChild=t.first),i.oc(t=i.cc())&&(e._errorChildren=t),i.oc(t=i.cc())&&(e._hintChildren=t),i.oc(t=i.cc())&&(e._prefixChildren=t),i.oc(t=i.cc())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(i.Dc(hP,1),i.Dc(dP,3),i.Dc(fP,1),i.Dc(pP,1)),2&t){let t;i.oc(t=i.cc())&&(e.underlineRef=t.first),i.oc(t=i.cc())&&(e._connectionContainerRef=t.first),i.oc(t=i.cc())&&(e._inputContainerRef=t.first),i.oc(t=i.cc())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&i.Gb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[i.Bb([{provide:zP,useExisting:t}]),i.zb],ngContentSelectors:xP,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(i.jc(TP),i.Ub(0,"div",0),i.Ub(1,"div",1,2),i.bc("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),i.yc(3,mP,9,0,"ng-container",3),i.yc(4,gP,2,0,"div",4),i.Ub(5,"div",5,6),i.ic(7),i.Ub(8,"span",7),i.yc(9,_P,5,16,"label",8),i.Tb(),i.Tb(),i.yc(10,wP,2,0,"div",9),i.Tb(),i.yc(11,CP,3,4,"div",10),i.Ub(12,"div",11),i.yc(13,OP,2,1,"div",12),i.yc(14,SP,5,2,"div",13),i.Tb(),i.Tb()),2&t&&(i.Cb(3),i.kc("ngIf","outline"==e.appearance),i.Cb(1),i.kc("ngIf",e._prefixChildren.length),i.Cb(5),i.kc("ngIf",e._hasFloatingLabel()),i.Cb(1),i.kc("ngIf",e._suffixChildren.length),i.Cb(1),i.kc("ngIf","outline"!=e.appearance),i.Cb(1),i.kc("ngSwitch",e._getDisplayedMessages()),i.Cb(1),i.kc("ngSwitchCase","error"),i.Cb(1),i.kc("ngSwitchCase","hint"))},directives:[B,K,W,PT],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[kP.transitionMessages]},changeDetection:0}),t})(),WP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[tt,Jk,NT],Jk]}),t})();const GP=["*"],YP=new i.r("MatChipRemove"),$P=new i.r("MatChipAvatar"),QP=new i.r("MatChipTrailingIcon");class XP{constructor(t){this._elementRef=t}}const JP=nA(tA(eA(XP),"primary"),-1);let ZP=(()=>{class t extends JP{constructor(t,e,n,r,o,s,a,u){super(t),this._elementRef=t,this._ngZone=e,this._changeDetectorRef=o,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new Mt.a,this._onBlur=new Mt.a,this.selectionChange=new i.n,this.destroyed=new i.n,this.removed=new i.n,this._addHostClassName(),this._chipRippleTarget=s.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new fA(this,e,this._chipRippleTarget,n),this._chipRipple.setupTriggerEvents(t),this.rippleConfig=r||{},this._animationsDisabled="NoopAnimations"===a,this.tabIndex=null!=u&&parseInt(u)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const e=gT(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=gT(t)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(t){this._disabled=gT(t)}get removable(){return this._removable}set removable(t){this._removable=gT(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t="mat-basic-chip",e=this._elementRef.nativeElement;e.hasAttribute(t)||e.tagName.toLowerCase()===t?e.classList.add(t):e.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled?t.preventDefault():t.stopPropagation()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case 46:case 8:this.remove(),t.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.pipe(de(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.A),i.Ob(CT),i.Ob(pA,8),i.Ob(i.h),i.Ob(s),i.Ob(qk,8),i.Zb("tabindex"))},t.\u0275dir=i.Jb({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,n){if(1&t&&(i.Hb(n,$P,1),i.Hb(n,QP,1),i.Hb(n,YP,1)),2&t){let t;i.oc(t=i.cc())&&(e.avatar=t.first),i.oc(t=i.cc())&&(e.trailingIcon=t.first),i.oc(t=i.cc())&&(e.removeIcon=t.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(t,e){1&t&&i.bc("click",function(t){return e._handleClick(t)})("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e.focus()})("blur",function(){return e._blur()}),2&t&&(i.Db("tabindex",e.disabled?null:e.tabIndex)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString())("aria-selected",e.ariaSelected),i.Gb("mat-chip-selected",e.selected)("mat-chip-with-avatar",e.avatar)("mat-chip-with-trailing-icon",e.trailingIcon||e.removeIcon)("mat-chip-disabled",e.disabled)("_mat-animation-noopable",e._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[i.zb]}),t})();const tN=new i.r("mat-chips-default-options");class eN{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const nN=iA(eN);let iN=0;class rN{constructor(t,e){this.source=t,this.value=e}}let oN=(()=>{class t extends nN{constructor(t,e,n,r,o,s,a){super(s,r,o,a),this._elementRef=t,this._changeDetectorRef=e,this._dir=n,this.ngControl=a,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new Mt.a,this._uid="mat-chip-list-"+iN++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(t,e)=>t===e,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new i.n,this.valueChange=new i.n,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=gT(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(t){this._required=gT(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=gT(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=gT(t),this.chips&&this.chips.forEach(t=>t.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return Object(DS.a)(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return Object(DS.a)(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return Object(DS.a)(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return Object(DS.a)(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new FT(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(WA(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe(WA(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(me(null),WA(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new WR(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",t.id)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const e=t.target;8===t.keyCode&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_isInputEmpty(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}_setSelectionByValue(t,e=!0){if(this._clearSelection(),this.chips.forEach(t=>t.deselect()),Array.isArray(t))t.forEach(t=>this._selectValue(t,e)),this._sortValues();else{const n=this._selectValue(t,e);n&&e&&this._keyManager.setActiveItem(n)}}_selectValue(t,e=!0){const n=this.chips.find(e=>null!=e.value&&this._compareWith(e.value,t));return n&&(e?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(e=>{e!==t&&e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.change.emit(new rN(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(t=>{!this._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let e=this.chips.toArray().indexOf(t.chip);this._isValidIndex(e)&&this._keyManager.updateActiveItem(e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const e=t.chip,n=this.chips.toArray().indexOf(t.chip);this._isValidIndex(n)&&e._hasFocus&&(this._lastDestroyedChipIndex=n)})}_originatesFromChip(t){let e=t.target;for(;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t._chipListDisabled=this._disabled,t._chipListMultiple=this.multiple})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.h),i.Ob(ix,8),i.Ob(Go,8),i.Ob(is,8),i.Ob(rA),i.Ob(go,10))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-chip-list"]],contentQueries:function(t,e,n){if(1&t&&i.Hb(n,ZP,1),2&t){let t;i.oc(t=i.cc())&&(e.chips=t)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,e){1&t&&i.bc("focus",function(){return e.focus()})("blur",function(){return e._blur()})("keydown",function(t){return e._keydown(t)}),2&t&&(i.Xb("id",e._uid),i.Db("tabindex",e.disabled?null:e._tabIndex)("aria-describedby",e._ariaDescribedby||null)("aria-required",e.role?e.required:null)("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-multiselectable",e.multiple)("role",e.role)("aria-orientation",e.ariaOrientation),i.Gb("mat-chip-list-disabled",e.disabled)("mat-chip-list-invalid",e.errorState)("mat-chip-list-required",e.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[i.Bb([{provide:AP,useExisting:t}]),i.zb],ngContentSelectors:GP,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,e){1&t&&(i.jc(),i.Ub(0,"div",0),i.ic(1),i.Tb())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t})();const sN={separatorKeyCodes:[13]};let aN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[rA,{provide:tN,useValue:sN}],imports:[[Jk]]}),t})();function uN(t,e){if(1&t){const t=i.Vb();i.Ub(0,"mat-list-item"),i.zc(1),i.Ub(2,"mat-chip"),i.zc(3),i.Tb(),i.Ub(4,"mat-icon",1),i.bc("click",function(){i.rc(t);const n=e.$implicit;return i.dc().deleteItem(n)}),i.zc(5," delete "),i.Tb(),i.Tb()}if(2&t){const t=e.$implicit;i.Cb(1),i.Cc(" ",t.id," - ",t.color," "),i.Cb(2),i.Bc(" ",t.cantidad," ")}}let cN=(()=>{class t{constructor(t){this.cestaServ=t,this.productos=[]}ngOnInit(){this.productos=this.cestaServ.getProductos()}deleteItem(t){this.cestaServ.deleteProductOfArray(t),this.guardarLocalStorage()}guardarLocalStorage(){const t=this.cestaServ.getProductos();console.log("STRINGIFIED ARRAYCESTA",JSON.stringify(t)),localStorage.setItem("arrayCesta",JSON.stringify(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(lT))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-carrito"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"danger",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(i.Ub(0,"mat-card"),i.Ub(1,"mat-list"),i.yc(2,uN,6,3,"mat-list-item",0),i.Tb(),i.Tb()),2&t&&(i.Cb(2),i.kc("ngForOf",e.productos))},directives:[qR,iP,V,sP,ZP,iR],styles:[".danger[_ngcontent-%COMP%]{color:red}"]}),t})(),lN=(()=>{class t{constructor(t){this.cestaServ=t}ngOnInit(){this.cestaServ.importeFinal$.subscribe(t=>{this.importePagar=t,localStorage.setItem("importePagar",t.toString())})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(lT))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-importe-pagar"]],decls:3,vars:4,template:function(t,e){1&t&&(i.Ub(0,"mat-chip"),i.zc(1),i.ec(2,"currency"),i.Tb()),2&t&&(i.Cb(1),i.Bc(" ",i.gc(2,1,e.importePagar,"EUR")," "))},directives:[ZP],pipes:[Z],styles:[""]}),t})();class hN{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new dN(t,this.durationSelector))}}class dN extends ae.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=Object(ae.c)(n,new ae.a(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var fN=n("Y7HM");function pN(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function mN(t,e=wS.a){return n=()=>function(t=0,e,n){let i=-1;return Object(fN.a)(e)?i=Number(e)<1?1:Number(e):Object(Bt.a)(e)&&(n=e),Object(Bt.a)(n)||(n=wS.a),new Gt.a(e=>{const r=Object(fN.a)(t)?t:+t-n.now();return n.schedule(pN,r,{index:0,period:i,subscriber:e})})}(t,e),function(t){return t.lift(new hN(n))};var n}const gN=kT({passive:!0});let vN=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ie.a;const e=_T(t),n=this._monitoredElements.get(e);if(n)return n.subject;const i=new Mt.a,r="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,gN),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",o,gN)}}),i}stopMonitoring(t){const e=_T(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(CT),i.Yb(i.A))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(CT),Object(i.Yb)(i.A))},token:t,providedIn:"root"}),t})(),bN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[OT]]}),t})();const yN=new i.r("MAT_INPUT_VALUE_ACCESSOR"),_N=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let wN=0;class CN{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const ON=iA(CN);let EN=(()=>{class t extends ON{constructor(t,e,n,i,r,o,s,a,u,c){super(o,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+wN++,this.focused=!1,this.stateChanges=new Mt.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>ST().has(t));const l=this._elementRef.nativeElement,h=l.nodeName.toLowerCase();this._inputValueAccessor=s||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=gT(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=gT(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&ST().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=gT(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){_N.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(CT),i.Ob(go,10),i.Ob(Go,8),i.Ob(is,8),i.Ob(rA),i.Ob(yN,10),i.Ob(vN),i.Ob(i.A),i.Ob(zP,8))},t.\u0275dir=i.Jb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&i.bc("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(i.Xb("disabled",e.disabled)("required",e.required),i.Db("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState&&!e.empty)("aria-required",e.required),i.Gb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[i.Bb([{provide:AP,useExisting:t}]),i.zb,i.Ab]}),t})(),SN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[rA],imports:[[bN,WP,Jk],bN,WP]}),t})();function TN(t,e){1&t&&i.zc(0,"Datos de contacto / entrega")}function xN(t,e){1&t&&i.zc(0,"Nombre")}function IN(t,e){1&t&&i.zc(0,"Done")}function kN(t,e){if(1&t){const t=i.Vb();i.Ub(0,"mat-step"),i.yc(1,IN,1,0,"ng-template",6),i.Ub(2,"p"),i.zc(3,"You are now done."),i.Tb(),i.Ub(4,"div"),i.Ub(5,"button",16),i.zc(6,"Back"),i.Tb(),i.Ub(7,"button",17),i.bc("click",function(){return i.rc(t),i.dc(),i.pc(3).reset()}),i.zc(8,"Reset"),i.Tb(),i.Tb(),i.Tb()}}let AN=(()=>{class t{constructor(t,e,n,i){this.location=t,this._formBuilder=e,this.db=n,this.cestaServ=i,this.isLinear=!1,this.paid=!1,this.idDocumento=localStorage.getItem("id")?localStorage.getItem("id"):null}ngOnInit(){this.cestaServ.importeFinal$.subscribe(t=>{this.importePagar=t});const t=localStorage.getItem("pasarelaObject"),e=!!t&&JSON.parse(t);console.log("DATA LOADED",e),this.firstFormGroup=this._formBuilder.group({nombre:[e?e.nombre:"",[Xr.required,Xr.maxLength(100)]],direccion:[e?e.direccion:"",[Xr.required,Xr.maxLength(1e3)]],telefono:[e?e.telefono:"",[Xr.required]],email:[e?e.email:"",[Xr.required,Xr.email]]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",Xr.required]})}simularPagoExitoso(){return Object(Fr.b)(this,void 0,void 0,function*(){this.paid=!0;const t=yield this.db.collection("pedidos").doc(this.idDocumento).set({paid:!0,precioFinal:this.importePagar,cestaCompra:this.cestaServ.getProductos()},{merge:!0});console.log("RES",t),this.actualizarStocks()})}ngAfterViewInit(){try{t={id:"#myPaypalButtons",currency:"USD",value:`${this.importePagar}`,onApprove:t=>{try{console.log("COBRO EXITOSO",t),alert("COBRO EXITOSO"),this.paid=!0,this.db.collection("pedidos").doc(this.idDocumento).set({paid:!0},{merge:!0})}catch(x_){console.log("ERROR CAPTURADO",x_)}}},paypal.Buttons({createOrder:function(e,n){return n.order.create({purchase_units:[{amount:{value:t.value}}]})},onApprove:function(e,n){return n.order.capture().then(function(e){t.onApprove(e)})}}).render(t.id)}catch(x_){console.log("ERROR CAPTURADO LINEA 87",x_)}var t}actualizarStocks(){this.cestaServ.getProductos().forEach(t=>{const e=t.color,n=t.id,i=t.cantidad;console.log("DENTRO BUCLE, DATOS",{color:e,id:n,cantidad:i}),this.db.collection("stocks").doc(n).set({[e]:ds.a.firestore.FieldValue.increment(-i)},{merge:!0}).then(t=>{console.log("UPDATE RESPUESTA",t)})})}get form(){return this.firstFormGroup.controls}volver(){this.location.back()}guardar(){return Object(Fr.b)(this,void 0,void 0,function*(){const t=this.firstFormGroup.getRawValue();localStorage.setItem("pasarelaObject",JSON.stringify(t));const e=yield this.db.collection("pedidos").add(t);console.log("guardar",t),console.log("ID",e.id),this.idDocumento=e.id,localStorage.setItem("id",this.idDocumento)})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(w),i.Ob(hs),i.Ob(uT),i.Ob(lT))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-pasarela"]],decls:47,vars:7,consts:[["mat-raised-button","","id","toggle-linear",3,"click"],[3,"linear"],["stepper",""],["color","primary","mat-raised-button","","matStepperNext",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["appearance","outline",1,"form"],["matInput","","placeholder","Nombre y apellidos","formControlName","nombre"],["matPrefix","",1,"error"],["matInput","","type","text","formControlName","direccion","placeholder","Direcci\xf3n de entrega"],["matInput","","formControlName","telefono","onkeypress","return (event.charCode >= 48 && event.charCode <= 57)","min","1","maxlength","9","type","text","placeholder","N\xfamero de tel\xe9fono"],["matInput","","type","text","formControlName","email","placeholder","Email de contacto"],["color","primary","mat-raised-button","","matStepperNext","",3,"disabled","click"],[3,"click"],[4,"ngIf"],["mat-button","","matStepperPrevious",""],["mat-button","",3,"click"]],template:function(t,e){1&t&&(i.Ub(0,"button",0),i.bc("click",function(){return e.isLinear=!e.isLinear}),i.zc(1),i.Tb(),i.Ub(2,"mat-vertical-stepper",1,2),i.Ub(4,"mat-step"),i.Pb(5,"app-carrito"),i.Pb(6,"app-importe-pagar"),i.Ub(7,"button",3),i.zc(8,"SIGUIENTE"),i.Tb(),i.Tb(),i.Ub(9,"mat-step",4),i.Ub(10,"mat-card"),i.Ub(11,"form",5),i.yc(12,TN,1,0,"ng-template",6),i.Ub(13,"mat-form-field",7),i.Ub(14,"mat-label"),i.zc(15,"Nombre"),i.Tb(),i.Pb(16,"input",8),i.Ub(17,"mat-icon",9),i.zc(18,"warning"),i.Tb(),i.Tb(),i.yc(19,xN,1,0,"ng-template",6),i.Ub(20,"mat-form-field",7),i.Ub(21,"mat-label"),i.zc(22,"Direcci\xf3n"),i.Tb(),i.Pb(23,"textarea",10),i.Ub(24,"mat-icon",9),i.zc(25,"warning"),i.Tb(),i.Tb(),i.Ub(26,"mat-form-field",7),i.Ub(27,"mat-label"),i.zc(28,"Tel\xe9fono"),i.Tb(),i.Pb(29,"input",11),i.Ub(30,"mat-icon",9),i.zc(31,"warning"),i.Tb(),i.Tb(),i.Ub(32,"mat-form-field",7),i.Ub(33,"mat-label"),i.zc(34,"Email"),i.Tb(),i.Pb(35,"input",12),i.Ub(36,"mat-icon",9),i.zc(37,"warning"),i.Tb(),i.Tb(),i.Ub(38,"div"),i.Ub(39,"button",13),i.bc("click",function(){return e.guardar()}),i.zc(40,"Siguiente"),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(41,"mat-step",4),i.Ub(42,"button",14),i.bc("click",function(){return e.simularPagoExitoso()}),i.zc(43,"PAGO EXITOSO"),i.Tb(),i.Tb(),i.yc(44,kN,9,0,"mat-step",15),i.Tb(),i.Ub(45,"button",14),i.bc("click",function(){return e.volver()}),i.zc(46," VOLVER\n"),i.Tb()),2&t&&(i.Cb(1),i.Bc(" ",e.isLinear?"Disable linear mode":"Enable linear mode"," "),i.Cb(1),i.kc("linear",e.isLinear),i.Cb(7),i.kc("stepControl",e.firstFormGroup),i.Cb(2),i.kc("formGroup",e.firstFormGroup),i.Cb(28),i.kc("disabled",!1),i.Cb(2),i.kc("stepControl",e.secondFormGroup),i.Cb(3),i.kc("ngIf",e.paid))},directives:[LA,IR,SR,cN,lN,kR,qR,Xo,yo,is,gR,KP,NP,EN,Kr,bo,os,iR,FP,as,B,DR],styles:[".error[_ngcontent-%COMP%]{color:red}"]}),t})(),DN=(()=>{class t{constructor(){this.color=localStorage.getItem("colorDetalle")?localStorage.getItem("colorDetalle"):null}getColor(){return this.color}setColor(t){this.color=t,localStorage.setItem("colorDetalle",t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();n("3N8a"),n("IjjT"),n("7Hc7");let RN=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Mt.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Gt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(mN(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Ft.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(ye(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=_T(e),i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>cP(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(i.A),i.Yb(CT),i.Yb(s,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(i.A),Object(i.Yb)(CT),Object(i.Yb)(s,8))},token:t,providedIn:"root"}),t})(),PN=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Mt.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(mN(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(CT),i.Yb(i.A),i.Yb(s,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(CT),Object(i.Yb)(i.A),Object(i.Yb)(s,8))},token:t,providedIn:"root"}),t})(),NN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({}),t})(),jN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[rx,OT,NN],rx,NN]}),t})();class LN{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new FN(t,this.predicate,this.inclusive))}}class FN extends qt.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(i){return void e.error(i)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}const MN=AT();class VN{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=yT(-this._previousScrollPosition.left),t.style.top=yT(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),MN&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),MN&&(e.scrollBehavior=i,n.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class UN{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class BN{enable(){}disable(){}attach(){}}function HN(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function qN(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class zN{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();HN(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let KN=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new BN,this.close=t=>new UN(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new VN(this._viewportRuler,this._document),this.reposition=t=>new zN(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(RN),i.Yb(PN),i.Yb(i.A),i.Yb(s))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(RN),Object(i.Yb)(PN),Object(i.Yb)(i.A),Object(i.Yb)(s))},token:t,providedIn:"root"}),t})();class WN{constructor(t){if(this.scrollStrategy=new BN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class GN{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class YN{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let $N=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(s))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(s))},token:t,providedIn:"root"}),t})(),QN=(()=>{class t extends $N{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(s))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(s))},token:t,providedIn:"root"}),t})(),XN=(()=>{class t extends $N{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let i=n.length-1;i>-1;i--){const r=n[i];if(!(r._outsidePointerEvents.observers.length<1)&&r.hasAttached()){if(r.overlayElement.contains(e))break;r._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(s),i.Yb(CT))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(s),Object(i.Yb)(CT))},token:t,providedIn:"root"}),t})();const JN=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let ZN=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||JN){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),JN?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(s),i.Yb(CT))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(s),Object(i.Yb)(CT))},token:t,providedIn:"root"}),t})();class tj{constructor(t,e,n,i,r,o,s,a,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new Mt.a,this._attachments=new Mt.a,this._detachments=new Mt.a,this._locationChanges=Be.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Mt.a,this._outsidePointerEvents=new Mt.a,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(de(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=yT(this._config.width),t.height=yT(this._config.height),t.minWidth=yT(this._config.minWidth),t.minHeight=yT(this._config.minHeight),t.maxWidth=yT(this._config.maxWidth),t.maxHeight=yT(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;bT(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(WA(Object(DS.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const ej="cdk-overlay-connected-position-bounding-box",nj=/([A-Za-z%]+)$/;class ij{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Mt.a,this._resizeSubscription=Be.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(ej),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),u=this._getOverlayFit(a,e,n,o);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(u,a,n)?i.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!r||r.overlayFit.visibleArea<u.visibleArea)&&(r={overlayFit:u,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rj(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ej),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){const r=sj(e);let{x:o,y:s}=t,a=this._getOffset(i,"x"),u=this._getOffset(i,"y");a&&(o+=a),u&&(s+=u);let c=0-s,l=s+r.height-n.height,h=this._subtractOverflows(r.width,0-o,o+r.width-n.width),d=this._subtractOverflows(r.height,c,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:r.width*r.height===f,fitsInViewportVertically:d===r.height,fitsInViewportHorizontally:h==r.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,o=oj(this._overlayRef.getConfig().minHeight),s=oj(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=sj(e),r=this._viewportRect,o=Math.max(t.x+i.width-r.width,0),s=Math.max(t.y+i.height-r.height,0),a=Math.max(r.top-n.top-t.y,0),u=Math.max(r.left-n.left-t.x,0);let c=0,l=0;return c=i.width<=r.width?u||-o:t.x<this._viewportMargin?r.left-n.left-t.x:0,l=i.height<=r.height?a||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:c,y:l},{x:t.x+c,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new YN(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,o,s,a,u,c;if("top"===e.overlayY)o=t.y,r=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,r=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,o=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-i/2)}return{top:o,left:u,bottom:s,right:c,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=yT(n.height),i.top=yT(n.top),i.bottom=yT(n.bottom),i.width=yT(n.width),i.left=yT(n.left),i.right=yT(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=yT(t)),r&&(i.maxWidth=yT(r))}this._lastBoundingBoxSize=n,rj(this._boundingBox.style,i)}_resetBoundingBoxStyles(){rj(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rj(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();rj(n,this._getExactOverlayY(e,t,i)),rj(n,this._getExactOverlayX(e,t,i))}else n.position="static";let s="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),u&&(s+=`translateY(${u}px)`),n.transform=s.trim(),o.maxHeight&&(i?n.maxHeight=yT(o.maxHeight):r&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=yT(o.maxWidth):r&&(n.maxWidth="")),rj(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=yT(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=yT(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:qN(t,n),isOriginOutsideView:HN(t,n),isOverlayClipped:qN(e,n),isOverlayOutsideView:HN(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&bT(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof i.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function rj(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function oj(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(nj);return n&&"px"!==n?null:parseFloat(e)}return t||null}function sj(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class aj{constructor(t,e,n,i,r,o,s){this._preferredPositions=[],this._positionStrategy=new ij(n,i,r,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new GN(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const uj="cdk-global-overlay-wrapper";class cj{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(uj),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:o,maxHeight:s}=n,a=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==r&&"100vh"!==r||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(uj),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let lj=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new cj}connectedTo(t,e,n){return new aj(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new ij(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(PN),i.Yb(s),i.Yb(CT),i.Yb(ZN))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(PN),Object(i.Yb)(s),Object(i.Yb)(CT),Object(i.Yb)(ZN))},token:t,providedIn:"root"}),t})(),hj=0,dj=(()=>{class t{constructor(t,e,n,i,r,o,s,a,u,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=o,this._ngZone=s,this._document=a,this._directionality=u,this._location=c,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new WN(t);return r.direction=r.direction||this._directionality.value,new tj(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+hj++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(i.g)),new qA(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(KN),i.Yb(ZN),i.Yb(i.j),i.Yb(lj),i.Yb(QN),i.Yb(i.s),i.Yb(i.A),i.Yb(s),i.Yb(ix),i.Yb(w),i.Yb(XN))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const fj=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],pj=new i.r("cdk-connected-overlay-scroll-strategy");let mj=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),gj=(()=>{class t{constructor(t,e,n,r,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Be.a.EMPTY,this._attachSubscription=Be.a.EMPTY,this._detachSubscription=Be.a.EMPTY,this._positionSubscription=Be.a.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new i.n,this.positionChange=new i.n,this.attach=new i.n,this.detach=new i.n,this.overlayKeydown=new i.n,this.overlayOutsideClick=new i.n,this._templatePortal=new UA(e,n),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=gT(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=gT(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=gT(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=gT(t)}get push(){return this._push}set push(t){this._push=gT(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=fj);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||this.disableClose||hT(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new WN({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new LN(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(dj),i.Ob(i.M),i.Ob(i.R),i.Ob(pj),i.Ob(ix,8))},t.\u0275dir=i.Jb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[i.Ab]}),t})();const vj={provide:pj,deps:[dj],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let bj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[dj,vj],imports:[[rx,KA,jN],jN]}),t})();const yj=["trigger"],_j=["panel"];function wj(t,e){if(1&t&&(i.Ub(0,"span",8),i.zc(1),i.Tb()),2&t){const t=i.dc();i.Cb(1),i.Ac(t.placeholder)}}function Cj(t,e){if(1&t&&(i.Ub(0,"span",12),i.zc(1),i.Tb()),2&t){const t=i.dc(2);i.Cb(1),i.Ac(t.triggerValue)}}function Oj(t,e){1&t&&i.ic(0,0,["*ngSwitchCase","true"])}function Ej(t,e){if(1&t&&(i.Ub(0,"span",9),i.yc(1,Cj,2,1,"span",10),i.yc(2,Oj,1,0,"ng-content",11),i.Tb()),2&t){const t=i.dc();i.kc("ngSwitch",!!t.customTrigger),i.Cb(2),i.kc("ngSwitchCase",!0)}}function Sj(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",13),i.Ub(1,"div",14,15),i.bc("@transformPanel.done",function(e){return i.rc(t),i.dc()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return i.rc(t),i.dc()._handleKeydown(e)}),i.ic(3,1),i.Tb(),i.Tb()}if(2&t){const t=i.dc();i.kc("@transformPanelWrap",void 0),i.Cb(1),i.Fb("mat-select-panel ",t._getPanelTheme(),""),i.vc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),i.kc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),i.Db("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const Tj=[[["mat-select-trigger"]],"*"],xj=["mat-select-trigger","*"],Ij={transformPanelWrap:ux("transformPanelWrap",[fx("* => void",mx("@transformPanel",[px()],{optional:!0}))]),transformPanel:ux("transformPanel",[dx("void",hx({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),dx("showing",hx({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),dx("showing-multiple",hx({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),fx("void => *",cx("120ms cubic-bezier(0, 0, 0.2, 1)")),fx("* => void",cx("100ms 25ms linear",hx({opacity:0})))])};let kj=0;const Aj=256,Dj=new i.r("mat-select-scroll-strategy"),Rj=new i.r("MAT_SELECT_CONFIG"),Pj={provide:Dj,deps:[dj],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class Nj{constructor(t,e){this.source=t,this.value=e}}class jj{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const Lj=eA(nA(Zk(iA(jj)))),Fj=new i.r("MatSelectTrigger");let Mj=(()=>{class t extends Lj{constructor(t,e,n,r,o,s,a,u,c,l,h,d,f,p){var m,g,v;super(o,r,a,u,l),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=c,this.ngControl=l,this._liveAnnouncer=f,this._defaultOptions=p,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+kj++,this._triggerAriaLabelledBy=null,this._destroy=new Mt.a,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+kj++,this._panelDoneAnimatingStream=new Mt.a,this._overlayPanelClass=(null===(m=this._defaultOptions)||void 0===m?void 0:m.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(v=null===(g=this._defaultOptions)||void 0===g?void 0:g.disableOptionCentering)&&void 0!==v&&v,this.ariaLabel="",this.optionSelectionChanges=re(()=>{const t=this.options;return t?t.changes.pipe(me(t),ue(()=>Object(DS.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(de(1),ue(()=>this.optionSelectionChanges))}),this.openedChange=new i.n,this._openedStream=this.openedChange.pipe(ye(t=>t),Object(se.a)(()=>{})),this._closedStream=this.openedChange.pipe(ye(t=>!t),Object(se.a)(()=>{})),this.selectionChange=new i.n,this.valueChange=new i.n,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==p?void 0:p.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=p.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=gT(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=gT(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=gT(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=vT(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new WR(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(SS(),WA(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(WA(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(me(null),WA(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,i=13===e||32===e,r=this._keyManager;if(!r.isTyping()&&i&&!hT(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;r.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=40===n||38===n,r=e.isTyping();if(i&&t.altKey)t.preventDefault(),this.close();else if(r||13!==n&&32!==n||!e.activeItem||hT(t))if(!r&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(de(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new LT(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(WA(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(WA(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(DS.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(WA(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(DS.a)(...this.options.map(t=>t._stateChanges)).pipe(WA(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(PN),i.Ob(i.h),i.Ob(i.A),i.Ob(rA),i.Ob(i.l),i.Ob(ix,8),i.Ob(Go,8),i.Ob(is,8),i.Ob(zP,8),i.Ob(go,10),i.Zb("tabindex"),i.Ob(Dj),i.Ob(KT),i.Ob(Rj,8))},t.\u0275dir=i.Jb({type:t,viewQuery:function(t,e){if(1&t&&(i.Dc(yj,1),i.Dc(_j,1),i.Dc(gj,1)),2&t){let t;i.oc(t=i.cc())&&(e.trigger=t.first),i.oc(t=i.cc())&&(e.panel=t.first),i.oc(t=i.cc())&&(e.overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[i.zb,i.Ab]}),t})(),Vj=(()=>{class t extends Mj{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(WA(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(de(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=kA(t,this.options,this.optionGroups),n=this._getItemHeight();var i,r,o;this.panel.nativeElement.scrollTop=(r=n,(i=(t+e)*n)<(o=this.panel.nativeElement.scrollTop)?i:i+r>o+256?Math.max(0,i-256+r):o)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new Nj(this,t)}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else if(this.disableOptionCentering)r=16;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}n||(r*=-1);const o=0-(t.left+r-(n?i:0)),s=t.right+r-e.width+(n?0:i);o>0?r+=o+8:s>0&&(r-=s+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,o=Math.floor(Aj/i);let s;return this.disableOptionCentering?0:(s=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-o))*i+(i-(this._getItemCount()*i-Aj)%i):e-i/2,Math.round(-1*s-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,Aj)-o-this._triggerRect.height;s>r?this._adjustPanelUp(s,r):o>i?this._adjustPanelDown(o,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,Aj),i=e*t-n;let r;r=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),r+=kA(r,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(r,o,i),this._offsetY=this._calculateOverlayOffsetY(r,o,i),this._checkOverlayWithinViewport(i)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(e){return Uj(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(i.Hb(n,Fj,1),i.Hb(n,IA,1),i.Hb(n,EA,1)),2&t){let t;i.oc(t=i.cc())&&(e.customTrigger=t.first),i.oc(t=i.cc())&&(e.options=t),i.oc(t=i.cc())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&i.bc("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(i.Db("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),i.Gb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[i.Bb([{provide:AP,useExisting:t},{provide:yA,useExisting:t}]),i.zb],ngContentSelectors:xj,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(i.jc(Tj),i.Ub(0,"div",0,1),i.bc("click",function(){return e.toggle()}),i.Ub(3,"div",2),i.yc(4,wj,2,1,"span",3),i.yc(5,Ej,3,2,"span",4),i.Tb(),i.Ub(6,"div",5),i.Pb(7,"div",6),i.Tb(),i.Tb(),i.yc(8,Sj,4,14,"ng-template",7),i.bc("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=i.pc(1);i.Db("aria-owns",e.panelOpen?e.id+"-panel":null),i.Cb(3),i.kc("ngSwitch",e.empty),i.Db("id",e._valueId),i.Cb(1),i.kc("ngSwitchCase",!0),i.Cb(1),i.kc("ngSwitchCase",!1),i.Cb(3),i.kc("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[mj,K,W,gj,G,F],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[Ij.transformPanelWrap,Ij.transformPanel]},changeDetection:0}),t})();const Uj=i.Wb(Vj);let Bj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[Pj],imports:[[tt,bj,AA,Jk],NN,WP,AA,Jk]}),t})();const Hj={leading:!0,trailing:!1};function qj(t,e=wS.a,n=Hj){return i=>i.lift(new zj(t,e,n.leading,n.trailing))}class zj{constructor(t,e,n,i){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=i}call(t,e){return e.subscribe(new Kj(t,this.duration,this.scheduler,this.leading,this.trailing))}}class Kj extends qt.a{constructor(t,e,n,i,r){super(t),this.duration=e,this.scheduler=n,this.leading=i,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Wj,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function Wj(t){const{subscriber:e}=t;e.clearThrottle()}var Gj=n("A/ap"),Yj=n.n(Gj);const $j=["tooltipTemplate"],Qj=["leftOuterSelectionBar"],Xj=["rightOuterSelectionBar"],Jj=["fullBar"],Zj=["selectionBar"],tL=["minHandle"],eL=["maxHandle"],nL=["floorLabel"],iL=["ceilLabel"],rL=["minHandleLabel"],oL=["maxHandleLabel"],sL=["combinedLabel"],aL=["ticksElement"];function uL(t,e){if(1&t&&i.Pb(0,"ngx-slider-tooltip-wrapper",31),2&t){const t=i.dc().$implicit,e=i.dc();i.kc("template",e.tooltipTemplate)("tooltip",t.valueTooltip)("placement",t.valueTooltipPlacement)("content",t.value)}}function cL(t,e){if(1&t&&i.Pb(0,"span",32),2&t){const t=i.dc().$implicit;i.kc("innerHTML",t.legend,i.sc)}}const lL=function(t){return{"ngx-slider-selected":t}};function hL(t,e){if(1&t&&(i.Ub(0,"span",27),i.Pb(1,"ngx-slider-tooltip-wrapper",28),i.yc(2,uL,1,4,"ngx-slider-tooltip-wrapper",29),i.yc(3,cL,1,1,"span",30),i.Tb()),2&t){const t=e.$implicit,n=i.dc();i.kc("ngClass",i.mc(7,lL,t.selected))("ngStyle",t.style),i.Cb(1),i.kc("template",n.tooltipTemplate)("tooltip",t.tooltip)("placement",t.tooltipPlacement),i.Cb(1),i.kc("ngIf",null!=t.value),i.Cb(1),i.kc("ngIf",null!=t.legend)}}function dL(t,e){}function fL(t,e){1&t&&i.yc(0,dL,0,0,"ng-template")}const pL=function(t,e,n){return{tooltip:t,placement:e,content:n}};function mL(t,e){if(1&t&&(i.Sb(0),i.yc(1,fL,1,0,void 0,1),i.Rb()),2&t){const t=i.dc();i.Cb(1),i.kc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",i.nc(2,pL,t.tooltip,t.placement,t.content))}}function gL(t,e){if(1&t&&(i.Sb(0),i.Ub(1,"div",2),i.zc(2),i.Tb(),i.Rb()),2&t){const t=i.dc();i.Cb(1),i.Db("title",t.tooltip)("data-tooltip-placement",t.placement),i.Cb(1),i.Bc(" ",t.content," ")}}const vL={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};vL[vL.Low]="Low",vL[vL.High]="High",vL[vL.Floor]="Floor",vL[vL.Ceil]="Ceil",vL[vL.TickValue]="TickValue";class bL{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.mouseEventsInterval=50,this.touchEventsInterval=50,this.inputEventsInterval=100,this.outputEventsInterval=100,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel=null,this.ariaLabelledBy=null,this.ariaLabelHigh=null,this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const yL={Min:0,Max:1};yL[yL.Min]="Min",yL[yL.Max]="Max";class _L{}class wL{static isNullOrUndefined(t){return null==t}static areArraysEqual(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}static linearValueToPosition(t,e,n){return(t-e)/(n-e)}static logValueToPosition(t,e,n){return((t=Math.log(t))-(e=Math.log(e)))/((n=Math.log(n))-e)}static linearPositionToValue(t,e,n){return t*(n-e)+e}static logPositionToValue(t,e,n){return e=Math.log(e),n=Math.log(n),Math.exp(t*(n-e)+e)}static findStepIndex(t,e){const n=e.map(e=>Math.abs(t-e.value));let i=0;for(let r=0;r<e.length;r++)n[r]!==n[i]&&n[r]<n[i]&&(i=r);return i}}class CL{static isTouchEvent(t){return void 0!==window.TouchEvent?t instanceof TouchEvent:void 0!==t.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class OL{static roundToPrecisionLimit(t,e){return+t.toPrecision(e)}static isModuloWithinPrecisionLimit(t,e,n){const i=Math.pow(10,-n);return Math.abs(t%e)<=i||Math.abs(Math.abs(t%e)-e)<=i}static clampToRange(t,e,n){return Math.min(Math.max(t,e),n)}}class EL{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class SL{constructor(t){this.renderer=t}attachPassiveEventListener(t,e,n,i){if(!0!==Yj.a.hasSupport)return this.attachEventListener(t,e,n,i);const r=new EL;r.eventName=e,r.events=new Mt.a;const o=t=>{r.events.next(t)};return t.addEventListener(e,o,{passive:!0,capture:!1}),r.teardownCallback=()=>{t.removeEventListener(e,o,{passive:!0,capture:!1})},r.eventsSubscription=r.events.pipe(wL.isNullOrUndefined(i)?Object(Ve.a)(()=>{}):qj(i,void 0,{leading:!0,trailing:!0})).subscribe(t=>{n(t)}),r}detachEventListener(t){wL.isNullOrUndefined(t.eventsSubscription)||(t.eventsSubscription.unsubscribe(),t.eventsSubscription=null),wL.isNullOrUndefined(t.events)||(t.events.complete(),t.events=null),wL.isNullOrUndefined(t.teardownCallback)||(t.teardownCallback(),t.teardownCallback=null)}attachEventListener(t,e,n,i){const r=new EL;return r.eventName=e,r.events=new Mt.a,r.teardownCallback=this.renderer.listen(t,e,t=>{r.events.next(t)}),r.eventsSubscription=r.events.pipe(wL.isNullOrUndefined(i)?Object(Ve.a)(()=>{}):qj(i,void 0,{leading:!0,trailing:!0})).subscribe(t=>{n(t)}),r}}let TL=(()=>{class t{constructor(t,e,n){this.elemRef=t,this.renderer=e,this.changeDetectionRef=n,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.eventListeners=[],this.eventListenerHelper=new SL(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}setAlwaysHide(t){this._alwaysHide=t,this.visibility=t?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(t){this._vertical=t,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(t){this._scale=t}setPosition(t){this._position===t||this.isRefDestroyed()||this.changeDetectionRef.markForCheck(),this._position=t,this._vertical?this.bottom=Math.round(t)+"px":this.left=Math.round(t)+"px"}calculateDimension(){const t=this.getBoundingClientRect();this._dimension=this.vertical?(t.bottom-t.top)*this.scale:(t.right-t.left)*this.scale}setDimension(t){this._dimension===t||this.isRefDestroyed()||this.changeDetectionRef.markForCheck(),this._dimension=t,this._vertical?this.height=Math.round(t)+"px":this.width=Math.round(t)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(t,e,n){const i=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,t,e,n);this.eventListeners.push(i)}onPassive(t,e,n){const i=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,t,e,n);this.eventListeners.push(i)}off(t){let e,n;wL.isNullOrUndefined(t)?(e=[],n=this.eventListeners):(e=this.eventListeners.filter(e=>e.eventName!==t),n=this.eventListeners.filter(e=>e.eventName===t));for(const i of n)this.eventListenerHelper.detachEventListener(i);this.eventListeners=e}isRefDestroyed(){return wL.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.F),i.Ob(i.h))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngxSliderElement",""]],hostVars:12,hostBindings:function(t,e){2&t&&i.vc("opacity",e.opacity)("visibility",e.visibility)("left",e.left)("bottom",e.bottom)("height",e.height)("width",e.width)}}),t})(),xL=(()=>{class t extends TL{constructor(t,e,n){super(t,e,n),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.F),i.Ob(i.h))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(t,e){2&t&&(i.Db("role",e.role)("tabindex",e.tabindex)("aria-orientation",e.ariaOrientation)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-valuenow",e.ariaValueNow)("aria-valuetext",e.ariaValueText)("aria-valuemin",e.ariaValueMin)("aria-valuemax",e.ariaValueMax),i.Gb("ngx-slider-active",e.active))},features:[i.zb]}),t})(),IL=(()=>{class t extends TL{constructor(t,e,n){super(t,e,n),this._value=null}get value(){return this._value}setValue(t){let e=!1;!this.alwaysHide&&(wL.isNullOrUndefined(this.value)||this.value.length!==t.length||this.value.length>0&&0===this.dimension)&&(e=!0),this._value=t,this.elemRef.nativeElement.innerHTML=t,e&&this.calculateDimension()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.F),i.Ob(i.h))},t.\u0275dir=i.Jb({type:t,selectors:[["","ngxSliderLabel",""]],features:[i.zb]}),t})();class kL{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class AL{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class DL{static compare(t,e){return!(wL.isNullOrUndefined(t)&&wL.isNullOrUndefined(e)||wL.isNullOrUndefined(t)!==wL.isNullOrUndefined(e)||t.value!==e.value||t.highValue!==e.highValue)}}class RL extends DL{static compare(t,e){return!(wL.isNullOrUndefined(t)&&wL.isNullOrUndefined(e)||wL.isNullOrUndefined(t)!==wL.isNullOrUndefined(e)||t.value!==e.value||t.highValue!==e.highValue||t.forceChange!==e.forceChange)}}const PL={provide:Hr,useExisting:Object(i.V)(()=>NL),multi:!0};let NL=(()=>{class t{constructor(t,e,n,r){this.renderer=t,this.elementRef=e,this.changeDetectionRef=n,this.zone=r,this.value=null,this.valueChange=new i.n,this.highValue=null,this.highValueChange=new i.n,this.options=new bL,this.userChangeStart=new i.n,this.userChange=new i.n,this.userChangeEnd=new i.n,this.initHasRun=!1,this.inputModelChangeSubject=new Mt.a,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new Mt.a,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new bL,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new AL,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new SL(this.renderer)}set manualRefresh(t){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=t.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(t){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=t.subscribe(t=>{this.focusPointer(t)})}get range(){return!wL.isNullOrUndefined(this.value)&&!wL.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new bL,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval),this.subscribeOutputModelChangeSubject(this.viewOptions.outputEventsInterval),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(t){wL.isNullOrUndefined(t.options)||this.onChangeOptions(),wL.isNullOrUndefined(t.value)&&wL.isNullOrUndefined(t.highValue)||this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(t){t instanceof Array?(this.value=t[0],this.highValue=t[1]):this.value=t,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.viewOptions.disabled=t,this.updateDisabledState()}onResize(t){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(t){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(SS(RL.compare),ye(t=>!t.forceChange&&!t.internalChange),wL.isNullOrUndefined(t)?Object(Ve.a)(()=>{}):qj(t,void 0,{leading:!0,trailing:!0})).subscribe(t=>this.applyInputModelChange(t))}subscribeOutputModelChangeSubject(t){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(SS(RL.compare),wL.isNullOrUndefined(t)?Object(Ve.a)(()=>{}):qj(t,void 0,{leading:!0,trailing:!0})).subscribe(t=>this.publishOutputModelChange(t))}subscribeResizeObserver(){CL.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){CL.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){wL.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){wL.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){wL.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){wL.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){wL.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){wL.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(t){return t===yL.Min?this.minHandleElement:t===yL.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===yL.Min?this.viewLowValue:this.currentTrackingPointer===yL.Max?this.viewHighValue:null}modelValueToViewValue(t){return wL.isNullOrUndefined(t)?NaN:wL.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+t:wL.findStepIndex(+t,this.viewOptions.stepsArray)}viewValueToModelValue(t){return wL.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?t:this.getStepValue(t)}getStepValue(t){const e=this.viewOptions.stepsArray[t];return wL.isNullOrUndefined(e)?NaN:e.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(t){const e=this.normaliseModelValues(t),n=!DL.compare(t,e);n&&(this.value=e.value,this.highValue=e.highValue),this.viewLowValue=this.modelValueToViewValue(e.value),this.viewHighValue=this.range?this.modelValueToViewValue(e.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:e.value,highValue:e.highValue,forceChange:n,userEventInitiated:!1})}publishOutputModelChange(t){const e=()=>{this.valueChange.emit(t.value),this.range&&this.highValueChange.emit(t.highValue),wL.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[t.value,t.highValue]:t.value),wL.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[t.value,t.highValue]:t.value)};t.userEventInitiated?(e(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{e()})}normaliseModelValues(t){const e=new DL;if(e.value=t.value,e.highValue=t.highValue,!wL.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const t=wL.findStepIndex(e.value,this.viewOptions.stepsArray);if(e.value=this.viewOptions.stepsArray[t].value,this.range){const t=wL.findStepIndex(e.highValue,this.viewOptions.stepsArray);e.highValue=this.viewOptions.stepsArray[t].value}}return e}if(this.viewOptions.enforceStep&&(e.value=this.roundStep(e.value),this.range&&(e.highValue=this.roundStep(e.highValue))),this.viewOptions.enforceRange&&(e.value=OL.clampToRange(e.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(e.highValue=OL.clampToRange(e.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&t.value>t.highValue))if(this.viewOptions.noSwitching)e.value=e.highValue;else{const n=t.value;e.value=t.highValue,e.highValue=n}return e}renormaliseModelValues(){const t={value:this.value,highValue:this.highValue},e=this.normaliseModelValues(t);DL.compare(e,t)||(this.value=e.value,this.highValue=e.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const t=this.viewOptions.inputEventsInterval,e=this.viewOptions.outputEventsInterval,n=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const i=this.getOptionsInfluencingEventBindings(this.viewOptions),r=!wL.areArraysEqual(n,i);t!==this.viewOptions.inputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval)),e!==this.viewOptions.outputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.outputEventsInterval)),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(r)}applyOptions(){if(this.viewOptions=new bL,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!wL.isNullOrUndefined(this.viewOptions.ticksArray),!this.viewOptions.showTicks||wL.isNullOrUndefined(this.viewOptions.tickStep)&&wL.isNullOrUndefined(this.viewOptions.ticksArray)||(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!wL.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),wL.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),wL.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(t,e)=>t+" - "+e),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,wL.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=t=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(t):t))}applyFloorCeilOptions(){if(wL.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),wL.isNullOrUndefined(this.viewOptions.ceil)||wL.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,wL.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=t=>String(t))}resetSlider(t=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),t&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(t){t!==yL.Min&&t!==yL.Max&&(t=yL.Min),t===yL.Min?this.minHandleElement.focus():this.range&&t===yL.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){wL.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const t=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(t||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(t||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(t||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate})}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const t of this.getAllSliderElements())wL.isNullOrUndefined(t)||t.setVertical(this.viewOptions.vertical)}updateScale(){for(const t of this.getAllSliderElements())t.setScale(this.viewOptions.scale)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",wL.isNullOrUndefined(this.viewOptions.ariaLabel)?wL.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",wL.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?wL.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,vL.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,vL.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){wL.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const t=this.minHandleElement.dimension;this.handleHalfDimension=t/2,wL.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-t,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const t=wL.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,e=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&t.reverse();const n=wL.isNullOrUndefined(this.viewOptions.tickValueStep)?wL.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let i=!1;const r=t.map(t=>{let r=this.valueToPosition(t);this.viewOptions.vertical&&(r=this.maxHandlePosition-r);const o=e+"("+Math.round(r)+"px)",s=new kL;s.selected=this.isTickSelected(t),s.style={"-webkit-transform":o,"-moz-transform":o,"-o-transform":o,"-ms-transform":o,transform:o},s.selected&&!wL.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(s.style["background-color"]=this.getSelectionBarColor()),s.selected||wL.isNullOrUndefined(this.viewOptions.getTickColor)||(s.style["background-color"]=this.getTickColor(t)),wL.isNullOrUndefined(this.viewOptions.ticksTooltip)||(s.tooltip=this.viewOptions.ticksTooltip(t),s.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!wL.isNullOrUndefined(n)&&OL.isModuloWithinPrecisionLimit(t,n,this.viewOptions.precisionLimit)&&(s.value=this.getDisplayValue(t,vL.TickValue),wL.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(s.valueTooltip=this.viewOptions.ticksValuesTooltip(t),s.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let a=null;if(wL.isNullOrUndefined(this.viewOptions.stepsArray))wL.isNullOrUndefined(this.viewOptions.getLegend)||(a=this.viewOptions.getLegend(t));else{const e=this.viewOptions.stepsArray[t];wL.isNullOrUndefined(e)||(a=e.legend)}return wL.isNullOrUndefined(a)||(s.legend=a,i=!0),s});if(setTimeout(()=>{this.sliderElementWithLegendClass=i}),wL.isNullOrUndefined(this.ticks)||this.ticks.length!==r.length)this.ticks=r;else for(let o=0;o<r.length;++o)Object.assign(this.ticks[o],r[o]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const t=wL.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,e=[],n=1+Math.floor(OL.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/t,this.viewOptions.precisionLimit));for(let i=0;i<n;++i)e.push(OL.roundToPrecisionLimit(this.viewOptions.floor+t*i,this.viewOptions.precisionLimit));return e}isTickSelected(t){if(!this.range)if(wL.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(t>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&t<=this.viewLowValue)return!0}else{const e=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>e&&t>=e&&t<=this.viewLowValue)return!0;if(this.viewLowValue<e&&t<=e&&t>=this.viewLowValue)return!0}return!!(this.range&&t>=this.viewLowValue&&t<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,vL.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,vL.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(t,e){t===yL.Min?this.updateLowHandle(e):t===yL.Max&&this.updateHighHandle(e),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(t,e){const n=t===yL.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,i=e-n/2+this.handleHalfDimension,r=this.fullBarElement.dimension-n;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&t===yL.Min||!this.viewOptions.rightToLeft&&t===yL.Max?Math.min(i,r):Math.min(Math.max(i,0),r):i}updateLowHandle(t){this.minHandleElement.setPosition(t),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,vL.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(yL.Min,t)),wL.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(yL.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(t){this.maxHandleElement.setPosition(t),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,vL.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(yL.Max,t)),wL.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(yL.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let t=!1,e=!1;const n=this.isLabelBelowFloorLabel(this.minHandleLabelElement),i=this.isLabelAboveCeilLabel(this.minHandleLabelElement),r=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),o=this.isLabelBelowFloorLabel(this.combinedLabelElement),s=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(n?(t=!0,this.floorLabelElement.hide()):(t=!1,this.floorLabelElement.show()),i?(e=!0,this.ceilLabelElement.hide()):(e=!1,this.ceilLabelElement.show()),this.range){const i=this.combinedLabelElement.isVisible()?s:r,a=this.combinedLabelElement.isVisible()?o:n;i?this.ceilLabelElement.hide():e||this.ceilLabelElement.show(),a?this.floorLabelElement.hide():t||this.floorLabelElement.show()}}isLabelBelowFloorLabel(t){const e=t.position,n=this.floorLabelElement.position;return this.viewOptions.rightToLeft?e+t.dimension>=n-2:e<=n+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(t){const e=t.position,n=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?e<=n+this.ceilLabelElement.dimension+2:e+t.dimension>=n-2}updateSelectionBar(){let t=0,e=0;const n=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,i=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)e=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),t=i;else if(wL.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))n?(e=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),t=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(e=this.minHandleElement.position+this.handleHalfDimension,t=0);else{const n=this.viewOptions.showSelectionBarFromValue,i=this.valueToPosition(n);(this.viewOptions.rightToLeft?this.viewLowValue<=n:this.viewLowValue>n)?(e=this.minHandleElement.position-i,t=i+this.handleHalfDimension):(e=i-this.minHandleElement.position,t=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(e),this.selectionBarElement.setPosition(t),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(t),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+e)),this.leftOuterSelectionBarElement.setPosition(t+e)):(this.leftOuterSelectionBarElement.setDimension(t),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+e)),this.rightOuterSelectionBarElement.setPosition(t+e))),wL.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!wL.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const i=wL.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),r=i-t>0&&!n||i-t<=0&&n;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?r?"bottom":"top":r?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(i+e+t+(r?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=i-t+(r?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const t=this.getSelectionBarColor();this.barStyle={backgroundColor:t}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(t){return this.viewOptions.getPointerColor(t===yL.Max?this.highValue:this.value,t)}getTickColor(t){return this.viewOptions.getTickColor(t)}updateCombinedLabel(){let t=null;if(t=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,t){const t=this.getDisplayValue(this.viewLowValue,vL.Low),e=this.getDisplayValue(this.viewHighValue,vL.High),n=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(e,t):this.viewOptions.combineLabels(t,e);this.combinedLabelElement.setValue(n);const i=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(i),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(t,e){return wL.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray||(t=this.getStepValue(t)),this.viewOptions.translate(t,e)}roundStep(t,e){const n=wL.isNullOrUndefined(e)?this.viewOptions.step:e;let i=OL.roundToPrecisionLimit((t-this.viewOptions.floor)/n,this.viewOptions.precisionLimit);return i=Math.round(i)*n,OL.roundToPrecisionLimit(this.viewOptions.floor+i,this.viewOptions.precisionLimit)}valueToPosition(t){let e=wL.linearValueToPosition;wL.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(e=wL.logValueToPosition):e=this.viewOptions.customValueToPosition;let n=e(t=OL.clampToRange(t,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return wL.isNullOrUndefined(n)&&(n=0),this.viewOptions.rightToLeft&&(n=1-n),n*this.maxHandlePosition}positionToValue(t){let e=t/this.maxHandlePosition;this.viewOptions.rightToLeft&&(e=1-e);let n=wL.linearPositionToValue;wL.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(n=wL.logPositionToValue):n=this.viewOptions.customPositionToValue;const i=n(e,this.viewOptions.floor,this.viewOptions.ceil);return wL.isNullOrUndefined(i)?0:i}getEventXY(t,e){if(t instanceof MouseEvent)return this.viewOptions.vertical?t.clientY:t.clientX;let n=0;const i=t.touches;if(!wL.isNullOrUndefined(e))for(let r=0;r<i.length;r++)if(i[r].identifier===e){n=r;break}return this.viewOptions.vertical?i[n].clientY:i[n].clientX}getEventPosition(t,e){const n=this.elementRef.nativeElement.getBoundingClientRect(),i=this.viewOptions.vertical?n.bottom:n.left;let r=0;return r=this.viewOptions.vertical?-this.getEventXY(t,e)+i:this.getEventXY(t,e)-i,r*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(t){if(!this.range)return yL.Min;const e=this.getEventPosition(t),n=Math.abs(e-this.minHandleElement.position),i=Math.abs(e-this.maxHandleElement.position);return n<i?yL.Min:n>i?yL.Max:this.viewOptions.rightToLeft?e>this.minHandleElement.position?yL.Min:yL.Max:e<this.minHandleElement.position?yL.Min:yL.Max}bindEvents(){const t=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",e=>this.onBarStart(null,t,e,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",e=>this.onBarStart(yL.Min,t,e,!0,!0)),this.maxHandleElement.on("mousedown",e=>this.onBarStart(yL.Max,t,e,!0,!0))):(this.minHandleElement.on("mousedown",t=>this.onStart(yL.Min,t,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",t=>this.onStart(yL.Max,t,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",t=>this.onStart(null,t,!0,!0,!0)),this.ticksElement.on("mousedown",t=>this.onStart(null,t,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",e=>this.onBarStart(null,t,e,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",e=>this.onBarStart(yL.Min,t,e,!0,!0)),this.maxHandleElement.onPassive("touchstart",e=>this.onBarStart(yL.Max,t,e,!0,!0))):(this.minHandleElement.onPassive("touchstart",t=>this.onStart(yL.Min,t,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",t=>this.onStart(yL.Max,t,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",t=>this.onStart(null,t,!0,!0,!0)),this.ticksElement.onPassive("touchstart",t=>this.onStart(null,t,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(yL.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(yL.Max)))}getOptionsInfluencingEventBindings(t){return[t.disabled,t.readOnly,t.draggableRange,t.draggableRangeOnly,t.onlyBindHandles,t.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const t of this.getAllSliderElements())wL.isNullOrUndefined(t)||t.off()}onBarStart(t,e,n,i,r,o,s){e?this.onDragStart(t,n,i,r):this.onStart(t,n,i,r,o,s)}onStart(t,e,n,i,r,o){e.stopPropagation(),CL.isTouchEvent(e)&&Yj.a.hasSupport||e.preventDefault(),this.moving=!1,this.calculateViewDimensions(),wL.isNullOrUndefined(t)&&(t=this.getNearestHandle(e)),this.currentTrackingPointer=t;const s=this.getPointerElement(t);if(s.active=!0,this.viewOptions.keyboardSupport&&s.focus(),n){this.unsubscribeOnMove();const t=t=>this.dragging.active?this.onDragMove(t):this.onMove(t);this.onMoveEventListener=CL.isTouchEvent(e)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",t,this.viewOptions.touchEventsInterval):this.eventListenerHelper.attachEventListener(document,"mousemove",t,this.viewOptions.mouseEventsInterval)}if(i){this.unsubscribeOnEnd();const t=t=>this.onEnd(t);this.onEndEventListener=CL.isTouchEvent(e)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",t):this.eventListenerHelper.attachEventListener(document,"mouseup",t)}this.userChangeStart.emit(this.getChangeContext()),CL.isTouchEvent(e)&&!wL.isNullOrUndefined(e.changedTouches)&&wL.isNullOrUndefined(this.touchId)&&(this.touchId=e.changedTouches[0].identifier),r&&this.onMove(e,!0),o&&this.onEnd(e)}onMove(t,e){let n=null;if(CL.isTouchEvent(t)){const e=t.changedTouches;for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchId){n=e[t];break}if(wL.isNullOrUndefined(n))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const i=wL.isNullOrUndefined(n)?this.getEventPosition(t):this.getEventPosition(t,n.identifier);let r;i<=0?r=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:i>=this.maxHandlePosition?r=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(r=this.positionToValue(i),r=e&&!wL.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(r,this.viewOptions.tickStep):this.roundStep(r)),this.positionTrackingHandle(r)}onEnd(t){CL.isTouchEvent(t)&&t.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(t){const e=this.getPointerElement(t);e.on("blur",()=>this.onPointerBlur(e)),e.on("keydown",t=>this.onKeyboardEvent(t)),e.on("keyup",()=>this.onKeyUp()),e.active=!0,this.currentTrackingPointer=t,this.currentFocusPointer=t,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(t){t.off("blur"),t.off("keydown"),t.off("keyup"),t.active=!1,wL.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(t){const e=this.viewOptions.ceil-this.viewOptions.floor;let n=t+this.viewOptions.step,i=t-this.viewOptions.step,r=t+e/10,o=t-e/10;this.viewOptions.reversedControls&&(n=t-this.viewOptions.step,i=t+this.viewOptions.step,r=t-e/10,o=t+e/10);const s={UP:n,DOWN:i,LEFT:i,RIGHT:n,PAGEUP:r,PAGEDOWN:o,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(s.LEFT=n,s.RIGHT=i,this.viewOptions.vertical&&(s.UP=i,s.DOWN=n)),s}onKeyboardEvent(t){const e=this.getCurrentTrackingValue(),n=wL.isNullOrUndefined(t.keyCode)?t.which:t.keyCode,i=this.getKeyActions(e)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[n]];if(wL.isNullOrUndefined(i)||wL.isNullOrUndefined(this.currentTrackingPointer))return;t.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const r=OL.clampToRange(i,this.viewOptions.floor,this.viewOptions.ceil),o=this.roundStep(r);if(this.viewOptions.draggableRangeOnly){const t=this.viewHighValue-this.viewLowValue;let e,n;this.currentTrackingPointer===yL.Min?(e=o,n=o+t,n>this.viewOptions.ceil&&(n=this.viewOptions.ceil,e=n-t)):this.currentTrackingPointer===yL.Max&&(n=o,e=o-t,e<this.viewOptions.floor&&(e=this.viewOptions.floor,n=e+t)),this.positionTrackingBar(e,n)}else this.positionTrackingHandle(o)}onDragStart(t,e,n,i){const r=this.getEventPosition(e);this.dragging=new AL,this.dragging.active=!0,this.dragging.value=this.positionToValue(r),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-r:r-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?r-this.maxHandleElement.position:this.maxHandleElement.position-r,this.onStart(t,e,n,i)}getMinValue(t,e,n){const i=this.viewOptions.rightToLeft;let r=null;return r=e?n?i?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:i?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(i?t+this.dragging.lowLimit:t-this.dragging.lowLimit),this.roundStep(r)}getMaxValue(t,e,n){const i=this.viewOptions.rightToLeft;let r=null;return r=e?n?i?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:i?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:i?this.positionToValue(t+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(t-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(r)}onDragMove(t){const e=this.getEventPosition(t);let n,i,r,o;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(n=this.dragging.lowLimit,i=this.dragging.highLimit,r=this.maxHandleElement,o=this.minHandleElement):(n=this.dragging.highLimit,i=this.dragging.lowLimit,r=this.minHandleElement,o=this.maxHandleElement);const s=e>=this.maxHandlePosition-n;let a,u;if(e<=i){if(0===r.position)return;a=this.getMinValue(e,!0,!1),u=this.getMaxValue(e,!0,!1)}else if(s){if(o.position===this.maxHandlePosition)return;u=this.getMaxValue(e,!0,!0),a=this.getMinValue(e,!0,!0)}else a=this.getMinValue(e,!1,!1),u=this.getMaxValue(e,!1,!1);this.positionTrackingBar(a,u)}positionTrackingBar(t,e){!wL.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit&&(e=OL.roundToPrecisionLimit((t=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!wL.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit&&(t=OL.roundToPrecisionLimit((e=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=t,this.viewHighValue=e,this.applyViewChange(),this.updateHandles(yL.Min,this.valueToPosition(t)),this.updateHandles(yL.Max,this.valueToPosition(e))}positionTrackingHandle(t){t=this.applyMinMaxLimit(t),this.range&&(this.viewOptions.pushRange?t=this.applyPushRange(t):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===yL.Min&&t>this.viewHighValue?t=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===yL.Max&&t<this.viewLowValue&&(t=this.applyMinMaxRange(this.viewLowValue))),t=this.applyMinMaxRange(t),this.currentTrackingPointer===yL.Min&&t>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(yL.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=yL.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===yL.Max&&t<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(yL.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=yL.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==t&&(this.currentTrackingPointer===yL.Min?(this.viewLowValue=t,this.applyViewChange()):this.currentTrackingPointer===yL.Max&&(this.viewHighValue=t,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(t)),this.updateAriaAttributes())}applyMinMaxLimit(t){return!wL.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit?this.viewOptions.minLimit:!wL.isNullOrUndefined(this.viewOptions.maxLimit)&&t>this.viewOptions.maxLimit?this.viewOptions.maxLimit:t}applyMinMaxRange(t){const e=Math.abs(t-(this.currentTrackingPointer===yL.Min?this.viewHighValue:this.viewLowValue));if(!wL.isNullOrUndefined(this.viewOptions.minRange)&&e<this.viewOptions.minRange){if(this.currentTrackingPointer===yL.Min)return OL.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===yL.Max)return OL.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!wL.isNullOrUndefined(this.viewOptions.maxRange)&&e>this.viewOptions.maxRange){if(this.currentTrackingPointer===yL.Min)return OL.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===yL.Max)return OL.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return t}applyPushRange(t){const e=this.currentTrackingPointer===yL.Min?this.viewHighValue-t:t-this.viewLowValue,n=wL.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,i=this.viewOptions.maxRange;return e<n?(this.currentTrackingPointer===yL.Min?(this.viewHighValue=OL.roundToPrecisionLimit(Math.min(t+n,this.viewOptions.ceil),this.viewOptions.precisionLimit),t=OL.roundToPrecisionLimit(this.viewHighValue-n,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(yL.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===yL.Max&&(this.viewLowValue=OL.roundToPrecisionLimit(Math.max(t-n,this.viewOptions.floor),this.viewOptions.precisionLimit),t=OL.roundToPrecisionLimit(this.viewLowValue+n,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(yL.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!wL.isNullOrUndefined(i)&&e>i&&(this.currentTrackingPointer===yL.Min?(this.viewHighValue=OL.roundToPrecisionLimit(t+i,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(yL.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===yL.Max&&(this.viewLowValue=OL.roundToPrecisionLimit(t-i,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(yL.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),t}getChangeContext(){const t=new _L;return t.pointerType=this.currentTrackingPointer,t.value=+this.value,this.range&&(t.highValue=+this.highValue),t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.F),i.Ob(i.l),i.Ob(i.h),i.Ob(i.A))},t.\u0275cmp=i.Ib({type:t,selectors:[["ngx-slider"]],contentQueries:function(t,e,n){if(1&t&&i.Hb(n,$j,1),2&t){let t;i.oc(t=i.cc())&&(e.tooltipTemplate=t.first)}},viewQuery:function(t,e){if(1&t&&(i.Dc(Qj,1,TL),i.Dc(Xj,1,TL),i.Dc(Jj,1,TL),i.Dc(Zj,1,TL),i.Dc(tL,1,xL),i.Dc(eL,1,xL),i.Dc(nL,1,IL),i.Dc(iL,1,IL),i.Dc(rL,1,IL),i.Dc(oL,1,IL),i.Dc(sL,1,IL),i.Dc(aL,1,TL)),2&t){let t;i.oc(t=i.cc())&&(e.leftOuterSelectionBarElement=t.first),i.oc(t=i.cc())&&(e.rightOuterSelectionBarElement=t.first),i.oc(t=i.cc())&&(e.fullBarElement=t.first),i.oc(t=i.cc())&&(e.selectionBarElement=t.first),i.oc(t=i.cc())&&(e.minHandleElement=t.first),i.oc(t=i.cc())&&(e.maxHandleElement=t.first),i.oc(t=i.cc())&&(e.floorLabelElement=t.first),i.oc(t=i.cc())&&(e.ceilLabelElement=t.first),i.oc(t=i.cc())&&(e.minHandleLabelElement=t.first),i.oc(t=i.cc())&&(e.maxHandleLabelElement=t.first),i.oc(t=i.cc())&&(e.combinedLabelElement=t.first),i.oc(t=i.cc())&&(e.ticksElement=t.first)}},hostAttrs:[1,"ngx-slider"],hostVars:7,hostBindings:function(t,e){1&t&&i.bc("resize",function(t){return e.onResize(t)},!1,i.qc),2&t&&(i.Db("disabled",e.sliderElementDisabledAttr),i.Gb("vertical",e.sliderElementVerticalClass)("animate",e.sliderElementAnimateClass)("with-legend",e.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[i.Bb([PL]),i.Ab],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(t,e){1&t&&(i.Ub(0,"span",0,1),i.Pb(2,"span",2),i.Tb(),i.Ub(3,"span",3,4),i.Pb(5,"span",2),i.Tb(),i.Ub(6,"span",5,6),i.Pb(8,"span",2),i.Tb(),i.Ub(9,"span",7,8),i.Pb(11,"span",9),i.Tb(),i.Pb(12,"span",10,11),i.Pb(14,"span",12,13),i.Pb(16,"span",14,15),i.Pb(18,"span",16,17),i.Pb(20,"span",18,19),i.Pb(22,"span",20,21),i.Pb(24,"span",22,23),i.Ub(26,"span",24,25),i.yc(28,hL,4,9,"span",26),i.Tb()),2&t&&(i.Cb(6),i.Gb("ngx-slider-transparent",e.fullBarTransparentClass),i.Cb(3),i.Gb("ngx-slider-draggable",e.selectionBarDraggableClass),i.Cb(2),i.kc("ngStyle",e.barStyle),i.Cb(1),i.kc("ngStyle",e.minPointerStyle),i.Cb(2),i.vc("display",e.range?"inherit":"none"),i.kc("ngStyle",e.maxPointerStyle),i.Cb(12),i.Gb("ngx-slider-ticks-values-under",e.ticksUnderValuesClass),i.kc("hidden",!e.showTicks),i.Cb(2),i.kc("ngForOf",e.ticks))},directives:function(){return[TL,Y,xL,IL,V,F,jL,B]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),t})(),jL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(t,e){1&t&&(i.yc(0,mL,2,6,"ng-container",0),i.yc(1,gL,3,3,"ng-container",0)),2&t&&(i.kc("ngIf",e.template),i.Cb(1),i.kc("ngIf",!e.template))},directives:[B,$],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),t})(),LL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[tt]]}),t})();function FL(t,e){if(1&t&&(i.Ub(0,"mat-option",7),i.zc(1),i.ec(2,"titlecase"),i.Tb()),2&t){const t=e.$implicit;i.kc("value",t),i.Cb(1),i.Bc(" ",i.fc(2,2,t)," ")}}function ML(t,e){if(1&t&&(i.Ub(0,"mat-option",7),i.zc(1),i.ec(2,"titlecase"),i.Tb()),2&t){const t=e.$implicit;i.kc("value",t),i.Cb(1),i.Bc(" ",i.fc(2,2,t)," ")}}let VL=(()=>{class t{constructor(){this.colores=["todos","rojo","azul","negro","marron","bordo","blanco","verde"],this.tipos=["todos","billetera","bolso","neceser"],this.filtrarProductos=new i.n,this.value=0,this.highValue=100,this.filtro={precio:{precioMaximo:this.highValue,precioMinimo:this.value},texto:"",color:"todos",tipo:"todos"},this.options={floor:0,ceil:200}}ngOnInit(){this.filtro.precio.precioMaximo=localStorage.getItem("precioMaximo")?parseInt(localStorage.getItem("precioMaximo")):this.highValue,this.highValue=this.filtro.precio.precioMaximo,this.filtro.precio.precioMinimo=localStorage.getItem("precioMinimo")?parseInt(localStorage.getItem("precioMinimo")):this.value,this.value=this.filtro.precio.precioMinimo,this.filtro.texto=localStorage.getItem("texto")?localStorage.getItem("texto"):this.filtro.texto,this.texto=this.filtro.texto,this.filtro.color=localStorage.getItem("color")?localStorage.getItem("color"):this.filtro.color,this.filtro.tipo=localStorage.getItem("tipo")?localStorage.getItem("tipo"):this.filtro.tipo,console.log("PRECIO CARGADO",this.filtro)}changeSlideUperPrice(t){console.log("EV",t),this.filtro.precio.precioMaximo=t,this.filtrarProductos.emit(this.filtro),localStorage.setItem("precioMaximo",this.filtro.precio.precioMaximo.toString())}changeSlideLowerPrice(t){console.log("ev",t),this.filtro.precio.precioMinimo=t,this.filtrarProductos.emit(this.filtro),localStorage.setItem("precioMinimo",this.filtro.precio.precioMinimo.toString())}changeColor(t){console.log("color",t.value),this.filtro.color=t.value,this.filtrarProductos.emit(this.filtro),localStorage.setItem("color",this.filtro.color)}changeProductType(t){console.log("product type",t.value),this.filtro.tipo=t.value,this.filtrarProductos.emit(this.filtro),localStorage.setItem("tipo",this.filtro.tipo)}changeText(t){this.filtro.texto=this.texto,this.filtrarProductos.emit(this.filtro),localStorage.setItem("texto",this.texto)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["app-filtros"]],outputs:{filtrarProductos:"filtrarProductos"},decls:20,vars:8,consts:[["appearance","legacy"],["matInput","","placeholder","Texto",3,"ngModel","ngModelChange","keyup"],["matSuffix",""],["appearance","fill"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value","highValue","options","highValueChange","valueChange"],[3,"value"]],template:function(t,e){1&t&&(i.Ub(0,"div"),i.Ub(1,"mat-form-field",0),i.Ub(2,"mat-label"),i.zc(3,"Texto"),i.Tb(),i.Ub(4,"input",1),i.bc("ngModelChange",function(t){return e.texto=t})("keyup",function(t){return e.changeText(t)}),i.Tb(),i.Ub(5,"mat-icon",2),i.zc(6,"sentiment_very_satisfied"),i.Tb(),i.Ub(7,"mat-hint"),i.zc(8,"Texto a filtrar"),i.Tb(),i.Tb(),i.Ub(9,"mat-form-field",3),i.Ub(10,"mat-label"),i.zc(11,"Colores"),i.Tb(),i.Ub(12,"mat-select",4),i.bc("ngModelChange",function(t){return e.filtro.color=t})("selectionChange",function(t){return e.changeColor(t)}),i.yc(13,FL,3,4,"mat-option",5),i.Tb(),i.Tb(),i.Ub(14,"mat-form-field",3),i.Ub(15,"mat-label"),i.zc(16,"Tipo de Producto"),i.Tb(),i.Ub(17,"mat-select",4),i.bc("ngModelChange",function(t){return e.filtro.tipo=t})("selectionChange",function(t){return e.changeProductType(t)}),i.yc(18,ML,3,4,"mat-option",5),i.Tb(),i.Tb(),i.Ub(19,"ngx-slider",6),i.bc("highValueChange",function(t){return e.changeSlideUperPrice(t)})("valueChange",function(t){return e.changeSlideLowerPrice(t)})("valueChange",function(t){return e.value=t})("highValueChange",function(t){return e.highValue=t}),i.Tb(),i.Tb()),2&t&&(i.Cb(4),i.kc("ngModel",e.texto),i.Cb(8),i.kc("ngModel",e.filtro.color),i.Cb(1),i.kc("ngForOf",e.colores),i.Cb(4),i.kc("ngModel",e.filtro.tipo),i.Cb(1),i.kc("ngForOf",e.tipos),i.Cb(1),i.kc("value",e.value)("highValue",e.highValue)("options",e.options))},directives:[KP,NP,EN,Kr,bo,Qo,iR,VP,PP,Vj,V,NL,IA],pipes:[J],styles:[""]}),t})();const UL=["*"],BL=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n";class HL{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(t=>this._trackTile(t))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new qL(this.rowIndex,e)}_findMatchingGap(t){let e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)))}while(n-e<t||0==n);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}}class qL{constructor(t,e){this.row=t,this.col=e}}const zL=new i.r("MAT_GRID_LIST");let KL=(()=>{class t{constructor(t,e){this._element=t,this._gridList=e,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(vT(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(vT(t))}_setStyle(t,e){this._element.nativeElement.style[t]=e}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(zL,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,e){2&t&&i.Db("rowspan",e.rowspan)("colspan",e.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:UL,decls:2,vars:0,consts:[[1,"mat-figure"]],template:function(t,e){1&t&&(i.jc(),i.Ub(0,"figure",0),i.ic(1),i.Tb())},styles:[BL],encapsulation:2,changeDetection:0}),t})();const WL=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class GL{constructor(){this._rows=0,this._rowspan=0}init(t,e,n,i){this._gutterSize=JL(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=i}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":XL(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,n){let i=100/this._cols,r=(this._cols-1)/this._cols;this.setColStyles(t,n,i,r),this.setRowStyles(t,e,i,r)}setColStyles(t,e,n,i){let r=this.getBaseTileSize(n,i);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(r,e)),t._setStyle("width",XL(this.getTileSize(r,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class YL extends GL{constructor(t){super(),this.fixedRowHeight=t}init(t,e,n,i){super.init(t,e,n,i),this.fixedRowHeight=JL(this.fixedRowHeight),WL.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",XL(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",XL(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class $L extends GL{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,n,i){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,i),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",XL(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",XL(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class QL extends GL{setRowStyles(t,e){let n=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(n,e)),t._setStyle("height",XL(this.getTileSize(n,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function XL(t){return`calc(${t})`}function JL(t){return t.match(/([A-Za-z%]+)$/)?t:`${t}px`}let ZL=(()=>{class t{constructor(t,e){this._element=t,this._dir=e,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(vT(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${null==t?"":t}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const e=`${null==t?"":t}`;e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new QL:t&&t.indexOf(":")>-1?new $L(t):new YL(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new HL);const t=this._tileCoordinator,e=this._tiles.filter(t=>!t._gridList||t._gridList===this),n=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,e),this._tileStyler.init(this.gutterSize,t,this.cols,n),e.forEach((e,n)=>{const i=t.positions[n];this._tileStyler.setStyle(e,i.row,i.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(ix,8))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-grid-list"]],contentQueries:function(t,e,n){if(1&t&&i.Hb(n,KL,1),2&t){let t;i.oc(t=i.cc())&&(e._tiles=t)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,e){2&t&&i.Db("cols",e.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[i.Bb([{provide:zL,useExisting:t}])],ngContentSelectors:UL,decls:2,vars:0,template:function(t,e){1&t&&(i.jc(),i.Ub(0,"div"),i.ic(1),i.Tb())},styles:[BL],encapsulation:2,changeDetection:0}),t})(),tF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[aA,Jk],aA,Jk]}),t})(),eF=(()=>{class t{transform(t,...e){const n=e[0];return"todos"===n?t.img[0]:`${t.url}_${n}.jpeg`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Nb({name:"mostrarColor",type:t,pure:!0}),t})(),nF=(()=>{class t{transform(t,...e){let n=t,i=e[0],r=e[1];return console.log("PARAMETROS DEL PIPE",{arrayDeElementosFavoritos:n,idProducto:i}),n.indexOf(i)>=0?r:!r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Nb({name:"comprobarSeleccionado",type:t,pure:!0}),t})();function iF(t,e){if(1&t){const t=i.Vb();i.Ub(0,"button",9),i.bc("click",function(){i.rc(t);const e=i.dc().$implicit;return i.dc().selectFavorite(e)}),i.Ub(1,"span",10),i.zc(2,"favorite_border"),i.Tb(),i.Tb()}}function rF(t,e){if(1&t){const t=i.Vb();i.Ub(0,"button",9),i.bc("click",function(){i.rc(t);const e=i.dc().$implicit;return i.dc().deselectFavorite(e)}),i.Ub(1,"mat-icon",11),i.zc(2,"favorite"),i.Tb(),i.Tb()}}function oF(t,e){if(1&t){const t=i.Vb();i.Ub(0,"mat-grid-tile"),i.Ub(1,"mat-card",3),i.Ub(2,"mat-card-header"),i.Ub(3,"mat-icon",4),i.zc(4,"heart"),i.Tb(),i.Pb(5,"div",5),i.Ub(6,"mat-card-title"),i.zc(7),i.Tb(),i.Tb(),i.Ub(8,"img",6),i.bc("click",function(){i.rc(t);const n=e.$implicit;return i.dc().navegar(n.url)}),i.ec(9,"mostrarColor"),i.Tb(),i.Ub(10,"mat-card-content"),i.yc(11,iF,3,0,"button",7),i.ec(12,"comprobarSeleccionado"),i.yc(13,rF,3,0,"button",7),i.ec(14,"comprobarSeleccionado"),i.Ub(15,"p"),i.zc(16),i.Tb(),i.Tb(),i.Ub(17,"mat-card-actions"),i.Ub(18,"button",8),i.zc(19,"LIKE"),i.Tb(),i.Ub(20,"button",8),i.zc(21,"SHARE"),i.Tb(),i.Tb(),i.Tb(),i.Tb()}if(2&t){const t=e.$implicit,n=i.dc();i.Cb(7),i.Ac(t.nombre),i.Cb(1),i.lc("src","/assets/img/",i.gc(9,5,t,n.colorSeleccionado)," ",i.tc),i.Cb(3),i.kc("ngIf",i.hc(12,8,n.elementosFavoritos,t.url,!1)),i.Cb(2),i.kc("ngIf",i.hc(14,12,n.elementosFavoritos,t.url,!0)),i.Cb(3),i.Bc(" ",t.descripcion," ")}}let sF=(()=>{class t{constructor(t,e,n,i){this.db=t,this.router=e,this.cestaServ=n,this.colorServ=i,this.mostrarFavorito=!0,this.colorSeleccionado="todos",this.productos=[],this.productosMostrar=[],this.elementosFavoritos=localStorage.getItem("elementosFavoritos")?localStorage.getItem("elementosFavoritos").split(","):[]}selectFavorite(t){this.mostrarFavorito=!this.mostrarFavorito,!(this.elementosFavoritos.indexOf(t.url)>=0)&&this.elementosFavoritos.push(t.url),this.elementosFavoritos=[...this.elementosFavoritos],localStorage.setItem("elementosFavoritos",this.elementosFavoritos.toString())}deselectFavorite(t){console.log("MOSTRAR FAVORITO antes",this.mostrarFavorito),this.mostrarFavorito=!this.mostrarFavorito,console.log("MOSTRAR FAVORITO despues",this.mostrarFavorito);const e=this.elementosFavoritos.indexOf(t.url);this.elementosFavoritos=[...this.elementosFavoritos],e>=0&&(console.log("INDEX"),this.elementosFavoritos.splice(e,1),localStorage.setItem("elementosFavoritos",this.elementosFavoritos.toString()))}comprobarSiEstaSeleccionado(t){return this.elementosFavoritos.indexOf(t.url)>=0}filtrarProductos(t){console.log("filtro que viene del hijo"),this.colorSeleccionado=t.color,this.colorServ.setColor(this.colorSeleccionado);const e=this.filtrarTexto(this.productos,t),n=this.filtrarPrecio(e,t),i=this.filtrarColor(n,t),r=this.filtrarTipo(i,t);this.productosMostrar=[...r]}filtrarTexto(t,e){const n=e.texto;return n?t.filter(t=>t.nombre.toLowerCase().trim().includes(n.toLowerCase().trim())):t}filtrarPrecio(t,e){console.log("FILTRO PRECIO",e);const n=e.precio.precioMaximo,i=e.precio.precioMinimo;return t.filter(t=>{const e=this.cestaServ.precioFinal(t);return e>i&&e<n})}filtrarColor(t,e){const n=e.color;return n&&"todos"!==n?t.filter(t=>t.colores.includes(n)):t}filtrarTipo(t,e){const n=e.tipo;return n&&"todos"!==n?t.filter(t=>t.tipo===n):t}ngOnInit(){this.db.collection("productos").valueChanges().subscribe(t=>{this.productos=t,this.filtrarProductos({precio:{precioMaximo:localStorage.getItem("precioMaximo")?parseInt(localStorage.getItem("precioMaximo")):0,precioMinimo:localStorage.getItem("precioMinimo")?parseInt(localStorage.getItem("precioMinimo")):100},tipo:localStorage.getItem("tipo")?localStorage.getItem("tipo"):"todos",color:localStorage.getItem("color")?localStorage.getItem("color"):"todos",texto:localStorage.getItem("texto")?localStorage.getItem("texto"):null})})}navegar(t){console.log("navegar",t),this.router.navigate(["detalle-producto",t]),localStorage.setItem("colorDetalle",this.colorSeleccionado)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(uT),i.Ob(gr),i.Ob(lT),i.Ob(DN))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-productos"]],decls:4,vars:1,consts:[[3,"filtrarProductos"],["cols","4","rowHeight","1:1.5"],[4,"ngFor","ngForOf"],[1,"example-card"],["aria-hidden","false","aria-label","Example home icon"],["mat-card-avatar","",1,"example-header-image","mat-elevation-z4"],["mat-card-image","",3,"src","click"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-button",""],["mat-icon-button","",3,"click"],[1,"material-icons"],[1,"pink"]],template:function(t,e){1&t&&(i.Ub(0,"div"),i.Ub(1,"app-filtros",0),i.bc("filtrarProductos",function(t){return e.filtrarProductos(t)}),i.Tb(),i.Tb(),i.Ub(2,"mat-grid-list",1),i.yc(3,oF,22,16,"mat-grid-tile",2),i.Tb()),2&t&&(i.Cb(3),i.kc("ngForOf",e.productosMostrar))},directives:[VL,ZL,V,KL,qR,zR,iR,HR,VR,BR,MR,B,UR,LA],pipes:[eF,nF],styles:[".example-card[_ngcontent-%COMP%]{padding:2rem}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.pink[_ngcontent-%COMP%]{color:pink}"]}),t})();class aF{constructor(t){this.total=t}call(t,e){return e.subscribe(new uF(t,this.total))}}class uF extends qt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const cF=new Set;let lF,hF=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):dF}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!cF.has(t))try{lF||(lF=document.createElement("style"),lF.setAttribute("type","text/css"),document.head.appendChild(lF)),lF.sheet&&(lF.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),cF.add(t))}catch(x_){console.error(x_)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(CT))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(CT))},token:t,providedIn:"root"}),t})();function dF(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let fF=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new Mt.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return pF(bT(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=Xt(pF(bT(t)).map(t=>this._registerQuery(t).observable));return e=ne(e.pipe(de(1)),e.pipe(t=>t.lift(new aF(1)),dT(0))),e.pipe(Object(se.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new Gt.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(me(e),Object(se.a)(({matches:e})=>({query:t,matches:e})),WA(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(hF),i.Yb(i.A))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(hF),Object(i.Yb)(i.A))},token:t,providedIn:"root"}),t})();function pF(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function mF(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",1),i.Ub(1,"button",2),i.bc("click",function(){return i.rc(t),i.dc().action()}),i.zc(2),i.Tb(),i.Tb()}if(2&t){const t=i.dc();i.Cb(2),i.Ac(t.data.action)}}function gF(t,e){}const vF=new i.r("MatSnackBarData");class bF{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const yF=Math.pow(2,31)-1;class _F{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Mt.a,this._afterOpened=new Mt.a,this._onAction=new Mt.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,yF))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let wF=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(_F),i.Ob(vF))},t.\u0275cmp=i.Ib({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(i.Ub(0,"span"),i.zc(1),i.Tb(),i.yc(2,mF,3,1,"div",0)),2&t&&(i.Cb(1),i.Ac(e.data.message),i.Cb(1),i.kc("ngIf",e.hasAction))},directives:[B,LA],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const CF={snackBarState:ux("state",[dx("void, hidden",hx({transform:"scale(0.8)",opacity:0})),dx("visible",hx({transform:"scale(1)",opacity:1})),fx("* => visible",cx("150ms cubic-bezier(0, 0, 0.2, 1)")),fx("* => void, * => hidden",cx("75ms cubic-bezier(0.4, 0.0, 1, 1)",hx({opacity:0})))])};let OF=(()=>{class t extends HA{constructor(t,e,n,i,r){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this._platform=i,this.snackBarConfig=r,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Mt.a,this._onExit=new Mt.a,this._onEnter=new Mt.a,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._live="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(de(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.A),i.Ob(i.l),i.Ob(i.h),i.Ob(CT),i.Ob(bF))},t.\u0275cmp=i.Ib({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){if(1&t&&i.Dc(zA,3),2&t){let t;i.oc(t=i.cc())&&(e._portalOutlet=t.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&i.wc("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&i.xc("@state",e._animationState)},features:[i.zb],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(i.Ub(0,"div",0),i.yc(1,gF,0,0,"ng-template",1),i.Tb(),i.Pb(2,"div")),2&t&&(i.Cb(2),i.Db("aria-live",e._live)("role",e._role))},directives:[zA],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[CF.snackBarState]}}),t})(),EF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[bj,KA,tt,FA,Jk],Jk]}),t})();const SF=new i.r("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new bF}});let TF=(()=>{class t{constructor(t,e,n,i,r,o){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=i,this._parentSnackBar=r,this._defaultConfig=o,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=wF,this.snackBarContainerComponent=OF,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const i=Object.assign(Object.assign({},this._defaultConfig),n);return i.data={message:t,action:e},i.announcementMessage===t&&(i.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=i.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:bF,useValue:e}]}),r=new VA(this.snackBarContainerComponent,e.viewContainerRef,n),o=t.attach(r);return o.instance.snackBarConfig=e,o.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new bF),this._defaultConfig),e),r=this._createOverlay(n),o=this._attachSnackBarContainer(r,n),s=new _F(o,r);if(t instanceof i.M){const e=new UA(t,null,{$implicit:n.data,snackBarRef:s});s.instance=o.attachTemplatePortal(e)}else{const e=this._createInjector(n,s),i=new VA(t,void 0,e),r=o.attachComponentPortal(i);s.instance=r.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(WA(r.detachments())).subscribe(t=>{const e=r.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),n.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(s,n),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){const e=new WN;e.direction=t.direction;let n=this._overlay.position().global();const i="rtl"===t.direction,r="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!i||"end"===t.horizontalPosition&&i,o=!r&&"center"!==t.horizontalPosition;return r?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return i.s.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:_F,useValue:e},{provide:vF,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(dj),i.Yb(KT),i.Yb(i.s),i.Yb(fF),i.Yb(t,12),i.Yb(SF))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(dj),Object(i.Yb)(KT),Object(i.Yb)(i.o),Object(i.Yb)(fF),Object(i.Yb)(t,12),Object(i.Yb)(SF))},token:t,providedIn:EF}),t})();function xF(t,e){if(1&t&&(i.Ub(0,"div"),i.Ub(1,"div"),i.Pb(2,"img",6),i.Tb(),i.Tb()),2&t){const t=e.$implicit,n=i.dc(2);i.Cb(2),i.lc("src","/assets/img/",t,"",i.tc),i.kc("ngClass",n.comprobarSiImgCoincideColor(t)?"border":null)}}function IF(t,e){if(1&t&&(i.Ub(0,"div"),i.yc(1,xF,3,2,"div",5),i.Tb()),2&t){const t=i.dc();i.Cb(1),i.kc("ngForOf",t.producto.img)}}function kF(t,e){if(1&t){const t=i.Vb();i.Ub(0,"mat-chip",8),i.bc("click",function(){i.rc(t);const n=e.$implicit;return i.dc(2).seleccionoColor(n)}),i.zc(1),i.ec(2,"titlecase"),i.Tb()}if(2&t){const t=e.$implicit;i.Eb(t),i.Cb(1),i.Bc(" ",i.fc(2,4,t)," ")}}function AF(t,e){if(1&t&&(i.Ub(0,"div"),i.yc(1,kF,3,6,"mat-chip",7),i.Tb()),2&t){const t=i.dc();i.Cb(1),i.kc("ngForOf",t.producto.colores)}}function DF(t,e){if(1&t){const t=i.Vb();i.Ub(0,"mat-form-field",9),i.Ub(1,"mat-label"),i.zc(2),i.ec(3,"titlecase"),i.Tb(),i.Ub(4,"input",10),i.bc("ngModelChange",function(e){return i.rc(t),i.dc().cantidad=e}),i.Tb(),i.Ub(5,"mat-icon",11),i.bc("click",function(){return i.rc(t),i.dc().add()}),i.zc(6,"add_circle"),i.Tb(),i.Ub(7,"mat-icon",12),i.bc("click",function(){return i.rc(t),i.dc().remove()}),i.zc(8,"remove_circle"),i.Tb(),i.Tb()}if(2&t){const t=i.dc();i.Cb(2),i.Ac(i.fc(3,8,t.color)),i.Cb(2),i.kc("ngModel",t.cantidad),i.Cb(1),i.Fb("",t.color,"-icon"),i.Cb(2),i.Fb(" ",t.color,"-icon")}}function RF(t,e){if(1&t){const t=i.Vb();i.Ub(0,"button",3),i.bc("click",function(){return i.rc(t),i.dc().agregar()}),i.zc(1,"AGREGAR"),i.Tb()}}function PF(t,e){if(1&t){const t=i.Vb();i.Ub(0,"button",3),i.bc("click",function(){return i.rc(t),i.dc().pagar()}),i.zc(1,"PAGAR"),i.Tb()}}const NF=[{path:"",redirectTo:"productos",pathMatch:"full"},{path:"contacto",component:Lr},{path:"pasarela",component:AN},{path:"productos",component:sF},{path:"detalle-producto/:id",component:(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.afs=e,this.cestaServ=n,this._snackBar=i,this.colorServ=r,this.isOpen=!0,this.cantidad=0,this.showAgregar=!1,this.showPagar=!1}ngOnInit(){console.log("color seleccionado",this.colorServ.getColor()),this.colorServ.getColor()&&(this.color=this.colorServ.getColor()),localStorage.setItem("colorDetalle",this.color),this.idProducto=this.router.url.split("/")[2],this.afs.collection("productos").doc(this.idProducto).get().toPromise().then(t=>{this.producto=t.data()}),this.cestaServ.importeFinal$.subscribe(t=>{this.showPagar=t>0}),this.afs.collection("stocks").doc(this.idProducto).get().toPromise().then(t=>{console.log("stocks",t.data()),this.stocks=t.data()})}comprobarSiImgCoincideColor(t){const e=t.split("_")[1].split(".")[0]===this.color;return console.log("COINCIDE",e),e}volver(){this.router.navigateByUrl("productos")}pagar(){this.router.navigateByUrl("pasarela")}seleccionoColor(t){this.color=t,this.showAgregarF()}showAgregarF(){this.showAgregar=this.cantidad>0}agregar(){const t={id:this.idProducto,color:this.color,cantidad:this.cantidad,precio:this.producto.precio,precioOferta:this.producto.precioOferta},e=this.cestaServ.getProductos().find(t=>t.color===this.color&&t.id===this.idProducto);(e?e.cantidad+this.cantidad:this.cantidad)<=this.stocks[this.color]?(this.cestaServ.addProductoToArray(t),this.guardarLocalStorage(),this._snackBar.open("\xa1Producto a\xf1adido exitosamente!",null,{duration:1e3})):this._snackBar.open("No hay suficientes elementos en stock contactenos para saber existencias",null,{duration:1e3})}guardarLocalStorage(){const t=this.cestaServ.getProductos();console.log("STRINGIFIED ARRAYCESTA",JSON.stringify(t)),localStorage.setItem("arrayCesta",JSON.stringify(t))}add(){const t=this.stocks[this.color];console.log("CANTIDAD DE ESTE PRODUCTO EN STOCK",t),t>this.cantidad?(this.cantidad+=1,this.showAgregarF()):this._snackBar.open("No hay m\xe1s productos de esa selecci\xf3n",null,{duration:1e3})}remove(){0!==this.cantidad&&(this.cantidad-=1),this.showAgregarF(),console.log("REMOVE"),this._snackBar.open("\xa1Producto quitado!",null,{duration:1e3})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(gr),i.Ob(uT),i.Ob(lT),i.Ob(TF),i.Ob(DN))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-detalle-producto"]],decls:14,vars:7,consts:[[4,"ngIf"],["aria-label","Color selection",1,"mat-chip-list-stacked"],["appearance","outline",4,"ngIf"],[3,"click"],[3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngClass","src"],["style","cursor: pointer",3,"class","click",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],["appearance","outline"],["onkeypress","return (event.charCode >= 48 && event.charCode <= 57)","min","0","maxlength","9","type","number","matInput","","placeholder","Cantidad",3,"ngModel","ngModelChange"],["matSuffix","",2,"cursor","pointer",3,"click"],["matPrefix","",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(i.Ub(0,"h1"),i.zc(1),i.Tb(),i.Ub(2,"h2"),i.zc(3),i.Tb(),i.yc(4,IF,2,1,"div",0),i.Ub(5,"div"),i.Ub(6,"mat-chip-list",1),i.yc(7,AF,2,1,"div",0),i.Tb(),i.yc(8,DF,9,10,"mat-form-field",2),i.Tb(),i.Pb(9,"app-carrito"),i.Ub(10,"button",3),i.bc("click",function(){return e.volver()}),i.zc(11,"VOLVER"),i.Tb(),i.yc(12,RF,2,0,"button",4),i.yc(13,PF,2,0,"button",4)),2&t&&(i.Cb(1),i.Bc(" ",null==e.producto?null:e.producto.nombre," "),i.Cb(2),i.Bc("",(null==e.producto?null:e.producto.precioOferta)||(null==e.producto?null:e.producto.precio)," "),i.Cb(1),i.kc("ngIf",e.producto),i.Cb(3),i.kc("ngIf",e.producto),i.Cb(1),i.kc("ngIf",e.color),i.Cb(4),i.kc("ngIf",e.showAgregar),i.Cb(1),i.kc("ngIf",e.showPagar))},directives:[B,oN,cN,V,F,ZP,KP,NP,Zo,EN,Kr,as,bo,Qo,iR,VP,FP],pipes:[J],styles:["mat-chip[_ngcontent-%COMP%]{max-width:100px}.verde[_ngcontent-%COMP%]{background-color:green!important;color:#fff}.marron[_ngcontent-%COMP%]{background-color:#deb887!important}.rojo[_ngcontent-%COMP%]{background-color:red!important;color:#fff}.negro[_ngcontent-%COMP%]{background-color:#000!important;color:#fff;text-align:center}.blanco[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.azul[_ngcontent-%COMP%]{background-color:#202094!important;color:#fff}.celeste[_ngcontent-%COMP%]{background-color:#44e0e6!important}.bordo[_ngcontent-%COMP%]{background-color:#722929!important;color:#fff}.verde-icon[_ngcontent-%COMP%]{color:green!important}.marron-icon[_ngcontent-%COMP%]{color:#deb887!important}.rojo-icon[_ngcontent-%COMP%]{color:red!important}.negro-icon[_ngcontent-%COMP%]{color:#000!important}.blanco-icon[_ngcontent-%COMP%]{color:#fff!important}.azul-icon[_ngcontent-%COMP%]{color:#202094!important}.celeste-icon[_ngcontent-%COMP%]{color:#44e0e6!important}.bordo-icon[_ngcontent-%COMP%]{color:#722929!important}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.mat-form-field[_ngcontent-%COMP%]{margin-right:8px}.border[_ngcontent-%COMP%]{border:3px solid red}"],data:{animation:[ux("openClose",[dx("open",hx({height:"200px",opacity:1,backgroundColor:"yellow"})),dx("closed",hx({height:"100px",opacity:.5,backgroundColor:"green"})),fx("open => closed",[cx("1s")]),fx("closed => open",[cx("0.5s")])])]}}),t})()},{path:"**",redirectTo:"productos",pathMatch:"full"}];let jF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[xr.forRoot(NF)],xr]}),t})();const LF=["*",[["mat-toolbar-row"]]],FF=["*","mat-toolbar-row"];class MF{constructor(t){this._elementRef=t}}const VF=tA(MF);let UF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),BF=(()=>{class t extends VF{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(CT),i.Ob(s))},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&i.Hb(n,UF,1),2&t){let t;i.oc(t=i.cc())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&i.Gb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[i.zb],ngContentSelectors:FF,decls:2,vars:0,template:function(t,e){1&t&&(i.jc(LF),i.ic(0),i.ic(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),HF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[Jk],Jk]}),t})(),qF=(()=>{class t{constructor(t){this.route=t,this.title="Tienda Bolsos"}pasarela(){this.route.navigateByUrl("pasarela")}home(){this.route.navigateByUrl("productos")}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(gr))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-header"]],decls:10,vars:1,consts:[["color","primary"],["mat-icon-button","","aria-label","Home icon",3,"click"],[1,"title"],["mat-icon-button","","aria-label","admin panel settings icon",3,"click"]],template:function(t,e){1&t&&(i.Ub(0,"mat-toolbar",0),i.Ub(1,"button",1),i.bc("click",function(){return e.home()}),i.Ub(2,"mat-icon"),i.zc(3,"home"),i.Tb(),i.Tb(),i.Ub(4,"span",2),i.zc(5),i.Tb(),i.Ub(6,"button",3),i.bc("click",function(){return e.pasarela()}),i.Ub(7,"mat-icon"),i.zc(8,"shopping_bag"),i.Tb(),i.Tb(),i.Pb(9,"app-importe-pagar"),i.Tb()),2&t&&(i.Cb(5),i.Ac(e.title))},directives:[BF,LA,iR,lN],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:20px;text-align:center;padding:20px}.title[_ngcontent-%COMP%]{margin:auto}"]}),t})(),zF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Pb(0,"app-header"),i.Pb(1,"router-outlet"))},directives:[qF,vr],styles:[""]}),t})();function KF(t){const e=function(t){return new Gt.a(e=>{const n=t=>e.next(t);n(t.snapshot);const i=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},i=>{n(t.snapshot),(t=>{e.error(t)})(i)}),function(){i()}}).pipe(dT(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(se.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function WF(t,e,n){return{getDownloadURL:()=>Object(Ft.a)(void 0).pipe(Object(IS.b)(e.outsideAngular),ue(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Ft.a)(void 0).pipe(Object(IS.b)(e.outsideAngular),ue(()=>t.getMetadata()),n),delete:()=>Object(Lt.a)(t.delete()),child:i=>WF(t.child(i),e,n),updateMetadata:e=>Object(Lt.a)(t.updateMetadata(e)),put:(e,n)=>KF(t.put(e,n)),putString:(e,n,i)=>KF(t.putString(e,n,i)),listAll:()=>Object(Lt.a)(t.listAll())}}const GF=new i.r("angularfire2.storageBucket"),YF=new i.r("angularfire2.storage.maxUploadRetryTime"),$F=new i.r("angularfire2.storage.maxOperationRetryTime");let QF=(()=>{class t{constructor(t,e,n,i,r,o,s){this.schedulers=new kS.d(r),this.keepUnstableUntilFirst=Object(kS.h)(this.schedulers);const a=Object(kS.g)(t,r,e);this.storage=Object(kS.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=r.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return WF(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return WF(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return WF(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(kS.c),i.Yb(kS.b,8),i.Yb(GF,8),i.Yb(i.C),i.Yb(i.A),i.Yb(YF,8),i.Yb($F,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.Yb)(kS.c),Object(i.Yb)(kS.b,8),Object(i.Yb)(GF,8),Object(i.Yb)(i.C),Object(i.Yb)(i.A),Object(i.Yb)(YF,8),Object(i.Yb)($F,8))},token:t,providedIn:"any"}),t})(),XF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({}),t})(),JF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[QF],imports:[XF]}),t})();function ZF(t,e){}class tM{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const eM={dialogContainer:ux("dialogContainer",[dx("void, exit",hx({opacity:0,transform:"scale(0.7)"})),dx("enter",hx({transform:"none"})),fx("* => enter",cx("150ms cubic-bezier(0, 0, 0.2, 1)",hx({transform:"none",opacity:1}))),fx("* => void, * => exit",cx("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",hx({opacity:0})))])};let nM=(()=>{class t extends HA{constructor(t,e,n,r,o,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=o,this._focusMonitor=s,this._animationStateChanged=new i.n,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._getActiveElement(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._getActiveElement();return t===e||t.contains(e)}_getActiveElement(){var t;const e=this._document.activeElement;return(null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.activeElement)||e}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(HT),i.Ob(i.h),i.Ob(s,8),i.Ob(tM),i.Ob(QT))},t.\u0275dir=i.Jb({type:t,viewQuery:function(t,e){if(1&t&&i.Dc(zA,3),2&t){let t;i.oc(t=i.cc())&&(e._portalOutlet=t.first)}},features:[i.zb]}),t})(),iM=(()=>{class t extends nM{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return rM(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&i.wc("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(i.Xb("id",e._id),i.Db("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),i.xc("@dialogContainer",e._state))},features:[i.zb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&i.yc(0,ZF,0,0,"ng-template",0)},directives:[zA],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[eM.dialogContainer]}}),t})();const rM=i.Wb(iM);let oM=0;class sM{constructor(t,e,n="mat-dialog-"+oM++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Mt.a,this._afterClosed=new Mt.a,this._beforeClosed=new Mt.a,this._state=0,e._id=n,e._animationStateChanged.pipe(ye(t=>"opened"===t.state),de(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(ye(t=>"closed"===t.state),de(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(ye(t=>27===t.keyCode&&!this.disableClose&&!hT(t))).subscribe(t=>{t.preventDefault(),aM(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():aM(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ye(t=>"closing"===t.state),de(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function aM(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const uM=new i.r("MatDialogData"),cM=new i.r("mat-dialog-default-options"),lM=new i.r("mat-dialog-scroll-strategy"),hM={provide:lM,deps:[dj],useFactory:function(t){return()=>t.scrollStrategies.block()}};let dM=(()=>{class t{constructor(t,e,n,i,r,o,s,a,u){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=i,this._overlayContainer=r,this._dialogRefConstructor=s,this._dialogContainerType=a,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Mt.a,this._afterOpenedAtThisLevel=new Mt.a,this._ariaHiddenElements=new Map,this.afterAllClosed=re(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(me(void 0))),this._scrollStrategy=o}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new tM)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),r=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),i._initializeWithAttachedContent(),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new WN({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=i.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:tM,useValue:e}]}),r=new VA(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(r).instance}_attachDialogContent(t,e,n,r){const o=new this._dialogRefConstructor(n,e,r.id);if(t instanceof i.M)e.attachTemplatePortal(new UA(t,null,{$implicit:r.data,dialogRef:o}));else{const n=this._createInjector(r,o,e),i=e.attachComponentPortal(new VA(t,r.viewContainerRef,n));o.componentInstance=i.instance}return o.updateSize(r.width,r.height).updatePosition(r.position),o}_createInjector(t,e,n){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||r&&r.get(ix,null)||o.push({provide:ix,useValue:{value:t.direction,change:Object(Ft.a)()}}),i.s.create({parent:r||this._injector,providers:o})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(dj),i.Ob(i.s),i.Ob(void 0),i.Ob(void 0),i.Ob(ZN),i.Ob(void 0),i.Ob(i.O),i.Ob(i.O),i.Ob(i.r))},t.\u0275dir=i.Jb({type:t}),t})(),fM=(()=>{class t extends dM{constructor(t,e,n,i,r,o,s){super(t,e,i,o,s,r,sM,iM,uM)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(dj),i.Yb(i.s),i.Yb(w,8),i.Yb(cM,8),i.Yb(lM),i.Yb(t,12),i.Yb(ZN))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),pM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[fM,hM],imports:[[bj,KA,Jk],Jk]}),t})();n("WMd4");const mM={provide:new i.r("mat-menu-scroll-strategy"),deps:[dj],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let gM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[mM],imports:[Jk]}),t})(),vM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[mM],imports:[[tt,Jk,gA,bj,gM],NN,Jk,gM]}),t})();const bM={apiKey:"AIzaSyDB7nuA3ZvZT8QiJ4GISDvyJ_eB6gnUmGM",authDomain:"tienda-bolsos-58fb2.firebaseapp.com",projectId:"tienda-bolsos-58fb2",storageBucket:"tienda-bolsos-58fb2.appspot.com",messagingSenderId:"958763204957",appId:"1:958763204957:web:7604c339f37d9ad1efa8b4",measurementId:"G-9C3C99YKGW"};let yM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t,bootstrap:[zF]}),t.\u0275inj=i.Lb({providers:[],imports:[[jt,jF,kS.a.initializeApp(bM),cT,WS,JF,KR,FA,Kk,tF,rR,pM,vM,aP,aN,PR,cs,ls,WP,SN,HF,EF,Bj,LL,HD]]}),t})();Object(i.U)(),Pt().bootstrapModule(yM).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var i=n("7o/Q"),r=n("HDdC"),o=n("SeVD");class s extends i.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends i.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof r.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(i){e.error(i)}return n}}},[[0,0]]]);